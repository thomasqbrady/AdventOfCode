{
  "version": 3,
  "sources": ["../../svelte/src/compiler/Stats.js", "../../svelte/src/compiler/utils/flatten.js", "../../svelte/src/compiler/utils/patterns.js", "../../svelte/src/compiler/utils/extract_svelte_ignore.js", "../../svelte/src/compiler/utils/fuzzymatch.js", "../../svelte/src/compiler/utils/list.js", "../../svelte/src/compiler/parse/errors.js", "../../svelte/src/compiler/parse/acorn.js", "../../svelte/src/compiler/parse/read/expression.js", "../../svelte/src/compiler/parse/read/script.js", "../../svelte/src/compiler/parse/read/css-tree-cq/node/index.js", "../../svelte/src/compiler/parse/read/css-tree-cq/node/comparison.js", "../../svelte/src/compiler/parse/read/css-tree-cq/node/container_feature_style.js", "../../svelte/src/compiler/parse/read/css-tree-cq/node/container_query.js", "../../svelte/src/compiler/parse/read/css-tree-cq/node/lookahead_is_range.js", "../../svelte/src/compiler/parse/read/css-tree-cq/node/media_query.js", "../../svelte/src/compiler/parse/read/css-tree-cq/node/query_feature.js", "../../svelte/src/compiler/parse/read/css-tree-cq/node/query_feature_range.js", "../../svelte/src/compiler/parse/read/css-tree-cq/node/query_css_function.js", "../../svelte/src/compiler/parse/read/css-tree-cq/css_tree_parse.js", "../../svelte/src/compiler/parse/read/style.js", "../../svelte/src/compiler/parse/utils/entities.js", "../../svelte/src/compiler/parse/utils/html.js", "../../svelte/src/compiler/parse/state/tag.js", "../../svelte/src/compiler/utils/full_char_code_at.js", "../../svelte/src/compiler/parse/utils/bracket.js", "../../svelte/src/compiler/parse/read/context.js", "../../svelte/src/compiler/utils/trim.js", "../../svelte/src/compiler/parse/utils/node.js", "../../svelte/src/compiler/parse/state/mustache.js", "../../svelte/src/compiler/parse/state/text.js", "../../svelte/src/compiler/parse/state/fragment.js", "../../svelte/src/compiler/utils/names.js", "../../svelte/src/compiler/utils/get_code_frame.js", "../../svelte/src/compiler/utils/error.js", "../../svelte/src/compiler/parse/index.js", "../../svelte/src/compiler/compile/render_dom/wrappers/shared/is_head.js", "../../svelte/src/compiler/compile/render_dom/Block.js", "../../svelte/src/compiler/compile/render_dom/wrappers/shared/Wrapper.js", "../../svelte/src/compiler/compile/render_dom/wrappers/shared/create_debugging_comment.js", "../../svelte/src/compiler/compile/nodes/shared/Node.js", "../../svelte/src/compiler/compile/compiler_warnings.js", "../../svelte/src/compiler/compile/nodes/shared/AbstractBlock.js", "../../svelte/src/compiler/compile/utils/flatten_reference.js", "../../svelte/src/compiler/compile/utils/scope.js", "../../svelte/src/compiler/compile/utils/get_object.js", "../../svelte/src/compiler/compile/utils/reserved_keywords.js", "../../svelte/src/compiler/compile/render_dom/wrappers/shared/is_dynamic.js", "../../svelte/src/compiler/utils/nodes_match.js", "../../svelte/src/compiler/compile/render_dom/invalidate.js", "../../svelte/src/compiler/compile/utils/replace_object.js", "../../svelte/src/compiler/compile/nodes/shared/is_contextual.js", "../../svelte/src/compiler/utils/clone.js", "../../svelte/src/compiler/compile/compiler_errors.js", "../../svelte/src/compiler/compile/nodes/shared/Expression.js", "../../svelte/src/compiler/compile/nodes/shared/Context.js", "../../svelte/src/compiler/compile/nodes/ConstTag.js", "../../svelte/src/compiler/compile/nodes/PendingBlock.js", "../../svelte/src/compiler/compile/nodes/CatchBlock.js", "../../svelte/src/compiler/compile/nodes/AwaitBlock.js", "../../svelte/src/compiler/compile/nodes/EventHandler.js", "../../svelte/src/compiler/compile/nodes/Action.js", "../../svelte/src/compiler/compile/nodes/Body.js", "../../svelte/src/compiler/compile/nodes/Comment.js", "../../svelte/src/compiler/compile/nodes/ElseBlock.js", "../../svelte/src/compiler/compile/nodes/EachBlock.js", "../../svelte/src/compiler/compile/nodes/Binding.js", "../../svelte/src/compiler/compile/nodes/Document.js", "../../svelte/src/compiler/compile/utils/stringify.js", "../../svelte/src/compiler/compile/utils/add_to_set.js", "../../svelte/src/compiler/compile/nodes/Attribute.js", "../../svelte/src/compiler/compile/nodes/Transition.js", "../../svelte/src/compiler/compile/nodes/Animation.js", "../../svelte/src/compiler/compile/nodes/Class.js", "../../svelte/src/compiler/compile/utils/nodes_to_template_literal.js", "../../svelte/src/compiler/compile/nodes/StyleDirective.js", "../../svelte/src/compiler/compile/nodes/Text.js", "../../svelte/src/compiler/utils/namespaces.js", "../../svelte/src/compiler/compile/utils/contenteditable.js", "../../svelte/src/compiler/compile/utils/hash.js", "../../svelte/src/compiler/compile/nodes/Let.js", "../../svelte/src/compiler/compile/nodes/Element.js", "../../svelte/src/compiler/compile/utils/a11y.js", "../../svelte/src/compiler/compile/nodes/Head.js", "../../svelte/src/compiler/compile/nodes/IfBlock.js", "../../svelte/src/compiler/compile/nodes/InlineComponent.js", "../../svelte/src/compiler/compile/nodes/KeyBlock.js", "../../svelte/src/compiler/compile/nodes/shared/Tag.js", "../../svelte/src/compiler/compile/nodes/MustacheTag.js", "../../svelte/src/compiler/compile/nodes/Options.js", "../../svelte/src/compiler/compile/nodes/RawMustacheTag.js", "../../svelte/src/compiler/compile/nodes/DebugTag.js", "../../svelte/src/compiler/compile/nodes/Slot.js", "../../svelte/src/compiler/compile/nodes/SlotTemplate.js", "../../svelte/src/compiler/compile/nodes/Title.js", "../../svelte/src/compiler/compile/nodes/Window.js", "../../svelte/src/compiler/utils/push_array.js", "../../svelte/src/compiler/compile/nodes/shared/map_children.js", "../../svelte/src/compiler/compile/utils/check_graph_for_cycles.js", "../../svelte/src/compiler/compile/nodes/shared/get_const_tags.js", "../../svelte/src/compiler/compile/nodes/ThenBlock.js", "../../svelte/src/compiler/compile/render_dom/wrappers/shared/add_const_tags.js", "../../svelte/src/compiler/compile/render_dom/wrappers/AwaitBlock.js", "../../svelte/src/compiler/compile/render_dom/wrappers/Element/EventHandler.js", "../../svelte/src/compiler/compile/render_dom/wrappers/shared/add_event_handlers.js", "../../svelte/src/compiler/compile/render_dom/wrappers/shared/add_actions.js", "../../svelte/src/compiler/compile/render_dom/wrappers/Body.js", "../../svelte/src/compiler/compile/render_dom/wrappers/DebugTag.js", "../../svelte/src/compiler/compile/render_dom/wrappers/Document.js", "../../svelte/src/compiler/compile/render_dom/wrappers/EachBlock.js", "../../svelte/src/compiler/compile/render_dom/wrappers/Text.js", "../../svelte/src/compiler/compile/render_dom/wrappers/Element/fix_attribute_casing.js", "../../svelte/src/compiler/compile/render_dom/wrappers/Element/handle_select_value_binding.js", "../../svelte/src/compiler/compile/render_dom/wrappers/Element/Attribute.js", "../../svelte/src/compiler/compile/render_dom/wrappers/Element/StyleAttribute.js", "../../svelte/src/compiler/compile/render_dom/wrappers/Element/SpreadAttribute.js", "../../svelte/src/compiler/compile/render_dom/wrappers/shared/mark_each_block_bindings.js", "../../svelte/src/compiler/compile/render_dom/wrappers/Element/Binding.js", "../../svelte/src/compiler/compile/utils/compare_node.js", "../../svelte/src/compiler/compile/render_dom/wrappers/shared/bind_this.js", "../../svelte/src/compiler/compile/render_dom/wrappers/shared/Tag.js", "../../svelte/src/compiler/compile/render_dom/wrappers/MustacheTag.js", "../../svelte/src/compiler/compile/render_dom/wrappers/RawMustacheTag.js", "../../svelte/src/compiler/compile/render_dom/wrappers/Comment.js", "../../svelte/src/compiler/compile/render_dom/wrappers/Element/index.js", "../../svelte/src/compiler/compile/render_dom/wrappers/Head.js", "../../svelte/src/compiler/compile/render_dom/wrappers/IfBlock.js", "../../svelte/src/compiler/compile/render_dom/wrappers/KeyBlock.js", "../../svelte/src/compiler/compile/utils/string_to_member_expression.js", "../../svelte/src/compiler/compile/render_dom/wrappers/shared/get_slot_definition.js", "../../svelte/src/compiler/compile/render_dom/wrappers/SlotTemplate.js", "../../svelte/src/compiler/compile/render_dom/wrappers/InlineComponent/index.js", "../../svelte/src/compiler/compile/utils/get_slot_data.js", "../../svelte/src/compiler/compile/render_dom/wrappers/Slot.js", "../../svelte/src/compiler/compile/render_dom/wrappers/Title.js", "../../svelte/src/compiler/compile/render_dom/wrappers/Window.js", "../../svelte/src/compiler/utils/link.js", "../../svelte/src/compiler/compile/render_dom/wrappers/Fragment.js", "../../svelte/src/compiler/compile/render_dom/Renderer.js", "../../svelte/src/compiler/utils/mapped_code.js", "../../svelte/src/compiler/compile/utils/check_enable_sourcemap.js", "../../svelte/src/compiler/compile/render_dom/index.js", "../../svelte/src/compiler/compile/render_ssr/handlers/shared/get_const_tags.js", "../../svelte/src/compiler/compile/render_ssr/handlers/AwaitBlock.js", "../../svelte/src/compiler/compile/render_ssr/handlers/Comment.js", "../../svelte/src/compiler/compile/render_ssr/handlers/DebugTag.js", "../../svelte/src/compiler/compile/render_ssr/handlers/EachBlock.js", "../../svelte/src/compiler/compile/render_ssr/handlers/shared/get_attribute_value.js", "../../svelte/src/compiler/compile/render_ssr/handlers/utils/remove_whitespace_children.js", "../../svelte/src/compiler/compile/render_ssr/handlers/Element.js", "../../svelte/src/compiler/compile/render_ssr/handlers/Head.js", "../../svelte/src/compiler/compile/render_ssr/handlers/HtmlTag.js", "../../svelte/src/compiler/compile/render_ssr/handlers/IfBlock.js", "../../svelte/src/compiler/compile/render_ssr/handlers/InlineComponent.js", "../../svelte/src/compiler/compile/render_ssr/handlers/KeyBlock.js", "../../svelte/src/compiler/compile/render_ssr/handlers/shared/get_slot_scope.js", "../../svelte/src/compiler/compile/render_ssr/handlers/Slot.js", "../../svelte/src/compiler/compile/render_ssr/handlers/SlotTemplate.js", "../../svelte/src/compiler/compile/render_ssr/handlers/Tag.js", "../../svelte/src/compiler/compile/render_ssr/handlers/Text.js", "../../svelte/src/compiler/compile/render_ssr/handlers/Title.js", "../../svelte/src/compiler/compile/utils/collapse_template_literal.js", "../../svelte/src/compiler/compile/render_ssr/Renderer.js", "../../svelte/src/compiler/compile/render_ssr/index.js", "../../svelte/src/compiler/compile/Component.js", "../../svelte/src/compiler/utils/globals.js", "../../svelte/src/compiler/compile/create_module.js", "../../svelte/src/compiler/compile/css/gather_possible_values.js", "../../svelte/src/compiler/compile/css/Selector.js", "../../svelte/src/compiler/compile/css/Stylesheet.js", "../../svelte/src/compiler/compile/nodes/shared/TemplateScope.js", "../../svelte/src/compiler/compile/nodes/Fragment.js", "../../svelte/src/compiler/compile/internal_exports.js", "../../svelte/src/compiler/compile/utils/is_used_as_reference.js", "../../svelte/src/compiler/compile/utils/get_name_from_filename.js", "../../svelte/src/compiler/compile/index.js", "../../svelte/src/compiler/preprocess/decode_sourcemap.js", "../../svelte/src/compiler/preprocess/replace_in_code.js", "../../svelte/src/compiler/preprocess/index.js"],
  "sourcesContent": ["const now = () => performance.now();\n\n/** @param {any} timings */\nfunction collapse_timings(timings) {\n\tconst result = {};\n\ttimings.forEach((timing) => {\n\t\tresult[timing.label] = Object.assign(\n\t\t\t{\n\t\t\t\ttotal: timing.end - timing.start\n\t\t\t},\n\t\t\ttiming.children && collapse_timings(timing.children)\n\t\t);\n\t});\n\treturn result;\n}\n\nexport default class Stats {\n\t/**\n\t * @typedef {Object} Timing\n\t * @property {string} label\n\t * @property {number} start\n\t * @property {number} end\n\t * @property {Timing[]} children\n\t */\n\n\t/** @type {number} */\n\tstart_time;\n\n\t/** @type {Timing} */\n\tcurrent_timing;\n\n\t/** @type {Timing[]} */\n\tcurrent_children;\n\n\t/** @type {Timing[]} */\n\ttimings;\n\n\t/** @type {Timing[]} */\n\tstack;\n\tconstructor() {\n\t\tthis.start_time = now();\n\t\tthis.stack = [];\n\t\tthis.current_children = this.timings = [];\n\t}\n\n\t/** @param {any} label */\n\tstart(label) {\n\t\tconst timing = {\n\t\t\tlabel,\n\t\t\tstart: now(),\n\t\t\tend: null,\n\t\t\tchildren: []\n\t\t};\n\t\tthis.current_children.push(timing);\n\t\tthis.stack.push(timing);\n\t\tthis.current_timing = timing;\n\t\tthis.current_children = timing.children;\n\t}\n\n\t/** @param {any} label */\n\tstop(label) {\n\t\tif (label !== this.current_timing.label) {\n\t\t\tthrow new Error(\n\t\t\t\t`Mismatched timing labels (expected ${this.current_timing.label}, got ${label})`\n\t\t\t);\n\t\t}\n\t\tthis.current_timing.end = now();\n\t\tthis.stack.pop();\n\t\tthis.current_timing = this.stack[this.stack.length - 1];\n\t\tthis.current_children = this.current_timing ? this.current_timing.children : this.timings;\n\t}\n\trender() {\n\t\tconst timings = Object.assign(\n\t\t\t{\n\t\t\t\ttotal: now() - this.start_time\n\t\t\t},\n\t\t\tcollapse_timings(this.timings)\n\t\t);\n\t\treturn {\n\t\t\ttimings\n\t\t};\n\t}\n}\n", "/**\n * @template T\n * @overload\n * @param {T[][]} nodes\n * @param {T[]} [target]\n * @returns {T[]}\n */\n\n/**\n * @template T\n * @overload\n * @param {T[]} nodes\n * @param {T[]} [target]\n * @returns {T[]}\n */\n\n/**\n * @param {any[]} nodes\n * @param {any[]} [target]\n * @returns {any[]}\n */\nexport function flatten(nodes, target = []) {\n\tfor (let i = 0; i < nodes.length; i += 1) {\n\t\tconst node = nodes[i];\n\t\tif (Array.isArray(node)) {\n\t\t\tflatten(node, target);\n\t\t} else {\n\t\t\ttarget.push(node);\n\t\t}\n\t}\n\n\treturn target;\n}\n", "export const regex_whitespace = /\\s/;\nexport const regex_whitespaces = /\\s+/;\nexport const regex_starts_with_whitespace = /^\\s/;\nexport const regex_starts_with_whitespaces = /^[ \\t\\r\\n]*/;\nexport const regex_ends_with_whitespace = /\\s$/;\nexport const regex_ends_with_whitespaces = /[ \\t\\r\\n]*$/;\nexport const regex_only_whitespaces = /^[ \\t\\n\\r\\f]+$/;\n\nexport const regex_whitespace_characters = /\\s/g;\nexport const regex_non_whitespace_character = /\\S/;\n\nexport const regex_starts_with_newline = /^\\r?\\n/;\nexport const regex_not_newline_characters = /[^\\n]/g;\n\nexport const regex_double_quotes = /\"/g;\n\nexport const regex_backslashes = /\\\\/g;\n\nexport const regex_starts_with_underscore = /^_/;\nexport const regex_ends_with_underscore = /_$/;\n\nexport const regex_invalid_variable_identifier_characters = /[^a-zA-Z0-9_$]/g;\n\nexport const regex_dimensions = /^(?:offset|client)(?:Width|Height)$/;\n\nexport const regex_content_rect = /^(?:contentRect)$/;\nexport const regex_content_box_size = /^(?:contentBoxSize)$/;\nexport const regex_border_box_size = /^(?:borderBoxSize)$/;\nexport const regex_device_pixel_content_box_size = /^(?:devicePixelContentBoxSize)$/;\nexport const regex_box_size =\n\t/^(?:contentRect|contentBoxSize|borderBoxSize|devicePixelContentBoxSize)$/;\n", "import { flatten } from './flatten.js';\nimport { regex_whitespace } from './patterns.js';\n\nconst regex_svelte_ignore = /^\\s*svelte-ignore\\s+([\\s\\S]+)\\s*$/m;\n\n/**\n * @param {string} text\n * @returns {string[]}\n */\nexport function extract_svelte_ignore(text) {\n\tconst match = regex_svelte_ignore.exec(text);\n\treturn match\n\t\t? match[1]\n\t\t\t\t.split(regex_whitespace)\n\t\t\t\t.map((x) => x.trim())\n\t\t\t\t.filter(Boolean)\n\t\t: [];\n}\n\n/**\n * @param {import('estree').Node} node\n * @returns {string[]}\n */\nexport function extract_svelte_ignore_from_comments(node) {\n\treturn flatten(\n\t\t(node.leadingComments || []).map((comment) => extract_svelte_ignore(comment.value))\n\t);\n}\n\n/**\n * @param {number} position\n * @param {import('../interfaces.js').TemplateNode[]} template_nodes\n * @returns {string[]}\n */\nexport function extract_ignores_above_position(position, template_nodes) {\n\tconst previous_node_idx = template_nodes.findIndex((child) => child.end === position);\n\tif (previous_node_idx === -1) {\n\t\treturn [];\n\t}\n\tfor (let i = previous_node_idx; i >= 0; i--) {\n\t\tconst node = template_nodes[i];\n\t\tif (node.type !== 'Comment' && node.type !== 'Text') {\n\t\t\treturn [];\n\t\t}\n\t\tif (node.type === 'Comment') {\n\t\t\tif (node.ignores.length) {\n\t\t\t\treturn node.ignores;\n\t\t\t}\n\t\t}\n\t}\n\treturn [];\n}\n\n/**\n * @param {import('../compile/nodes/interfaces.js').INode} node\n * @returns {string[]}\n */\nexport function extract_ignores_above_node(node) {\n\t/**\n\t * This utilizes the fact that node has a prev and a next attribute\n\t * which means that it can find svelte-ignores along\n\t * the nodes on the same level as itself who share the same parent.\n\t */\n\tlet cur_node = node.prev;\n\twhile (cur_node) {\n\t\tif (cur_node.type !== 'Comment' && cur_node.type !== 'Text') {\n\t\t\treturn [];\n\t\t}\n\t\tif (cur_node.type === 'Comment' && cur_node.ignores.length) {\n\t\t\treturn cur_node.ignores;\n\t\t}\n\t\tcur_node = cur_node.prev;\n\t}\n\treturn [];\n}\n", "/**\n * @param {string} name\n * @param {string[]} names\n */\nexport default function fuzzymatch(name, names) {\n\tconst set = new FuzzySet(names);\n\tconst matches = set.get(name);\n\treturn matches && matches[0] && matches[0][0] > 0.7 ? matches[0][1] : null;\n}\n\n// adapted from https://github.com/Glench/fuzzyset.js/blob/master/lib/fuzzyset.js\n// BSD Licensed\nconst GRAM_SIZE_LOWER = 2;\nconst GRAM_SIZE_UPPER = 3;\n// return an edit distance from 0 to 1\n\n/**\n * @param {string} str1\n * @param {string} str2\n */\nfunction _distance(str1, str2) {\n\tif (str1 === null && str2 === null) {\n\t\tthrow 'Trying to compare two null values';\n\t}\n\tif (str1 === null || str2 === null) return 0;\n\tstr1 = String(str1);\n\tstr2 = String(str2);\n\tconst distance = levenshtein(str1, str2);\n\treturn 1 - distance / Math.max(str1.length, str2.length);\n}\n\n// helper functions\n\n/**\n * @param {string} str1\n * @param {string} str2\n */\nfunction levenshtein(str1, str2) {\n\t/**\n\t * @type {number[]}\n\t */\n\tconst current = [];\n\tlet prev;\n\tlet value;\n\tfor (let i = 0; i <= str2.length; i++) {\n\t\tfor (let j = 0; j <= str1.length; j++) {\n\t\t\tif (i && j) {\n\t\t\t\tif (str1.charAt(j - 1) === str2.charAt(i - 1)) {\n\t\t\t\t\tvalue = prev;\n\t\t\t\t} else {\n\t\t\t\t\tvalue = Math.min(current[j], current[j - 1], prev) + 1;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tvalue = i + j;\n\t\t\t}\n\t\t\tprev = current[j];\n\t\t\tcurrent[j] = value;\n\t\t}\n\t}\n\treturn current.pop();\n}\n\nconst non_word_regex = /[^\\w, ]+/;\n\n/**\n * @param {string} value\n * @param {any} gram_size\n */\nfunction iterate_grams(value, gram_size = 2) {\n\tconst simplified = '-' + value.toLowerCase().replace(non_word_regex, '') + '-';\n\tconst len_diff = gram_size - simplified.length;\n\tconst results = [];\n\tif (len_diff > 0) {\n\t\tfor (let i = 0; i < len_diff; ++i) {\n\t\t\tvalue += '-';\n\t\t}\n\t}\n\tfor (let i = 0; i < simplified.length - gram_size + 1; ++i) {\n\t\tresults.push(simplified.slice(i, i + gram_size));\n\t}\n\treturn results;\n}\n\n/**\n * @param {string} value\n * @param {any} gram_size\n */\nfunction gram_counter(value, gram_size = 2) {\n\t// return an object where key=gram, value=number of occurrences\n\tconst result = {};\n\tconst grams = iterate_grams(value, gram_size);\n\tlet i = 0;\n\tfor (i; i < grams.length; ++i) {\n\t\tif (grams[i] in result) {\n\t\t\tresult[grams[i]] += 1;\n\t\t} else {\n\t\t\tresult[grams[i]] = 1;\n\t\t}\n\t}\n\treturn result;\n}\n\n/**\n * @param {any} a\n * @param {any} b\n */\nfunction sort_descending(a, b) {\n\treturn b[0] - a[0];\n}\n\nclass FuzzySet {\n\texact_set = {};\n\tmatch_dict = {};\n\titems = {};\n\n\t/**\n\t * @param {string[]} arr\n\t */\n\tconstructor(arr) {\n\t\t// initialization\n\t\tfor (let i = GRAM_SIZE_LOWER; i < GRAM_SIZE_UPPER + 1; ++i) {\n\t\t\tthis.items[i] = [];\n\t\t}\n\t\t// add all the items to the set\n\t\tfor (let i = 0; i < arr.length; ++i) {\n\t\t\tthis.add(arr[i]);\n\t\t}\n\t}\n\n\t/**\n\t * @param {string} value\n\t */\n\tadd(value) {\n\t\tconst normalized_value = value.toLowerCase();\n\t\tif (normalized_value in this.exact_set) {\n\t\t\treturn false;\n\t\t}\n\t\tlet i = GRAM_SIZE_LOWER;\n\t\tfor (i; i < GRAM_SIZE_UPPER + 1; ++i) {\n\t\t\tthis._add(value, i);\n\t\t}\n\t}\n\n\t/**\n\t * @param {string} value\n\t * @param {number} gram_size\n\t */\n\t_add(value, gram_size) {\n\t\tconst normalized_value = value.toLowerCase();\n\t\tconst items = this.items[gram_size] || [];\n\t\tconst index = items.length;\n\t\titems.push(0);\n\t\tconst gram_counts = gram_counter(normalized_value, gram_size);\n\t\tlet sum_of_square_gram_counts = 0;\n\t\tlet gram;\n\t\tlet gram_count;\n\t\tfor (gram in gram_counts) {\n\t\t\tgram_count = gram_counts[gram];\n\t\t\tsum_of_square_gram_counts += Math.pow(gram_count, 2);\n\t\t\tif (gram in this.match_dict) {\n\t\t\t\tthis.match_dict[gram].push([index, gram_count]);\n\t\t\t} else {\n\t\t\t\tthis.match_dict[gram] = [[index, gram_count]];\n\t\t\t}\n\t\t}\n\t\tconst vector_normal = Math.sqrt(sum_of_square_gram_counts);\n\t\titems[index] = [vector_normal, normalized_value];\n\t\tthis.items[gram_size] = items;\n\t\tthis.exact_set[normalized_value] = value;\n\t}\n\n\t/**\n\t * @param {string} value\n\t */\n\tget(value) {\n\t\tconst normalized_value = value.toLowerCase();\n\t\tconst result = this.exact_set[normalized_value];\n\t\tif (result) {\n\t\t\treturn [[1, result]];\n\t\t}\n\t\tlet results = [];\n\t\t// start with high gram size and if there are no results, go to lower gram sizes\n\t\tfor (let gram_size = GRAM_SIZE_UPPER; gram_size >= GRAM_SIZE_LOWER; --gram_size) {\n\t\t\tresults = this.__get(value, gram_size);\n\t\t\tif (results) {\n\t\t\t\treturn results;\n\t\t\t}\n\t\t}\n\t\treturn null;\n\t}\n\n\t/**\n\t * @param {string} value\n\t * @param {number} gram_size\n\t */\n\t__get(value, gram_size) {\n\t\tconst normalized_value = value.toLowerCase();\n\t\tconst matches = {};\n\t\tconst gram_counts = gram_counter(normalized_value, gram_size);\n\t\tconst items = this.items[gram_size];\n\t\tlet sum_of_square_gram_counts = 0;\n\t\tlet gram;\n\t\tlet gram_count;\n\t\tlet i;\n\t\tlet index;\n\t\tlet other_gram_count;\n\t\tfor (gram in gram_counts) {\n\t\t\tgram_count = gram_counts[gram];\n\t\t\tsum_of_square_gram_counts += Math.pow(gram_count, 2);\n\t\t\tif (gram in this.match_dict) {\n\t\t\t\tfor (i = 0; i < this.match_dict[gram].length; ++i) {\n\t\t\t\t\tindex = this.match_dict[gram][i][0];\n\t\t\t\t\tother_gram_count = this.match_dict[gram][i][1];\n\t\t\t\t\tif (index in matches) {\n\t\t\t\t\t\tmatches[index] += gram_count * other_gram_count;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tmatches[index] = gram_count * other_gram_count;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tconst vector_normal = Math.sqrt(sum_of_square_gram_counts);\n\t\tlet results = [];\n\t\tlet match_score;\n\t\t// build a results list of [score, str]\n\t\tfor (const match_index in matches) {\n\t\t\tmatch_score = matches[match_index];\n\t\t\tresults.push([match_score / (vector_normal * items[match_index][0]), items[match_index][1]]);\n\t\t}\n\t\tresults.sort(sort_descending);\n\t\tlet new_results = [];\n\t\tconst end_index = Math.min(50, results.length);\n\t\t// truncate somewhat arbitrarily to 50\n\t\tfor (let i = 0; i < end_index; ++i) {\n\t\t\tnew_results.push([_distance(results[i][1], normalized_value), results[i][1]]);\n\t\t}\n\t\tresults = new_results;\n\t\tresults.sort(sort_descending);\n\t\tnew_results = [];\n\t\tfor (let i = 0; i < results.length; ++i) {\n\t\t\tif (results[i][0] == results[0][0]) {\n\t\t\t\tnew_results.push([results[i][0], this.exact_set[results[i][1]]]);\n\t\t\t}\n\t\t}\n\t\treturn new_results;\n\t}\n}\n", "/**\n * @param {string[]} items\n * @param {string} [conjunction]\n */\nexport default function list(items, conjunction = 'or') {\n\tif (items.length === 1) return items[0];\n\treturn `${items.slice(0, -1).join(', ')} ${conjunction} ${items[items.length - 1]}`;\n}\n", "// All parser errors should be listed and accessed from here\nimport list from '../utils/list.js';\n\n/**\n * @internal\n */\nexport default {\n\t/**\n\t * @param {string} message\n\t */\n\tcss_syntax_error: (message) => ({\n\t\tcode: 'css-syntax-error',\n\t\tmessage\n\t}),\n\tduplicate_attribute: {\n\t\tcode: 'duplicate-attribute',\n\t\tmessage: 'Attributes need to be unique'\n\t},\n\t/**\n\t * @param {string} slug\n\t * @param {string} name\n\t */\n\tduplicate_element: (slug, name) => ({\n\t\tcode: `duplicate-${slug}`,\n\t\tmessage: `A component can only have one <${name}> tag`\n\t}),\n\tduplicate_style: {\n\t\tcode: 'duplicate-style',\n\t\tmessage: 'You can only have one top-level <style> tag per component'\n\t},\n\tempty_attribute_shorthand: {\n\t\tcode: 'empty-attribute-shorthand',\n\t\tmessage: 'Attribute shorthand cannot be empty'\n\t},\n\t/**\n\t * @param {string} type\n\t */\n\tempty_directive_name: (type) => ({\n\t\tcode: 'empty-directive-name',\n\t\tmessage: `${type} name cannot be empty`\n\t}),\n\tempty_global_selector: {\n\t\tcode: 'css-syntax-error',\n\t\tmessage: ':global() must contain a selector'\n\t},\n\texpected_block_type: {\n\t\tcode: 'expected-block-type',\n\t\tmessage: 'Expected if, each or await'\n\t},\n\texpected_name: {\n\t\tcode: 'expected-name',\n\t\tmessage: 'Expected name'\n\t},\n\t/** @param {string} block */\n\tinvalid_catch_placement_unclosed_block: (block) => ({\n\t\tcode: 'invalid-catch-placement',\n\t\tmessage: `Expected to close ${block} before seeing {:catch} block`\n\t}),\n\tinvalid_catch_placement_without_await: {\n\t\tcode: 'invalid-catch-placement',\n\t\tmessage: 'Cannot have an {:catch} block outside an {#await ...} block'\n\t},\n\tinvalid_component_definition: {\n\t\tcode: 'invalid-component-definition',\n\t\tmessage: 'invalid component definition'\n\t},\n\t/**\n\t * @param {string} name\n\t */\n\tinvalid_closing_tag_unopened: (name) => ({\n\t\tcode: 'invalid-closing-tag',\n\t\tmessage: `</${name}> attempted to close an element that was not open`\n\t}),\n\t/**\n\t * @param {string} name\n\t * @param {string} reason\n\t */\n\tinvalid_closing_tag_autoclosed: (name, reason) => ({\n\t\tcode: 'invalid-closing-tag',\n\t\tmessage: `</${name}> attempted to close <${name}> that was already automatically closed by <${reason}>`\n\t}),\n\tinvalid_debug_args: {\n\t\tcode: 'invalid-debug-args',\n\t\tmessage: '{@debug ...} arguments must be identifiers, not arbitrary expressions'\n\t},\n\tinvalid_declaration: {\n\t\tcode: 'invalid-declaration',\n\t\tmessage: 'Declaration cannot be empty'\n\t},\n\tinvalid_directive_value: {\n\t\tcode: 'invalid-directive-value',\n\t\tmessage: 'Directive value must be a JavaScript expression enclosed in curly braces'\n\t},\n\tinvalid_elseif: {\n\t\tcode: 'invalid-elseif',\n\t\tmessage: \"'elseif' should be 'else if'\"\n\t},\n\tinvalid_elseif_placement_outside_if: {\n\t\tcode: 'invalid-elseif-placement',\n\t\tmessage: 'Cannot have an {:else if ...} block outside an {#if ...} block'\n\t},\n\t/**\n\t * @param {string} block\n\t */\n\tinvalid_elseif_placement_unclosed_block: (block) => ({\n\t\tcode: 'invalid-elseif-placement',\n\t\tmessage: `Expected to close ${block} before seeing {:else if ...} block`\n\t}),\n\tinvalid_else_placement_outside_if: {\n\t\tcode: 'invalid-else-placement',\n\t\tmessage: 'Cannot have an {:else} block outside an {#if ...} or {#each ...} block'\n\t},\n\t/**\n\t * @param {string} block\n\t */\n\tinvalid_else_placement_unclosed_block: (block) => ({\n\t\tcode: 'invalid-else-placement',\n\t\tmessage: `Expected to close ${block} before seeing {:else} block`\n\t}),\n\t/**\n\t * @param {string} slug\n\t * @param {string} name\n\t */\n\tinvalid_element_content: (slug, name) => ({\n\t\tcode: `invalid-${slug}-content`,\n\t\tmessage: `<${name}> cannot have children`\n\t}),\n\tinvalid_element_definition: {\n\t\tcode: 'invalid-element-definition',\n\t\tmessage: 'Invalid element definition'\n\t},\n\t/**\n\t * @param {string} slug\n\t * @param {string} name\n\t */\n\tinvalid_element_placement: (slug, name) => ({\n\t\tcode: `invalid-${slug}-placement`,\n\t\tmessage: `<${name}> tags cannot be inside elements or blocks`\n\t}),\n\t/**\n\t * @param {string} location\n\t * @param {string} name\n\t */\n\tinvalid_logic_block_placement: (location, name) => ({\n\t\tcode: 'invalid-logic-block-placement',\n\t\tmessage: `{#${name}} logic block cannot be ${location}`\n\t}),\n\t/**\n\t * @param {string} location\n\t * @param {string} name\n\t */\n\tinvalid_tag_placement: (location, name) => ({\n\t\tcode: 'invalid-tag-placement',\n\t\tmessage: `{@${name}} tag cannot be ${location}`\n\t}),\n\t/**\n\t * @param {string} name\n\t */\n\tinvalid_ref_directive: (name) => ({\n\t\tcode: 'invalid-ref-directive',\n\t\tmessage: `The ref directive is no longer supported — use \\`bind:this={${name}}\\` instead`\n\t}),\n\tinvalid_ref_selector: {\n\t\tcode: 'invalid-ref-selector',\n\t\tmessage: 'ref selectors are no longer supported'\n\t},\n\tinvalid_self_placement: {\n\t\tcode: 'invalid-self-placement',\n\t\tmessage:\n\t\t\t'<svelte:self> components can only exist inside {#if} blocks, {#each} blocks, or slots passed to components'\n\t},\n\tinvalid_script_instance: {\n\t\tcode: 'invalid-script',\n\t\tmessage: 'A component can only have one instance-level <script> element'\n\t},\n\tinvalid_script_module: {\n\t\tcode: 'invalid-script',\n\t\tmessage: 'A component can only have one <script context=\"module\"> element'\n\t},\n\tinvalid_script_context_attribute: {\n\t\tcode: 'invalid-script',\n\t\tmessage: 'context attribute must be static'\n\t},\n\tinvalid_script_context_value: {\n\t\tcode: 'invalid-script',\n\t\tmessage: 'If the context attribute is supplied, its value must be \"module\"'\n\t},\n\tinvalid_tag_name: {\n\t\tcode: 'invalid-tag-name',\n\t\tmessage: 'Expected valid tag name'\n\t},\n\t/**\n\t * @param {string[]} tags\n\t * @param {string} match\n\t */\n\tinvalid_tag_name_svelte_element: (tags, match) => ({\n\t\tcode: 'invalid-tag-name',\n\t\tmessage: `Valid <svelte:...> tag names are ${list(tags)}${\n\t\t\tmatch ? ' (did you mean ' + match + '?)' : ''\n\t\t}`\n\t}),\n\t/** @param {string} block */\n\tinvalid_then_placement_unclosed_block: (block) => ({\n\t\tcode: 'invalid-then-placement',\n\t\tmessage: `Expected to close ${block} before seeing {:then} block`\n\t}),\n\tinvalid_then_placement_without_await: {\n\t\tcode: 'invalid-then-placement',\n\t\tmessage: 'Cannot have an {:then} block outside an {#await ...} block'\n\t},\n\t/**\n\t * @param {string} name\n\t */\n\tinvalid_void_content: (name) => ({\n\t\tcode: 'invalid-void-content',\n\t\tmessage: `<${name}> is a void element and cannot have children, or a closing tag`\n\t}),\n\tmissing_component_definition: {\n\t\tcode: 'missing-component-definition',\n\t\tmessage: \"<svelte:component> must have a 'this' attribute\"\n\t},\n\tmissing_attribute_value: {\n\t\tcode: 'missing-attribute-value',\n\t\tmessage: 'Expected value for the attribute'\n\t},\n\tmissing_element_definition: {\n\t\tcode: 'missing-element-definition',\n\t\tmessage: \"<svelte:element> must have a 'this' attribute\"\n\t},\n\tunclosed_script: {\n\t\tcode: 'unclosed-script',\n\t\tmessage: '<script> must have a closing tag'\n\t},\n\tunclosed_style: {\n\t\tcode: 'unclosed-style',\n\t\tmessage: '<style> must have a closing tag'\n\t},\n\tunclosed_comment: {\n\t\tcode: 'unclosed-comment',\n\t\tmessage: 'comment was left open, expected -->'\n\t},\n\t/**\n\t * @param {string} token\n\t */\n\tunclosed_attribute_value: (token) => ({\n\t\tcode: 'unclosed-attribute-value',\n\t\tmessage: `Expected to close the attribute value with ${token}`\n\t}),\n\tunexpected_block_close: {\n\t\tcode: 'unexpected-block-close',\n\t\tmessage: 'Unexpected block closing tag'\n\t},\n\tunexpected_eof: {\n\t\tcode: 'unexpected-eof',\n\t\tmessage: 'Unexpected end of input'\n\t},\n\t/**\n\t * @param {string} token\n\t */\n\tunexpected_eof_token: (token) => ({\n\t\tcode: 'unexpected-eof',\n\t\tmessage: `Unexpected ${token}`\n\t}),\n\t/**\n\t * @param {string} token\n\t */\n\tunexpected_token: (token) => ({\n\t\tcode: 'unexpected-token',\n\t\tmessage: `Expected ${token}`\n\t}),\n\tunexpected_token_destructure: {\n\t\tcode: 'unexpected-token',\n\t\tmessage: 'Expected identifier or destructure pattern'\n\t}\n};\n", "import * as code_red from 'code-red';\n\n/**\n * @param {string} source\n */\nexport const parse = (source) =>\n\tcode_red.parse(source, {\n\t\tsourceType: 'module',\n\t\tecmaVersion: 13,\n\t\tlocations: true\n\t});\n\n/**\n * @param {string} source\n * @param {number} index\n */\nexport const parse_expression_at = (source, index) =>\n\tcode_red.parseExpressionAt(source, index, {\n\t\tsourceType: 'module',\n\t\tecmaVersion: 13,\n\t\tlocations: true\n\t});\n", "import { parse_expression_at } from '../acorn.js';\nimport { regex_whitespace } from '../../utils/patterns.js';\nimport parser_errors from '../errors.js';\n\n/**\n * @param {import('../index.js').Parser} parser\n * @returns {import('estree').Node | undefined}\n */\nexport default function read_expression(parser) {\n\ttry {\n\t\tconst node = parse_expression_at(parser.template, parser.index);\n\n\t\tlet num_parens = 0;\n\n\t\tfor (let i = parser.index; i < node.start; i += 1) {\n\t\t\tif (parser.template[i] === '(') num_parens += 1;\n\t\t}\n\n\t\tlet index = node.end;\n\t\twhile (num_parens > 0) {\n\t\t\tconst char = parser.template[index];\n\n\t\t\tif (char === ')') {\n\t\t\t\tnum_parens -= 1;\n\t\t\t} else if (!regex_whitespace.test(char)) {\n\t\t\t\tparser.error(parser_errors.unexpected_token(')'), index);\n\t\t\t}\n\n\t\t\tindex += 1;\n\t\t}\n\n\t\tparser.index = index;\n\n\t\treturn node;\n\t} catch (err) {\n\t\tparser.acorn_error(err);\n\t}\n}\n", "import * as acorn from '../acorn.js';\nimport parser_errors from '../errors.js';\nimport { regex_not_newline_characters } from '../../utils/patterns.js';\n\nconst regex_closing_script_tag = /<\\/script\\s*>/;\nconst regex_starts_with_closing_script_tag = /^<\\/script\\s*>/;\n\n/**\n * @param {import('../index.js').Parser} parser\n * @param {any[]} attributes\n * @param {number} start\n * @returns {string}\n */\nfunction get_context(parser, attributes, start) {\n\tconst context = attributes.find((attribute) => attribute.name === 'context');\n\tif (!context) return 'default';\n\tif (context.value.length !== 1 || context.value[0].type !== 'Text') {\n\t\tparser.error(parser_errors.invalid_script_context_attribute, start);\n\t}\n\tconst value = context.value[0].data;\n\tif (value !== 'module') {\n\t\tparser.error(parser_errors.invalid_script_context_value, context.start);\n\t}\n\treturn value;\n}\n\n/**\n * @param {import('../index.js').Parser} parser\n * @param {number} start\n * @param {import('estree').Node[]} attributes\n * @returns {import('../../interfaces.js').Script}\n */\nexport default function read_script(parser, start, attributes) {\n\tconst script_start = parser.index;\n\tconst data = parser.read_until(regex_closing_script_tag, parser_errors.unclosed_script);\n\tif (parser.index >= parser.template.length) {\n\t\tparser.error(parser_errors.unclosed_script);\n\t}\n\tconst source =\n\t\tparser.template.slice(0, script_start).replace(regex_not_newline_characters, ' ') + data;\n\tparser.read(regex_starts_with_closing_script_tag);\n\n\t/**\n\t * @type {import('estree').Program}\n\t */\n\tlet ast;\n\ttry {\n\t\tast = acorn.parse(source);\n\t} catch (err) {\n\t\tparser.acorn_error(err);\n\t}\n\t// TODO is this necessary?\n\t/** @type {any} */ (ast).start = script_start;\n\treturn {\n\t\ttype: 'Script',\n\t\tstart,\n\t\tend: parser.index,\n\t\tcontext: get_context(parser, attributes, start),\n\t\tcontent: ast\n\t};\n}\n", "export * as Comparison from './comparison.js';\nexport * as ContainerFeatureStyle from './container_feature_style.js';\nexport * as ContainerQuery from './container_query.js';\nexport * as MediaQuery from './media_query.js';\nexport * as QueryFeature from './query_feature.js';\nexport * as QueryFeatureRange from './query_feature_range.js';\nexport * as QueryCSSFunction from './query_css_function.js';\n", "// @ts-nocheck\nimport { Delim } from 'css-tree/tokenizer';\n\nexport const name = 'Comparison';\nexport const structure = {\n\tvalue: String\n};\n\nexport function parse() {\n\tconst start = this.tokenStart;\n\n\tconst char1 = this.consume(Delim);\n\n\t// The first character in the comparison operator must match '<', '=', or '>'.\n\tif (char1 !== '<' && char1 !== '>' && char1 !== '=') {\n\t\tthis.error('Malformed comparison operator');\n\t}\n\n\tlet char2;\n\n\tif (this.tokenType === Delim) {\n\t\tchar2 = this.consume(Delim);\n\n\t\t// The second character in the comparison operator must match '='.\n\t\tif (char2 !== '=') {\n\t\t\tthis.error('Malformed comparison operator');\n\t\t}\n\t}\n\n\t// If the next token is also 'Delim' then it is malformed.\n\tif (this.tokenType === Delim) {\n\t\tthis.error('Malformed comparison operator');\n\t}\n\n\tconst value = char2 ? `${char1}${char2}` : char1;\n\n\treturn {\n\t\ttype: 'Comparison',\n\t\tloc: this.getLocation(start, this.tokenStart),\n\t\tvalue\n\t};\n}\n\nexport function generate(node) {\n\tfor (let index = 0; index < node.value.length; index++) {\n\t\tthis.token(Delim, node.value.charAt(index));\n\t}\n}\n", "// @ts-nocheck\nimport {\n\tFunction,\n\tIdent,\n\tNumber,\n\tDimension,\n\tRightParenthesis,\n\tColon,\n\tDelim\n} from 'css-tree/tokenizer';\n\nexport const name = 'ContainerFeatureStyle';\nexport const structure = {\n\tname: String,\n\tvalue: ['Function', 'Identifier', 'Number', 'Dimension', 'QueryCSSFunction', 'Ratio', null]\n};\n\nexport function parse() {\n\tconst start = this.tokenStart;\n\tlet value = null;\n\n\tconst function_name = this.consumeFunctionName();\n\tif (function_name !== 'style') {\n\t\tthis.error('Unknown container style query identifier; \"style\" is expected');\n\t}\n\n\tthis.skipSC();\n\n\tconst name = this.consume(Ident);\n\tthis.skipSC();\n\n\tif (this.tokenType !== RightParenthesis) {\n\t\tthis.eat(Colon);\n\t\tthis.skipSC();\n\n\t\tswitch (this.tokenType) {\n\t\t\tcase Number:\n\t\t\t\tif (this.lookupNonWSType(1) === Delim) {\n\t\t\t\t\tvalue = this.Ratio();\n\t\t\t\t} else {\n\t\t\t\t\tvalue = this.Number();\n\t\t\t\t}\n\t\t\t\tbreak;\n\n\t\t\tcase Dimension:\n\t\t\t\tvalue = this.Dimension();\n\t\t\t\tbreak;\n\n\t\t\tcase Function:\n\t\t\t\tvalue = this.QueryCSSFunction();\n\t\t\t\tbreak;\n\n\t\t\tcase Ident:\n\t\t\t\tvalue = this.Identifier();\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\t\t\t\tthis.error('Number, dimension, ratio, function or identifier is expected');\n\t\t\t\tbreak;\n\t\t}\n\n\t\tthis.skipSC();\n\t}\n\n\tthis.eat(RightParenthesis);\n\n\treturn {\n\t\ttype: 'ContainerFeatureStyle',\n\t\tloc: this.getLocation(start, this.tokenStart),\n\t\tname,\n\t\tvalue\n\t};\n}\n\nexport function generate(node) {\n\tthis.token(Function, 'style(');\n\tthis.token(Ident, node.name);\n\n\tif (node.value !== null) {\n\t\tthis.token(Colon, ':');\n\t\tthis.node(node.value);\n\t}\n\n\tthis.token(RightParenthesis, ')');\n}\n", "// @ts-nocheck\nimport { WhiteSpace, Comment, Function, Ident, LeftParenthesis } from 'css-tree/tokenizer';\n\nimport { lookahead_is_range } from './lookahead_is_range.js';\n\nconst CONTAINER_QUERY_KEYWORDS = new Set(['none', 'and', 'not', 'or']);\n\nexport const name = 'ContainerQuery';\nexport const structure = {\n\tname: 'Identifier',\n\tchildren: [\n\t\t['Identifier', 'QueryFeature', 'QueryFeatureRange', 'ContainerFeatureStyle', 'WhiteSpace']\n\t]\n};\n\nexport function parse() {\n\tconst start = this.tokenStart;\n\tconst children = this.createList();\n\tlet child = null;\n\tlet name = null;\n\n\t// Parse potential container name.\n\tif (this.tokenType === Ident) {\n\t\tconst container_name = this.substring(this.tokenStart, this.tokenEnd);\n\n\t\t// Container name doesn't match a query keyword, so assign it as container name.\n\t\tif (!CONTAINER_QUERY_KEYWORDS.has(container_name.toLowerCase())) {\n\t\t\tname = container_name;\n\t\t\tthis.eatIdent(container_name);\n\t\t}\n\t}\n\n\tthis.skipSC();\n\n\tscan: while (!this.eof) {\n\t\tswitch (this.tokenType) {\n\t\t\tcase Comment:\n\t\t\tcase WhiteSpace:\n\t\t\t\tthis.next();\n\t\t\t\tcontinue;\n\n\t\t\tcase Ident:\n\t\t\t\tchild = this.Identifier();\n\t\t\t\tbreak;\n\n\t\t\tcase Function:\n\t\t\t\tchild = this.ContainerFeatureStyle();\n\t\t\t\tbreak;\n\n\t\t\tcase LeftParenthesis:\n\t\t\t\t// Lookahead to determine if range feature.\n\t\t\t\tchild = lookahead_is_range.call(this) ? this.QueryFeatureRange() : this.QueryFeature();\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\t\t\t\tbreak scan;\n\t\t}\n\n\t\tchildren.push(child);\n\t}\n\n\tif (child === null) {\n\t\tthis.error('Identifier or parenthesis is expected');\n\t}\n\n\treturn {\n\t\ttype: 'ContainerQuery',\n\t\tloc: this.getLocation(start, this.tokenStart - 1),\n\t\tname,\n\t\tchildren\n\t};\n}\n\nexport function generate(node) {\n\tif (typeof node.name === 'string') {\n\t\tthis.token(Ident, node.name);\n\t}\n\n\tthis.children(node);\n}\n", "// @ts-nocheck\nimport {\n\tEOF,\n\tWhiteSpace,\n\tDelim,\n\tRightParenthesis,\n\tLeftCurlyBracket,\n\tColon\n} from 'css-tree/tokenizer';\n\n/**\n * Looks ahead to determine if query feature is a range query. This involves locating at least one delimiter and no\n * colon tokens.\n *\n * @returns {boolean} Is potential range query.\n */\nexport function lookahead_is_range() {\n\tlet type;\n\tlet offset = 0;\n\n\tlet count = 0;\n\tlet delim_found = false;\n\tlet no_colon = true;\n\n\t// A range query has maximum 5 tokens when formatted as 'mf-range' /\n\t// '<mf-value> <mf-lt> <mf-name> <mf-lt> <mf-value>'. So only look ahead maximum of 6 non-whitespace tokens.\n\tdo {\n\t\ttype = this.lookupNonWSType(offset++);\n\t\tif (type !== WhiteSpace) {\n\t\t\tcount++;\n\t\t}\n\t\tif (type === Delim) {\n\t\t\tdelim_found = true;\n\t\t}\n\t\tif (type === Colon) {\n\t\t\tno_colon = false;\n\t\t}\n\t\tif (type === LeftCurlyBracket || type === RightParenthesis) {\n\t\t\tbreak;\n\t\t}\n\t} while (type !== EOF && count <= 6);\n\n\treturn delim_found && no_colon;\n}\n", "// @ts-nocheck\nimport { WhiteSpace, Comment, Ident, LeftParenthesis } from 'css-tree/tokenizer';\n\nimport { lookahead_is_range } from './lookahead_is_range.js';\n\nexport const name = 'MediaQuery';\nexport const structure = {\n\tchildren: [['Identifier', 'QueryFeature', 'QueryFeatureRange', 'WhiteSpace']]\n};\n\nexport function parse() {\n\tconst children = this.createList();\n\tlet child = null;\n\n\tthis.skipSC();\n\n\tscan: while (!this.eof) {\n\t\tswitch (this.tokenType) {\n\t\t\tcase Comment:\n\t\t\tcase WhiteSpace:\n\t\t\t\tthis.next();\n\t\t\t\tcontinue;\n\n\t\t\tcase Ident:\n\t\t\t\tchild = this.Identifier();\n\t\t\t\tbreak;\n\n\t\t\tcase LeftParenthesis:\n\t\t\t\t// Lookahead to determine if range feature.\n\t\t\t\tchild = lookahead_is_range.call(this) ? this.QueryFeatureRange() : this.QueryFeature();\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\t\t\t\tbreak scan;\n\t\t}\n\n\t\tchildren.push(child);\n\t}\n\n\tif (child === null) {\n\t\tthis.error('Identifier or parenthesis is expected');\n\t}\n\n\treturn {\n\t\ttype: 'MediaQuery',\n\t\tloc: this.getLocationFromList(children),\n\t\tchildren\n\t};\n}\n\nexport function generate(node) {\n\tthis.children(node);\n}\n", "// @ts-nocheck\nimport {\n\tIdent,\n\tNumber,\n\tDimension,\n\tFunction,\n\tLeftParenthesis,\n\tRightParenthesis,\n\tColon,\n\tDelim\n} from 'css-tree/tokenizer';\n\nexport const name = 'QueryFeature';\nexport const structure = {\n\tname: String,\n\tvalue: ['Identifier', 'Number', 'Dimension', 'QueryCSSFunction', 'Ratio', null]\n};\n\nexport function parse() {\n\tconst start = this.tokenStart;\n\tlet value = null;\n\n\tthis.eat(LeftParenthesis);\n\tthis.skipSC();\n\n\tconst name = this.consume(Ident);\n\tthis.skipSC();\n\n\tif (this.tokenType !== RightParenthesis) {\n\t\tthis.eat(Colon);\n\t\tthis.skipSC();\n\n\t\tswitch (this.tokenType) {\n\t\t\tcase Number:\n\t\t\t\tif (this.lookupNonWSType(1) === Delim) {\n\t\t\t\t\tvalue = this.Ratio();\n\t\t\t\t} else {\n\t\t\t\t\tvalue = this.Number();\n\t\t\t\t}\n\t\t\t\tbreak;\n\n\t\t\tcase Dimension:\n\t\t\t\tvalue = this.Dimension();\n\t\t\t\tbreak;\n\n\t\t\tcase Function:\n\t\t\t\tvalue = this.QueryCSSFunction();\n\t\t\t\tbreak;\n\n\t\t\tcase Ident:\n\t\t\t\tvalue = this.Identifier();\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\t\t\t\tthis.error('Number, dimension, ratio, function, or identifier is expected');\n\t\t\t\tbreak;\n\t\t}\n\n\t\tthis.skipSC();\n\t}\n\n\tthis.eat(RightParenthesis);\n\n\treturn {\n\t\ttype: 'QueryFeature',\n\t\tloc: this.getLocation(start, this.tokenStart),\n\t\tname,\n\t\tvalue\n\t};\n}\n\nexport function generate(node) {\n\tthis.token(LeftParenthesis, '(');\n\tthis.token(Ident, node.name);\n\n\tif (node.value !== null) {\n\t\tthis.token(Colon, ':');\n\t\tthis.node(node.value);\n\t}\n\n\tthis.token(RightParenthesis, ')');\n}\n", "// @ts-nocheck\nimport {\n\tIdent,\n\tNumber,\n\tDelim,\n\tDimension,\n\tFunction,\n\tLeftParenthesis,\n\tRightParenthesis,\n\tWhiteSpace\n} from 'css-tree/tokenizer';\n\nexport const name = 'QueryFeatureRange';\nexport const structure = {\n\tname: String,\n\tvalue: ['Identifier', 'Number', 'Comparison', 'Dimension', 'QueryCSSFunction', 'Ratio', null]\n};\n\nfunction lookup_non_ws_type_and_value(offset, type, reference_str) {\n\tlet current_type;\n\n\tdo {\n\t\tcurrent_type = this.lookupType(offset++);\n\t\tif (current_type !== WhiteSpace) {\n\t\t\tbreak;\n\t\t}\n\t} while (current_type !== 0); // NULL -> 0\n\n\treturn current_type === type ? this.lookupValue(offset - 1, reference_str) : false;\n}\n\nexport function parse() {\n\tconst start = this.tokenStart;\n\tconst children = this.createList();\n\tlet child = null;\n\n\tthis.eat(LeftParenthesis);\n\tthis.skipSC();\n\n\twhile (!this.eof && this.tokenType !== RightParenthesis) {\n\t\tswitch (this.tokenType) {\n\t\t\tcase Number:\n\t\t\t\tif (lookup_non_ws_type_and_value.call(this, 1, Delim, '/')) {\n\t\t\t\t\tchild = this.Ratio();\n\t\t\t\t} else {\n\t\t\t\t\tchild = this.Number();\n\t\t\t\t}\n\t\t\t\tbreak;\n\n\t\t\tcase Delim:\n\t\t\t\tchild = this.Comparison();\n\t\t\t\tbreak;\n\n\t\t\tcase Dimension:\n\t\t\t\tchild = this.Dimension();\n\t\t\t\tbreak;\n\n\t\t\tcase Function:\n\t\t\t\tchild = this.QueryCSSFunction();\n\t\t\t\tbreak;\n\n\t\t\tcase Ident:\n\t\t\t\tchild = this.Identifier();\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\t\t\t\tthis.error('Number, dimension, comparison, ratio, function, or identifier is expected');\n\t\t\t\tbreak;\n\t\t}\n\n\t\tchildren.push(child);\n\n\t\tthis.skipSC();\n\t}\n\n\tthis.eat(RightParenthesis);\n\n\treturn {\n\t\ttype: 'QueryFeatureRange',\n\t\tloc: this.getLocation(start, this.tokenStart),\n\t\tchildren\n\t};\n}\n\nexport function generate(node) {\n\tthis.children(node);\n}\n", "// @ts-nocheck\nimport { RightParenthesis } from 'css-tree/tokenizer';\n\nconst QUERY_CSS_FUNCTIONS = new Set(['calc', 'clamp', 'min', 'max']);\n\nexport const name = 'QueryCSSFunction';\nexport const structure = {\n\tname: String,\n\texpression: String\n};\n\nexport function parse() {\n\tconst start = this.tokenStart;\n\n\tconst name = this.consumeFunctionName();\n\n\tif (!QUERY_CSS_FUNCTIONS.has(name)) {\n\t\tthis.error('Unknown query single value function; expected: \"calc\", \"clamp\", \"max\", min\"');\n\t}\n\n\tconst body = this.Raw(this.tokenIndex, null, false);\n\n\tthis.eat(RightParenthesis);\n\n\treturn {\n\t\ttype: 'QueryCSSFunction',\n\t\tloc: this.getLocation(start, this.tokenStart),\n\t\tname,\n\t\texpression: body.value\n\t};\n}\n\nexport function generate(node) {\n\tthis.token(Function, `${node.name}(`);\n\n\tthis.node(node.expression);\n\n\tthis.token(RightParenthesis, ')');\n}\n", "// @ts-nocheck\nimport { fork } from 'css-tree';\n\nimport * as node from './node/index.js';\n\n/**\n * Extends `css-tree` for container query support by forking and adding new nodes and at-rule support for `@container`.\n *\n * The new nodes are located in `./node`.\n */\nconst cq_syntax = fork({\n\tatrule: {\n\t\t// extend or override at-rule dictionary\n\t\tcontainer: {\n\t\t\tparse: {\n\t\t\t\tprelude() {\n\t\t\t\t\treturn this.createSingleNodeList(this.ContainerQuery());\n\t\t\t\t},\n\t\t\t\tblock(is_style_block = false) {\n\t\t\t\t\treturn this.Block(is_style_block);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\tnode\n});\n\nexport const parse = cq_syntax.parse;\n", "// @ts-ignore\n// import parse from 'css-tree/parser'; // When css-tree supports container queries uncomment.\nimport { parse } from './css-tree-cq/css_tree_parse.js'; // Use extended css-tree for container query support.\nimport { walk } from 'estree-walker';\nimport parser_errors from '../errors.js';\n\nconst regex_closing_style_tag = /<\\/style\\s*>/;\nconst regex_starts_with_closing_style_tag = /^<\\/style\\s*>/;\n\n/**\n *\n * @param {import('../index.js').Parser} parser\n * @param {number} start\n * @param {import('estree').Node[]} attributes\n * @returns {import('../../interfaces.js').Style}\n */\nexport default function read_style(parser, start, attributes) {\n\tconst content_start = parser.index;\n\n\tconst styles = parser.read_until(regex_closing_style_tag, parser_errors.unclosed_style);\n\n\tif (parser.index >= parser.template.length) {\n\t\tparser.error(parser_errors.unclosed_style);\n\t}\n\n\tconst content_end = parser.index;\n\n\t// discard styles when css is disabled\n\tif (parser.css_mode === 'none') {\n\t\tparser.read(regex_starts_with_closing_style_tag);\n\t\treturn null;\n\t}\n\n\tlet ast;\n\n\ttry {\n\t\tast = parse(styles, {\n\t\t\tpositions: true,\n\t\t\toffset: content_start,\n\t\t\tonParseError(error) {\n\t\t\t\tthrow error;\n\t\t\t}\n\t\t});\n\t} catch (err) {\n\t\tif (err.name === 'SyntaxError') {\n\t\t\tparser.error(parser_errors.css_syntax_error(err.message), err.offset);\n\t\t} else {\n\t\t\tthrow err;\n\t\t}\n\t}\n\n\tast = JSON.parse(JSON.stringify(ast));\n\n\t// tidy up AST\n\twalk(ast, {\n\t\t/** @param {any} node */\n\t\tenter: (node) => {\n\t\t\t// `any` because this isn't an ESTree node\n\t\t\t// replace `ref:a` nodes\n\t\t\tif (node.type === 'Selector') {\n\t\t\t\tfor (let i = 0; i < node.children.length; i += 1) {\n\t\t\t\t\tconst a = node.children[i];\n\t\t\t\t\tconst b = node.children[i + 1];\n\n\t\t\t\t\tif (is_ref_selector(a, b)) {\n\t\t\t\t\t\tparser.error(parser_errors.invalid_ref_selector, a.loc.start.offset);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (\n\t\t\t\tnode.type === 'Declaration' &&\n\t\t\t\tnode.value.type === 'Value' &&\n\t\t\t\tnode.value.children.length === 0\n\t\t\t) {\n\t\t\t\tparser.error(parser_errors.invalid_declaration, node.start);\n\t\t\t}\n\n\t\t\tif (node.type === 'PseudoClassSelector' && node.name === 'global' && node.children === null) {\n\t\t\t\tparser.error(parser_errors.empty_global_selector, node.loc.start.offset);\n\t\t\t}\n\n\t\t\tif (node.loc) {\n\t\t\t\tnode.start = node.loc.start.offset;\n\t\t\t\tnode.end = node.loc.end.offset;\n\t\t\t\tdelete node.loc;\n\t\t\t}\n\t\t}\n\t});\n\n\tparser.read(regex_starts_with_closing_style_tag);\n\n\tconst end = parser.index;\n\n\treturn {\n\t\ttype: 'Style',\n\t\tstart,\n\t\tend,\n\t\tattributes,\n\t\tchildren: ast.children,\n\t\tcontent: {\n\t\t\tstart: content_start,\n\t\t\tend: content_end,\n\t\t\tstyles\n\t\t}\n\t};\n}\n\n/**\n * @param {any} a\n * @param {any} b\n */\nfunction is_ref_selector(a, b) {\n\t// TODO add CSS node types\n\tif (!b) return false;\n\n\treturn a.type === 'TypeSelector' && a.name === 'ref' && b.type === 'PseudoClassSelector';\n}\n", "// https://html.spec.whatwg.org/entities.json from https://dev.w3.org/html5/html-author/charref\nexport default {\n\t'CounterClockwiseContourIntegral;': 8755,\n\t'ClockwiseContourIntegral;': 8754,\n\t'DoubleLongLeftRightArrow;': 10234,\n\t'NotNestedGreaterGreater;': 10914,\n\t'DiacriticalDoubleAcute;': 733,\n\t'NotSquareSupersetEqual;': 8931,\n\t'CloseCurlyDoubleQuote;': 8221,\n\t'DoubleContourIntegral;': 8751,\n\t'FilledVerySmallSquare;': 9642,\n\t'NegativeVeryThinSpace;': 8203,\n\t'NotPrecedesSlantEqual;': 8928,\n\t'NotRightTriangleEqual;': 8941,\n\t'NotSucceedsSlantEqual;': 8929,\n\t'CapitalDifferentialD;': 8517,\n\t'DoubleLeftRightArrow;': 8660,\n\t'DoubleLongRightArrow;': 10233,\n\t'EmptyVerySmallSquare;': 9643,\n\t'NestedGreaterGreater;': 8811,\n\t'NotDoubleVerticalBar;': 8742,\n\t'NotGreaterSlantEqual;': 10878,\n\t'NotLeftTriangleEqual;': 8940,\n\t'NotSquareSubsetEqual;': 8930,\n\t'OpenCurlyDoubleQuote;': 8220,\n\t'ReverseUpEquilibrium;': 10607,\n\t'DoubleLongLeftArrow;': 10232,\n\t'DownLeftRightVector;': 10576,\n\t'LeftArrowRightArrow;': 8646,\n\t'NegativeMediumSpace;': 8203,\n\t'NotGreaterFullEqual;': 8807,\n\t'NotRightTriangleBar;': 10704,\n\t'RightArrowLeftArrow;': 8644,\n\t'SquareSupersetEqual;': 8850,\n\t'leftrightsquigarrow;': 8621,\n\t'DownRightTeeVector;': 10591,\n\t'DownRightVectorBar;': 10583,\n\t'LongLeftRightArrow;': 10231,\n\t'Longleftrightarrow;': 10234,\n\t'NegativeThickSpace;': 8203,\n\t'NotLeftTriangleBar;': 10703,\n\t'PrecedesSlantEqual;': 8828,\n\t'ReverseEquilibrium;': 8651,\n\t'RightDoubleBracket;': 10215,\n\t'RightDownTeeVector;': 10589,\n\t'RightDownVectorBar;': 10581,\n\t'RightTriangleEqual;': 8885,\n\t'SquareIntersection;': 8851,\n\t'SucceedsSlantEqual;': 8829,\n\t'blacktriangleright;': 9656,\n\t'longleftrightarrow;': 10231,\n\t'DoubleUpDownArrow;': 8661,\n\t'DoubleVerticalBar;': 8741,\n\t'DownLeftTeeVector;': 10590,\n\t'DownLeftVectorBar;': 10582,\n\t'FilledSmallSquare;': 9724,\n\t'GreaterSlantEqual;': 10878,\n\t'LeftDoubleBracket;': 10214,\n\t'LeftDownTeeVector;': 10593,\n\t'LeftDownVectorBar;': 10585,\n\t'LeftTriangleEqual;': 8884,\n\t'NegativeThinSpace;': 8203,\n\t'NotGreaterGreater;': 8811,\n\t'NotLessSlantEqual;': 10877,\n\t'NotNestedLessLess;': 10913,\n\t'NotReverseElement;': 8716,\n\t'NotSquareSuperset;': 8848,\n\t'NotTildeFullEqual;': 8775,\n\t'RightAngleBracket;': 10217,\n\t'RightUpDownVector;': 10575,\n\t'SquareSubsetEqual;': 8849,\n\t'VerticalSeparator;': 10072,\n\t'blacktriangledown;': 9662,\n\t'blacktriangleleft;': 9666,\n\t'leftrightharpoons;': 8651,\n\t'rightleftharpoons;': 8652,\n\t'twoheadrightarrow;': 8608,\n\t'DiacriticalAcute;': 180,\n\t'DiacriticalGrave;': 96,\n\t'DiacriticalTilde;': 732,\n\t'DoubleRightArrow;': 8658,\n\t'DownArrowUpArrow;': 8693,\n\t'EmptySmallSquare;': 9723,\n\t'GreaterEqualLess;': 8923,\n\t'GreaterFullEqual;': 8807,\n\t'LeftAngleBracket;': 10216,\n\t'LeftUpDownVector;': 10577,\n\t'LessEqualGreater;': 8922,\n\t'NonBreakingSpace;': 160,\n\t'NotPrecedesEqual;': 10927,\n\t'NotRightTriangle;': 8939,\n\t'NotSucceedsEqual;': 10928,\n\t'NotSucceedsTilde;': 8831,\n\t'NotSupersetEqual;': 8841,\n\t'RightTriangleBar;': 10704,\n\t'RightUpTeeVector;': 10588,\n\t'RightUpVectorBar;': 10580,\n\t'UnderParenthesis;': 9181,\n\t'UpArrowDownArrow;': 8645,\n\t'circlearrowright;': 8635,\n\t'downharpoonright;': 8642,\n\t'ntrianglerighteq;': 8941,\n\t'rightharpoondown;': 8641,\n\t'rightrightarrows;': 8649,\n\t'twoheadleftarrow;': 8606,\n\t'vartriangleright;': 8883,\n\t'CloseCurlyQuote;': 8217,\n\t'ContourIntegral;': 8750,\n\t'DoubleDownArrow;': 8659,\n\t'DoubleLeftArrow;': 8656,\n\t'DownRightVector;': 8641,\n\t'LeftRightVector;': 10574,\n\t'LeftTriangleBar;': 10703,\n\t'LeftUpTeeVector;': 10592,\n\t'LeftUpVectorBar;': 10584,\n\t'LowerRightArrow;': 8600,\n\t'NotGreaterEqual;': 8817,\n\t'NotGreaterTilde;': 8821,\n\t'NotHumpDownHump;': 8782,\n\t'NotLeftTriangle;': 8938,\n\t'NotSquareSubset;': 8847,\n\t'OverParenthesis;': 9180,\n\t'RightDownVector;': 8642,\n\t'ShortRightArrow;': 8594,\n\t'UpperRightArrow;': 8599,\n\t'bigtriangledown;': 9661,\n\t'circlearrowleft;': 8634,\n\t'curvearrowright;': 8631,\n\t'downharpoonleft;': 8643,\n\t'leftharpoondown;': 8637,\n\t'leftrightarrows;': 8646,\n\t'nLeftrightarrow;': 8654,\n\t'nleftrightarrow;': 8622,\n\t'ntrianglelefteq;': 8940,\n\t'rightleftarrows;': 8644,\n\t'rightsquigarrow;': 8605,\n\t'rightthreetimes;': 8908,\n\t'straightepsilon;': 1013,\n\t'trianglerighteq;': 8885,\n\t'vartriangleleft;': 8882,\n\t'DiacriticalDot;': 729,\n\t'DoubleRightTee;': 8872,\n\t'DownLeftVector;': 8637,\n\t'GreaterGreater;': 10914,\n\t'HorizontalLine;': 9472,\n\t'InvisibleComma;': 8291,\n\t'InvisibleTimes;': 8290,\n\t'LeftDownVector;': 8643,\n\t'LeftRightArrow;': 8596,\n\t'Leftrightarrow;': 8660,\n\t'LessSlantEqual;': 10877,\n\t'LongRightArrow;': 10230,\n\t'Longrightarrow;': 10233,\n\t'LowerLeftArrow;': 8601,\n\t'NestedLessLess;': 8810,\n\t'NotGreaterLess;': 8825,\n\t'NotLessGreater;': 8824,\n\t'NotSubsetEqual;': 8840,\n\t'NotVerticalBar;': 8740,\n\t'OpenCurlyQuote;': 8216,\n\t'ReverseElement;': 8715,\n\t'RightTeeVector;': 10587,\n\t'RightVectorBar;': 10579,\n\t'ShortDownArrow;': 8595,\n\t'ShortLeftArrow;': 8592,\n\t'SquareSuperset;': 8848,\n\t'TildeFullEqual;': 8773,\n\t'UpperLeftArrow;': 8598,\n\t'ZeroWidthSpace;': 8203,\n\t'curvearrowleft;': 8630,\n\t'doublebarwedge;': 8966,\n\t'downdownarrows;': 8650,\n\t'hookrightarrow;': 8618,\n\t'leftleftarrows;': 8647,\n\t'leftrightarrow;': 8596,\n\t'leftthreetimes;': 8907,\n\t'longrightarrow;': 10230,\n\t'looparrowright;': 8620,\n\t'nshortparallel;': 8742,\n\t'ntriangleright;': 8939,\n\t'rightarrowtail;': 8611,\n\t'rightharpoonup;': 8640,\n\t'trianglelefteq;': 8884,\n\t'upharpoonright;': 8638,\n\t'ApplyFunction;': 8289,\n\t'DifferentialD;': 8518,\n\t'DoubleLeftTee;': 10980,\n\t'DoubleUpArrow;': 8657,\n\t'LeftTeeVector;': 10586,\n\t'LeftVectorBar;': 10578,\n\t'LessFullEqual;': 8806,\n\t'LongLeftArrow;': 10229,\n\t'Longleftarrow;': 10232,\n\t'NotEqualTilde;': 8770,\n\t'NotTildeEqual;': 8772,\n\t'NotTildeTilde;': 8777,\n\t'Poincareplane;': 8460,\n\t'PrecedesEqual;': 10927,\n\t'PrecedesTilde;': 8830,\n\t'RightArrowBar;': 8677,\n\t'RightTeeArrow;': 8614,\n\t'RightTriangle;': 8883,\n\t'RightUpVector;': 8638,\n\t'SucceedsEqual;': 10928,\n\t'SucceedsTilde;': 8831,\n\t'SupersetEqual;': 8839,\n\t'UpEquilibrium;': 10606,\n\t'VerticalTilde;': 8768,\n\t'VeryThinSpace;': 8202,\n\t'bigtriangleup;': 9651,\n\t'blacktriangle;': 9652,\n\t'divideontimes;': 8903,\n\t'fallingdotseq;': 8786,\n\t'hookleftarrow;': 8617,\n\t'leftarrowtail;': 8610,\n\t'leftharpoonup;': 8636,\n\t'longleftarrow;': 10229,\n\t'looparrowleft;': 8619,\n\t'measuredangle;': 8737,\n\t'ntriangleleft;': 8938,\n\t'shortparallel;': 8741,\n\t'smallsetminus;': 8726,\n\t'triangleright;': 9657,\n\t'upharpoonleft;': 8639,\n\t'varsubsetneqq;': 10955,\n\t'varsupsetneqq;': 10956,\n\t'DownArrowBar;': 10515,\n\t'DownTeeArrow;': 8615,\n\t'ExponentialE;': 8519,\n\t'GreaterEqual;': 8805,\n\t'GreaterTilde;': 8819,\n\t'HilbertSpace;': 8459,\n\t'HumpDownHump;': 8782,\n\t'Intersection;': 8898,\n\t'LeftArrowBar;': 8676,\n\t'LeftTeeArrow;': 8612,\n\t'LeftTriangle;': 8882,\n\t'LeftUpVector;': 8639,\n\t'NotCongruent;': 8802,\n\t'NotHumpEqual;': 8783,\n\t'NotLessEqual;': 8816,\n\t'NotLessTilde;': 8820,\n\t'Proportional;': 8733,\n\t'RightCeiling;': 8969,\n\t'RoundImplies;': 10608,\n\t'ShortUpArrow;': 8593,\n\t'SquareSubset;': 8847,\n\t'UnderBracket;': 9141,\n\t'VerticalLine;': 124,\n\t'blacklozenge;': 10731,\n\t'exponentiale;': 8519,\n\t'risingdotseq;': 8787,\n\t'triangledown;': 9663,\n\t'triangleleft;': 9667,\n\t'varsubsetneq;': 8842,\n\t'varsupsetneq;': 8843,\n\t'CircleMinus;': 8854,\n\t'CircleTimes;': 8855,\n\t'Equilibrium;': 8652,\n\t'GreaterLess;': 8823,\n\t'LeftCeiling;': 8968,\n\t'LessGreater;': 8822,\n\t'MediumSpace;': 8287,\n\t'NotLessLess;': 8810,\n\t'NotPrecedes;': 8832,\n\t'NotSucceeds;': 8833,\n\t'NotSuperset;': 8835,\n\t'OverBracket;': 9140,\n\t'RightVector;': 8640,\n\t'Rrightarrow;': 8667,\n\t'RuleDelayed;': 10740,\n\t'SmallCircle;': 8728,\n\t'SquareUnion;': 8852,\n\t'SubsetEqual;': 8838,\n\t'UpDownArrow;': 8597,\n\t'Updownarrow;': 8661,\n\t'VerticalBar;': 8739,\n\t'backepsilon;': 1014,\n\t'blacksquare;': 9642,\n\t'circledcirc;': 8858,\n\t'circleddash;': 8861,\n\t'curlyeqprec;': 8926,\n\t'curlyeqsucc;': 8927,\n\t'diamondsuit;': 9830,\n\t'eqslantless;': 10901,\n\t'expectation;': 8496,\n\t'nRightarrow;': 8655,\n\t'nrightarrow;': 8603,\n\t'preccurlyeq;': 8828,\n\t'precnapprox;': 10937,\n\t'quaternions;': 8461,\n\t'straightphi;': 981,\n\t'succcurlyeq;': 8829,\n\t'succnapprox;': 10938,\n\t'thickapprox;': 8776,\n\t'updownarrow;': 8597,\n\t'Bernoullis;': 8492,\n\t'CirclePlus;': 8853,\n\t'EqualTilde;': 8770,\n\t'Fouriertrf;': 8497,\n\t'ImaginaryI;': 8520,\n\t'Laplacetrf;': 8466,\n\t'LeftVector;': 8636,\n\t'Lleftarrow;': 8666,\n\t'NotElement;': 8713,\n\t'NotGreater;': 8815,\n\t'Proportion;': 8759,\n\t'RightArrow;': 8594,\n\t'RightFloor;': 8971,\n\t'Rightarrow;': 8658,\n\t'ThickSpace;': 8287,\n\t'TildeEqual;': 8771,\n\t'TildeTilde;': 8776,\n\t'UnderBrace;': 9183,\n\t'UpArrowBar;': 10514,\n\t'UpTeeArrow;': 8613,\n\t'circledast;': 8859,\n\t'complement;': 8705,\n\t'curlywedge;': 8911,\n\t'eqslantgtr;': 10902,\n\t'gtreqqless;': 10892,\n\t'lessapprox;': 10885,\n\t'lesseqqgtr;': 10891,\n\t'lmoustache;': 9136,\n\t'longmapsto;': 10236,\n\t'mapstodown;': 8615,\n\t'mapstoleft;': 8612,\n\t'nLeftarrow;': 8653,\n\t'nleftarrow;': 8602,\n\t'nsubseteqq;': 10949,\n\t'nsupseteqq;': 10950,\n\t'precapprox;': 10935,\n\t'rightarrow;': 8594,\n\t'rmoustache;': 9137,\n\t'sqsubseteq;': 8849,\n\t'sqsupseteq;': 8850,\n\t'subsetneqq;': 10955,\n\t'succapprox;': 10936,\n\t'supsetneqq;': 10956,\n\t'upuparrows;': 8648,\n\t'varepsilon;': 1013,\n\t'varnothing;': 8709,\n\t'Backslash;': 8726,\n\t'CenterDot;': 183,\n\t'CircleDot;': 8857,\n\t'Congruent;': 8801,\n\t'Coproduct;': 8720,\n\t'DoubleDot;': 168,\n\t'DownArrow;': 8595,\n\t'DownBreve;': 785,\n\t'Downarrow;': 8659,\n\t'HumpEqual;': 8783,\n\t'LeftArrow;': 8592,\n\t'LeftFloor;': 8970,\n\t'Leftarrow;': 8656,\n\t'LessTilde;': 8818,\n\t'Mellintrf;': 8499,\n\t'MinusPlus;': 8723,\n\t'NotCupCap;': 8813,\n\t'NotExists;': 8708,\n\t'NotSubset;': 8834,\n\t'OverBrace;': 9182,\n\t'PlusMinus;': 177,\n\t'Therefore;': 8756,\n\t'ThinSpace;': 8201,\n\t'TripleDot;': 8411,\n\t'UnionPlus;': 8846,\n\t'backprime;': 8245,\n\t'backsimeq;': 8909,\n\t'bigotimes;': 10754,\n\t'centerdot;': 183,\n\t'checkmark;': 10003,\n\t'complexes;': 8450,\n\t'dotsquare;': 8865,\n\t'downarrow;': 8595,\n\t'gtrapprox;': 10886,\n\t'gtreqless;': 8923,\n\t'gvertneqq;': 8809,\n\t'heartsuit;': 9829,\n\t'leftarrow;': 8592,\n\t'lesseqgtr;': 8922,\n\t'lvertneqq;': 8808,\n\t'ngeqslant;': 10878,\n\t'nleqslant;': 10877,\n\t'nparallel;': 8742,\n\t'nshortmid;': 8740,\n\t'nsubseteq;': 8840,\n\t'nsupseteq;': 8841,\n\t'pitchfork;': 8916,\n\t'rationals;': 8474,\n\t'spadesuit;': 9824,\n\t'subseteqq;': 10949,\n\t'subsetneq;': 8842,\n\t'supseteqq;': 10950,\n\t'supsetneq;': 8843,\n\t'therefore;': 8756,\n\t'triangleq;': 8796,\n\t'varpropto;': 8733,\n\t'DDotrahd;': 10513,\n\t'DotEqual;': 8784,\n\t'Integral;': 8747,\n\t'LessLess;': 10913,\n\t'NotEqual;': 8800,\n\t'NotTilde;': 8769,\n\t'PartialD;': 8706,\n\t'Precedes;': 8826,\n\t'RightTee;': 8866,\n\t'Succeeds;': 8827,\n\t'SuchThat;': 8715,\n\t'Superset;': 8835,\n\t'Uarrocir;': 10569,\n\t'UnderBar;': 95,\n\t'andslope;': 10840,\n\t'angmsdaa;': 10664,\n\t'angmsdab;': 10665,\n\t'angmsdac;': 10666,\n\t'angmsdad;': 10667,\n\t'angmsdae;': 10668,\n\t'angmsdaf;': 10669,\n\t'angmsdag;': 10670,\n\t'angmsdah;': 10671,\n\t'angrtvbd;': 10653,\n\t'approxeq;': 8778,\n\t'awconint;': 8755,\n\t'backcong;': 8780,\n\t'barwedge;': 8965,\n\t'bbrktbrk;': 9142,\n\t'bigoplus;': 10753,\n\t'bigsqcup;': 10758,\n\t'biguplus;': 10756,\n\t'bigwedge;': 8896,\n\t'boxminus;': 8863,\n\t'boxtimes;': 8864,\n\t'bsolhsub;': 10184,\n\t'capbrcup;': 10825,\n\t'circledR;': 174,\n\t'circledS;': 9416,\n\t'cirfnint;': 10768,\n\t'clubsuit;': 9827,\n\t'cupbrcap;': 10824,\n\t'curlyvee;': 8910,\n\t'cwconint;': 8754,\n\t'doteqdot;': 8785,\n\t'dotminus;': 8760,\n\t'drbkarow;': 10512,\n\t'dzigrarr;': 10239,\n\t'elinters;': 9191,\n\t'emptyset;': 8709,\n\t'eqvparsl;': 10725,\n\t'fpartint;': 10765,\n\t'geqslant;': 10878,\n\t'gesdotol;': 10884,\n\t'gnapprox;': 10890,\n\t'hksearow;': 10533,\n\t'hkswarow;': 10534,\n\t'imagline;': 8464,\n\t'imagpart;': 8465,\n\t'infintie;': 10717,\n\t'integers;': 8484,\n\t'intercal;': 8890,\n\t'intlarhk;': 10775,\n\t'laemptyv;': 10676,\n\t'ldrushar;': 10571,\n\t'leqslant;': 10877,\n\t'lesdotor;': 10883,\n\t'llcorner;': 8990,\n\t'lnapprox;': 10889,\n\t'lrcorner;': 8991,\n\t'lurdshar;': 10570,\n\t'mapstoup;': 8613,\n\t'multimap;': 8888,\n\t'naturals;': 8469,\n\t'ncongdot;': 10861,\n\t'notindot;': 8949,\n\t'otimesas;': 10806,\n\t'parallel;': 8741,\n\t'plusacir;': 10787,\n\t'pointint;': 10773,\n\t'precneqq;': 10933,\n\t'precnsim;': 8936,\n\t'profalar;': 9006,\n\t'profline;': 8978,\n\t'profsurf;': 8979,\n\t'raemptyv;': 10675,\n\t'realpart;': 8476,\n\t'rppolint;': 10770,\n\t'rtriltri;': 10702,\n\t'scpolint;': 10771,\n\t'setminus;': 8726,\n\t'shortmid;': 8739,\n\t'smeparsl;': 10724,\n\t'sqsubset;': 8847,\n\t'sqsupset;': 8848,\n\t'subseteq;': 8838,\n\t'succneqq;': 10934,\n\t'succnsim;': 8937,\n\t'supseteq;': 8839,\n\t'thetasym;': 977,\n\t'thicksim;': 8764,\n\t'timesbar;': 10801,\n\t'triangle;': 9653,\n\t'triminus;': 10810,\n\t'trpezium;': 9186,\n\t'ulcorner;': 8988,\n\t'urcorner;': 8989,\n\t'varkappa;': 1008,\n\t'varsigma;': 962,\n\t'vartheta;': 977,\n\t'Because;': 8757,\n\t'Cayleys;': 8493,\n\t'Cconint;': 8752,\n\t'Cedilla;': 184,\n\t'Diamond;': 8900,\n\t'DownTee;': 8868,\n\t'Element;': 8712,\n\t'Epsilon;': 917,\n\t'Implies;': 8658,\n\t'LeftTee;': 8867,\n\t'NewLine;': 10,\n\t'NoBreak;': 8288,\n\t'NotLess;': 8814,\n\t'Omicron;': 927,\n\t'OverBar;': 8254,\n\t'Product;': 8719,\n\t'UpArrow;': 8593,\n\t'Uparrow;': 8657,\n\t'Upsilon;': 933,\n\t'alefsym;': 8501,\n\t'angrtvb;': 8894,\n\t'angzarr;': 9084,\n\t'asympeq;': 8781,\n\t'backsim;': 8765,\n\t'because;': 8757,\n\t'bemptyv;': 10672,\n\t'between;': 8812,\n\t'bigcirc;': 9711,\n\t'bigodot;': 10752,\n\t'bigstar;': 9733,\n\t'bnequiv;': 8801,\n\t'boxplus;': 8862,\n\t'ccupssm;': 10832,\n\t'cemptyv;': 10674,\n\t'cirscir;': 10690,\n\t'coloneq;': 8788,\n\t'congdot;': 10861,\n\t'cudarrl;': 10552,\n\t'cudarrr;': 10549,\n\t'cularrp;': 10557,\n\t'curarrm;': 10556,\n\t'dbkarow;': 10511,\n\t'ddagger;': 8225,\n\t'ddotseq;': 10871,\n\t'demptyv;': 10673,\n\t'diamond;': 8900,\n\t'digamma;': 989,\n\t'dotplus;': 8724,\n\t'dwangle;': 10662,\n\t'epsilon;': 949,\n\t'eqcolon;': 8789,\n\t'equivDD;': 10872,\n\t'gesdoto;': 10882,\n\t'gtquest;': 10876,\n\t'gtrless;': 8823,\n\t'harrcir;': 10568,\n\t'intprod;': 10812,\n\t'isindot;': 8949,\n\t'larrbfs;': 10527,\n\t'larrsim;': 10611,\n\t'lbrksld;': 10639,\n\t'lbrkslu;': 10637,\n\t'ldrdhar;': 10599,\n\t'lesdoto;': 10881,\n\t'lessdot;': 8918,\n\t'lessgtr;': 8822,\n\t'lesssim;': 8818,\n\t'lotimes;': 10804,\n\t'lozenge;': 9674,\n\t'ltquest;': 10875,\n\t'luruhar;': 10598,\n\t'maltese;': 10016,\n\t'minusdu;': 10794,\n\t'napprox;': 8777,\n\t'natural;': 9838,\n\t'nearrow;': 8599,\n\t'nexists;': 8708,\n\t'notinva;': 8713,\n\t'notinvb;': 8951,\n\t'notinvc;': 8950,\n\t'notniva;': 8716,\n\t'notnivb;': 8958,\n\t'notnivc;': 8957,\n\t'npolint;': 10772,\n\t'npreceq;': 10927,\n\t'nsqsube;': 8930,\n\t'nsqsupe;': 8931,\n\t'nsubset;': 8834,\n\t'nsucceq;': 10928,\n\t'nsupset;': 8835,\n\t'nvinfin;': 10718,\n\t'nvltrie;': 8884,\n\t'nvrtrie;': 8885,\n\t'nwarrow;': 8598,\n\t'olcross;': 10683,\n\t'omicron;': 959,\n\t'orderof;': 8500,\n\t'orslope;': 10839,\n\t'pertenk;': 8241,\n\t'planckh;': 8462,\n\t'pluscir;': 10786,\n\t'plussim;': 10790,\n\t'plustwo;': 10791,\n\t'precsim;': 8830,\n\t'quatint;': 10774,\n\t'questeq;': 8799,\n\t'rarrbfs;': 10528,\n\t'rarrsim;': 10612,\n\t'rbrksld;': 10638,\n\t'rbrkslu;': 10640,\n\t'rdldhar;': 10601,\n\t'realine;': 8475,\n\t'rotimes;': 10805,\n\t'ruluhar;': 10600,\n\t'searrow;': 8600,\n\t'simplus;': 10788,\n\t'simrarr;': 10610,\n\t'subedot;': 10947,\n\t'submult;': 10945,\n\t'subplus;': 10943,\n\t'subrarr;': 10617,\n\t'succsim;': 8831,\n\t'supdsub;': 10968,\n\t'supedot;': 10948,\n\t'suphsol;': 10185,\n\t'suphsub;': 10967,\n\t'suplarr;': 10619,\n\t'supmult;': 10946,\n\t'supplus;': 10944,\n\t'swarrow;': 8601,\n\t'topfork;': 10970,\n\t'triplus;': 10809,\n\t'tritime;': 10811,\n\t'uparrow;': 8593,\n\t'upsilon;': 965,\n\t'uwangle;': 10663,\n\t'vzigzag;': 10650,\n\t'zigrarr;': 8669,\n\t'Aacute;': 193,\n\t'Abreve;': 258,\n\t'Agrave;': 192,\n\t'Assign;': 8788,\n\t'Atilde;': 195,\n\t'Barwed;': 8966,\n\t'Bumpeq;': 8782,\n\t'Cacute;': 262,\n\t'Ccaron;': 268,\n\t'Ccedil;': 199,\n\t'Colone;': 10868,\n\t'Conint;': 8751,\n\t'CupCap;': 8781,\n\t'Dagger;': 8225,\n\t'Dcaron;': 270,\n\t'DotDot;': 8412,\n\t'Dstrok;': 272,\n\t'Eacute;': 201,\n\t'Ecaron;': 282,\n\t'Egrave;': 200,\n\t'Exists;': 8707,\n\t'ForAll;': 8704,\n\t'Gammad;': 988,\n\t'Gbreve;': 286,\n\t'Gcedil;': 290,\n\t'HARDcy;': 1066,\n\t'Hstrok;': 294,\n\t'Iacute;': 205,\n\t'Igrave;': 204,\n\t'Itilde;': 296,\n\t'Jsercy;': 1032,\n\t'Kcedil;': 310,\n\t'Lacute;': 313,\n\t'Lambda;': 923,\n\t'Lcaron;': 317,\n\t'Lcedil;': 315,\n\t'Lmidot;': 319,\n\t'Lstrok;': 321,\n\t'Nacute;': 323,\n\t'Ncaron;': 327,\n\t'Ncedil;': 325,\n\t'Ntilde;': 209,\n\t'Oacute;': 211,\n\t'Odblac;': 336,\n\t'Ograve;': 210,\n\t'Oslash;': 216,\n\t'Otilde;': 213,\n\t'Otimes;': 10807,\n\t'Racute;': 340,\n\t'Rarrtl;': 10518,\n\t'Rcaron;': 344,\n\t'Rcedil;': 342,\n\t'SHCHcy;': 1065,\n\t'SOFTcy;': 1068,\n\t'Sacute;': 346,\n\t'Scaron;': 352,\n\t'Scedil;': 350,\n\t'Square;': 9633,\n\t'Subset;': 8912,\n\t'Supset;': 8913,\n\t'Tcaron;': 356,\n\t'Tcedil;': 354,\n\t'Tstrok;': 358,\n\t'Uacute;': 218,\n\t'Ubreve;': 364,\n\t'Udblac;': 368,\n\t'Ugrave;': 217,\n\t'Utilde;': 360,\n\t'Vdashl;': 10982,\n\t'Verbar;': 8214,\n\t'Vvdash;': 8874,\n\t'Yacute;': 221,\n\t'Zacute;': 377,\n\t'Zcaron;': 381,\n\t'aacute;': 225,\n\t'abreve;': 259,\n\t'agrave;': 224,\n\t'andand;': 10837,\n\t'angmsd;': 8737,\n\t'angsph;': 8738,\n\t'apacir;': 10863,\n\t'approx;': 8776,\n\t'atilde;': 227,\n\t'barvee;': 8893,\n\t'barwed;': 8965,\n\t'becaus;': 8757,\n\t'bernou;': 8492,\n\t'bigcap;': 8898,\n\t'bigcup;': 8899,\n\t'bigvee;': 8897,\n\t'bkarow;': 10509,\n\t'bottom;': 8869,\n\t'bowtie;': 8904,\n\t'boxbox;': 10697,\n\t'bprime;': 8245,\n\t'brvbar;': 166,\n\t'bullet;': 8226,\n\t'bumpeq;': 8783,\n\t'cacute;': 263,\n\t'capand;': 10820,\n\t'capcap;': 10827,\n\t'capcup;': 10823,\n\t'capdot;': 10816,\n\t'ccaron;': 269,\n\t'ccedil;': 231,\n\t'circeq;': 8791,\n\t'cirmid;': 10991,\n\t'colone;': 8788,\n\t'commat;': 64,\n\t'compfn;': 8728,\n\t'conint;': 8750,\n\t'coprod;': 8720,\n\t'copysr;': 8471,\n\t'cularr;': 8630,\n\t'cupcap;': 10822,\n\t'cupcup;': 10826,\n\t'cupdot;': 8845,\n\t'curarr;': 8631,\n\t'curren;': 164,\n\t'cylcty;': 9005,\n\t'dagger;': 8224,\n\t'daleth;': 8504,\n\t'dcaron;': 271,\n\t'dfisht;': 10623,\n\t'divide;': 247,\n\t'divonx;': 8903,\n\t'dlcorn;': 8990,\n\t'dlcrop;': 8973,\n\t'dollar;': 36,\n\t'drcorn;': 8991,\n\t'drcrop;': 8972,\n\t'dstrok;': 273,\n\t'eacute;': 233,\n\t'easter;': 10862,\n\t'ecaron;': 283,\n\t'ecolon;': 8789,\n\t'egrave;': 232,\n\t'egsdot;': 10904,\n\t'elsdot;': 10903,\n\t'emptyv;': 8709,\n\t'emsp13;': 8196,\n\t'emsp14;': 8197,\n\t'eparsl;': 10723,\n\t'eqcirc;': 8790,\n\t'equals;': 61,\n\t'equest;': 8799,\n\t'female;': 9792,\n\t'ffilig;': 64259,\n\t'ffllig;': 64260,\n\t'forall;': 8704,\n\t'frac12;': 189,\n\t'frac13;': 8531,\n\t'frac14;': 188,\n\t'frac15;': 8533,\n\t'frac16;': 8537,\n\t'frac18;': 8539,\n\t'frac23;': 8532,\n\t'frac25;': 8534,\n\t'frac34;': 190,\n\t'frac35;': 8535,\n\t'frac38;': 8540,\n\t'frac45;': 8536,\n\t'frac56;': 8538,\n\t'frac58;': 8541,\n\t'frac78;': 8542,\n\t'gacute;': 501,\n\t'gammad;': 989,\n\t'gbreve;': 287,\n\t'gesdot;': 10880,\n\t'gesles;': 10900,\n\t'gtlPar;': 10645,\n\t'gtrarr;': 10616,\n\t'gtrdot;': 8919,\n\t'gtrsim;': 8819,\n\t'hairsp;': 8202,\n\t'hamilt;': 8459,\n\t'hardcy;': 1098,\n\t'hearts;': 9829,\n\t'hellip;': 8230,\n\t'hercon;': 8889,\n\t'homtht;': 8763,\n\t'horbar;': 8213,\n\t'hslash;': 8463,\n\t'hstrok;': 295,\n\t'hybull;': 8259,\n\t'hyphen;': 8208,\n\t'iacute;': 237,\n\t'igrave;': 236,\n\t'iiiint;': 10764,\n\t'iinfin;': 10716,\n\t'incare;': 8453,\n\t'inodot;': 305,\n\t'intcal;': 8890,\n\t'iquest;': 191,\n\t'isinsv;': 8947,\n\t'itilde;': 297,\n\t'jsercy;': 1112,\n\t'kappav;': 1008,\n\t'kcedil;': 311,\n\t'kgreen;': 312,\n\t'lAtail;': 10523,\n\t'lacute;': 314,\n\t'lagran;': 8466,\n\t'lambda;': 955,\n\t'langle;': 10216,\n\t'larrfs;': 10525,\n\t'larrhk;': 8617,\n\t'larrlp;': 8619,\n\t'larrpl;': 10553,\n\t'larrtl;': 8610,\n\t'latail;': 10521,\n\t'lbrace;': 123,\n\t'lbrack;': 91,\n\t'lcaron;': 318,\n\t'lcedil;': 316,\n\t'ldquor;': 8222,\n\t'lesdot;': 10879,\n\t'lesges;': 10899,\n\t'lfisht;': 10620,\n\t'lfloor;': 8970,\n\t'lharul;': 10602,\n\t'llhard;': 10603,\n\t'lmidot;': 320,\n\t'lmoust;': 9136,\n\t'loplus;': 10797,\n\t'lowast;': 8727,\n\t'lowbar;': 95,\n\t'lparlt;': 10643,\n\t'lrhard;': 10605,\n\t'lsaquo;': 8249,\n\t'lsquor;': 8218,\n\t'lstrok;': 322,\n\t'lthree;': 8907,\n\t'ltimes;': 8905,\n\t'ltlarr;': 10614,\n\t'ltrPar;': 10646,\n\t'mapsto;': 8614,\n\t'marker;': 9646,\n\t'mcomma;': 10793,\n\t'midast;': 42,\n\t'midcir;': 10992,\n\t'middot;': 183,\n\t'minusb;': 8863,\n\t'minusd;': 8760,\n\t'mnplus;': 8723,\n\t'models;': 8871,\n\t'mstpos;': 8766,\n\t'nVDash;': 8879,\n\t'nVdash;': 8878,\n\t'nacute;': 324,\n\t'nbumpe;': 8783,\n\t'ncaron;': 328,\n\t'ncedil;': 326,\n\t'nearhk;': 10532,\n\t'nequiv;': 8802,\n\t'nesear;': 10536,\n\t'nexist;': 8708,\n\t'nltrie;': 8940,\n\t'notinE;': 8953,\n\t'nparsl;': 11005,\n\t'nprcue;': 8928,\n\t'nrarrc;': 10547,\n\t'nrarrw;': 8605,\n\t'nrtrie;': 8941,\n\t'nsccue;': 8929,\n\t'nsimeq;': 8772,\n\t'ntilde;': 241,\n\t'numero;': 8470,\n\t'nvDash;': 8877,\n\t'nvHarr;': 10500,\n\t'nvdash;': 8876,\n\t'nvlArr;': 10498,\n\t'nvrArr;': 10499,\n\t'nwarhk;': 10531,\n\t'nwnear;': 10535,\n\t'oacute;': 243,\n\t'odblac;': 337,\n\t'odsold;': 10684,\n\t'ograve;': 242,\n\t'ominus;': 8854,\n\t'origof;': 8886,\n\t'oslash;': 248,\n\t'otilde;': 245,\n\t'otimes;': 8855,\n\t'parsim;': 10995,\n\t'percnt;': 37,\n\t'period;': 46,\n\t'permil;': 8240,\n\t'phmmat;': 8499,\n\t'planck;': 8463,\n\t'plankv;': 8463,\n\t'plusdo;': 8724,\n\t'plusdu;': 10789,\n\t'plusmn;': 177,\n\t'preceq;': 10927,\n\t'primes;': 8473,\n\t'prnsim;': 8936,\n\t'propto;': 8733,\n\t'prurel;': 8880,\n\t'puncsp;': 8200,\n\t'qprime;': 8279,\n\t'rAtail;': 10524,\n\t'racute;': 341,\n\t'rangle;': 10217,\n\t'rarrap;': 10613,\n\t'rarrfs;': 10526,\n\t'rarrhk;': 8618,\n\t'rarrlp;': 8620,\n\t'rarrpl;': 10565,\n\t'rarrtl;': 8611,\n\t'ratail;': 10522,\n\t'rbrace;': 125,\n\t'rbrack;': 93,\n\t'rcaron;': 345,\n\t'rcedil;': 343,\n\t'rdquor;': 8221,\n\t'rfisht;': 10621,\n\t'rfloor;': 8971,\n\t'rharul;': 10604,\n\t'rmoust;': 9137,\n\t'roplus;': 10798,\n\t'rpargt;': 10644,\n\t'rsaquo;': 8250,\n\t'rsquor;': 8217,\n\t'rthree;': 8908,\n\t'rtimes;': 8906,\n\t'sacute;': 347,\n\t'scaron;': 353,\n\t'scedil;': 351,\n\t'scnsim;': 8937,\n\t'searhk;': 10533,\n\t'seswar;': 10537,\n\t'sfrown;': 8994,\n\t'shchcy;': 1097,\n\t'sigmaf;': 962,\n\t'sigmav;': 962,\n\t'simdot;': 10858,\n\t'smashp;': 10803,\n\t'softcy;': 1100,\n\t'solbar;': 9023,\n\t'spades;': 9824,\n\t'sqcaps;': 8851,\n\t'sqcups;': 8852,\n\t'sqsube;': 8849,\n\t'sqsupe;': 8850,\n\t'square;': 9633,\n\t'squarf;': 9642,\n\t'ssetmn;': 8726,\n\t'ssmile;': 8995,\n\t'sstarf;': 8902,\n\t'subdot;': 10941,\n\t'subset;': 8834,\n\t'subsim;': 10951,\n\t'subsub;': 10965,\n\t'subsup;': 10963,\n\t'succeq;': 10928,\n\t'supdot;': 10942,\n\t'supset;': 8835,\n\t'supsim;': 10952,\n\t'supsub;': 10964,\n\t'supsup;': 10966,\n\t'swarhk;': 10534,\n\t'swnwar;': 10538,\n\t'target;': 8982,\n\t'tcaron;': 357,\n\t'tcedil;': 355,\n\t'telrec;': 8981,\n\t'there4;': 8756,\n\t'thetav;': 977,\n\t'thinsp;': 8201,\n\t'thksim;': 8764,\n\t'timesb;': 8864,\n\t'timesd;': 10800,\n\t'topbot;': 9014,\n\t'topcir;': 10993,\n\t'tprime;': 8244,\n\t'tridot;': 9708,\n\t'tstrok;': 359,\n\t'uacute;': 250,\n\t'ubreve;': 365,\n\t'udblac;': 369,\n\t'ufisht;': 10622,\n\t'ugrave;': 249,\n\t'ulcorn;': 8988,\n\t'ulcrop;': 8975,\n\t'urcorn;': 8989,\n\t'urcrop;': 8974,\n\t'utilde;': 361,\n\t'vangrt;': 10652,\n\t'varphi;': 981,\n\t'varrho;': 1009,\n\t'veebar;': 8891,\n\t'vellip;': 8942,\n\t'verbar;': 124,\n\t'vsubnE;': 10955,\n\t'vsubne;': 8842,\n\t'vsupnE;': 10956,\n\t'vsupne;': 8843,\n\t'wedbar;': 10847,\n\t'wedgeq;': 8793,\n\t'weierp;': 8472,\n\t'wreath;': 8768,\n\t'xoplus;': 10753,\n\t'xotime;': 10754,\n\t'xsqcup;': 10758,\n\t'xuplus;': 10756,\n\t'xwedge;': 8896,\n\t'yacute;': 253,\n\t'zacute;': 378,\n\t'zcaron;': 382,\n\t'zeetrf;': 8488,\n\t'AElig;': 198,\n\tAacute: 193,\n\t'Acirc;': 194,\n\tAgrave: 192,\n\t'Alpha;': 913,\n\t'Amacr;': 256,\n\t'Aogon;': 260,\n\t'Aring;': 197,\n\tAtilde: 195,\n\t'Breve;': 728,\n\tCcedil: 199,\n\t'Ccirc;': 264,\n\t'Colon;': 8759,\n\t'Cross;': 10799,\n\t'Dashv;': 10980,\n\t'Delta;': 916,\n\tEacute: 201,\n\t'Ecirc;': 202,\n\tEgrave: 200,\n\t'Emacr;': 274,\n\t'Eogon;': 280,\n\t'Equal;': 10869,\n\t'Gamma;': 915,\n\t'Gcirc;': 284,\n\t'Hacek;': 711,\n\t'Hcirc;': 292,\n\t'IJlig;': 306,\n\tIacute: 205,\n\t'Icirc;': 206,\n\tIgrave: 204,\n\t'Imacr;': 298,\n\t'Iogon;': 302,\n\t'Iukcy;': 1030,\n\t'Jcirc;': 308,\n\t'Jukcy;': 1028,\n\t'Kappa;': 922,\n\tNtilde: 209,\n\t'OElig;': 338,\n\tOacute: 211,\n\t'Ocirc;': 212,\n\tOgrave: 210,\n\t'Omacr;': 332,\n\t'Omega;': 937,\n\tOslash: 216,\n\tOtilde: 213,\n\t'Prime;': 8243,\n\t'RBarr;': 10512,\n\t'Scirc;': 348,\n\t'Sigma;': 931,\n\t'THORN;': 222,\n\t'TRADE;': 8482,\n\t'TSHcy;': 1035,\n\t'Theta;': 920,\n\t'Tilde;': 8764,\n\tUacute: 218,\n\t'Ubrcy;': 1038,\n\t'Ucirc;': 219,\n\tUgrave: 217,\n\t'Umacr;': 362,\n\t'Union;': 8899,\n\t'Uogon;': 370,\n\t'UpTee;': 8869,\n\t'Uring;': 366,\n\t'VDash;': 8875,\n\t'Vdash;': 8873,\n\t'Wcirc;': 372,\n\t'Wedge;': 8896,\n\tYacute: 221,\n\t'Ycirc;': 374,\n\taacute: 225,\n\t'acirc;': 226,\n\t'acute;': 180,\n\t'aelig;': 230,\n\tagrave: 224,\n\t'aleph;': 8501,\n\t'alpha;': 945,\n\t'amacr;': 257,\n\t'amalg;': 10815,\n\t'angle;': 8736,\n\t'angrt;': 8735,\n\t'angst;': 197,\n\t'aogon;': 261,\n\t'aring;': 229,\n\t'asymp;': 8776,\n\tatilde: 227,\n\t'awint;': 10769,\n\t'bcong;': 8780,\n\t'bdquo;': 8222,\n\t'bepsi;': 1014,\n\t'blank;': 9251,\n\t'blk12;': 9618,\n\t'blk14;': 9617,\n\t'blk34;': 9619,\n\t'block;': 9608,\n\t'boxDL;': 9559,\n\t'boxDR;': 9556,\n\t'boxDl;': 9558,\n\t'boxDr;': 9555,\n\t'boxHD;': 9574,\n\t'boxHU;': 9577,\n\t'boxHd;': 9572,\n\t'boxHu;': 9575,\n\t'boxUL;': 9565,\n\t'boxUR;': 9562,\n\t'boxUl;': 9564,\n\t'boxUr;': 9561,\n\t'boxVH;': 9580,\n\t'boxVL;': 9571,\n\t'boxVR;': 9568,\n\t'boxVh;': 9579,\n\t'boxVl;': 9570,\n\t'boxVr;': 9567,\n\t'boxdL;': 9557,\n\t'boxdR;': 9554,\n\t'boxdl;': 9488,\n\t'boxdr;': 9484,\n\t'boxhD;': 9573,\n\t'boxhU;': 9576,\n\t'boxhd;': 9516,\n\t'boxhu;': 9524,\n\t'boxuL;': 9563,\n\t'boxuR;': 9560,\n\t'boxul;': 9496,\n\t'boxur;': 9492,\n\t'boxvH;': 9578,\n\t'boxvL;': 9569,\n\t'boxvR;': 9566,\n\t'boxvh;': 9532,\n\t'boxvl;': 9508,\n\t'boxvr;': 9500,\n\t'breve;': 728,\n\tbrvbar: 166,\n\t'bsemi;': 8271,\n\t'bsime;': 8909,\n\t'bsolb;': 10693,\n\t'bumpE;': 10926,\n\t'bumpe;': 8783,\n\t'caret;': 8257,\n\t'caron;': 711,\n\t'ccaps;': 10829,\n\tccedil: 231,\n\t'ccirc;': 265,\n\t'ccups;': 10828,\n\t'cedil;': 184,\n\t'check;': 10003,\n\t'clubs;': 9827,\n\t'colon;': 58,\n\t'comma;': 44,\n\t'crarr;': 8629,\n\t'cross;': 10007,\n\t'csube;': 10961,\n\t'csupe;': 10962,\n\t'ctdot;': 8943,\n\t'cuepr;': 8926,\n\t'cuesc;': 8927,\n\t'cupor;': 10821,\n\tcurren: 164,\n\t'cuvee;': 8910,\n\t'cuwed;': 8911,\n\t'cwint;': 8753,\n\t'dashv;': 8867,\n\t'dblac;': 733,\n\t'ddarr;': 8650,\n\t'delta;': 948,\n\t'dharl;': 8643,\n\t'dharr;': 8642,\n\t'diams;': 9830,\n\t'disin;': 8946,\n\tdivide: 247,\n\t'doteq;': 8784,\n\t'dtdot;': 8945,\n\t'dtrif;': 9662,\n\t'duarr;': 8693,\n\t'duhar;': 10607,\n\t'eDDot;': 10871,\n\teacute: 233,\n\t'ecirc;': 234,\n\t'efDot;': 8786,\n\tegrave: 232,\n\t'emacr;': 275,\n\t'empty;': 8709,\n\t'eogon;': 281,\n\t'eplus;': 10865,\n\t'epsiv;': 1013,\n\t'eqsim;': 8770,\n\t'equiv;': 8801,\n\t'erDot;': 8787,\n\t'erarr;': 10609,\n\t'esdot;': 8784,\n\t'exist;': 8707,\n\t'fflig;': 64256,\n\t'filig;': 64257,\n\t'fjlig;': 102,\n\t'fllig;': 64258,\n\t'fltns;': 9649,\n\t'forkv;': 10969,\n\tfrac12: 189,\n\tfrac14: 188,\n\tfrac34: 190,\n\t'frasl;': 8260,\n\t'frown;': 8994,\n\t'gamma;': 947,\n\t'gcirc;': 285,\n\t'gescc;': 10921,\n\t'gimel;': 8503,\n\t'gneqq;': 8809,\n\t'gnsim;': 8935,\n\t'grave;': 96,\n\t'gsime;': 10894,\n\t'gsiml;': 10896,\n\t'gtcir;': 10874,\n\t'gtdot;': 8919,\n\t'harrw;': 8621,\n\t'hcirc;': 293,\n\t'hoarr;': 8703,\n\tiacute: 237,\n\t'icirc;': 238,\n\t'iexcl;': 161,\n\tigrave: 236,\n\t'iiint;': 8749,\n\t'iiota;': 8489,\n\t'ijlig;': 307,\n\t'imacr;': 299,\n\t'image;': 8465,\n\t'imath;': 305,\n\t'imped;': 437,\n\t'infin;': 8734,\n\t'iogon;': 303,\n\t'iprod;': 10812,\n\tiquest: 191,\n\t'isinE;': 8953,\n\t'isins;': 8948,\n\t'isinv;': 8712,\n\t'iukcy;': 1110,\n\t'jcirc;': 309,\n\t'jmath;': 567,\n\t'jukcy;': 1108,\n\t'kappa;': 954,\n\t'lAarr;': 8666,\n\t'lBarr;': 10510,\n\t'langd;': 10641,\n\t'laquo;': 171,\n\t'larrb;': 8676,\n\t'lates;': 10925,\n\t'lbarr;': 10508,\n\t'lbbrk;': 10098,\n\t'lbrke;': 10635,\n\t'lceil;': 8968,\n\t'ldquo;': 8220,\n\t'lescc;': 10920,\n\t'lhard;': 8637,\n\t'lharu;': 8636,\n\t'lhblk;': 9604,\n\t'llarr;': 8647,\n\t'lltri;': 9722,\n\t'lneqq;': 8808,\n\t'lnsim;': 8934,\n\t'loang;': 10220,\n\t'loarr;': 8701,\n\t'lobrk;': 10214,\n\t'lopar;': 10629,\n\t'lrarr;': 8646,\n\t'lrhar;': 8651,\n\t'lrtri;': 8895,\n\t'lsime;': 10893,\n\t'lsimg;': 10895,\n\t'lsquo;': 8216,\n\t'ltcir;': 10873,\n\t'ltdot;': 8918,\n\t'ltrie;': 8884,\n\t'ltrif;': 9666,\n\t'mDDot;': 8762,\n\t'mdash;': 8212,\n\t'micro;': 181,\n\tmiddot: 183,\n\t'minus;': 8722,\n\t'mumap;': 8888,\n\t'nabla;': 8711,\n\t'napid;': 8779,\n\t'napos;': 329,\n\t'natur;': 9838,\n\t'nbump;': 8782,\n\t'ncong;': 8775,\n\t'ndash;': 8211,\n\t'neArr;': 8663,\n\t'nearr;': 8599,\n\t'nedot;': 8784,\n\t'nesim;': 8770,\n\t'ngeqq;': 8807,\n\t'ngsim;': 8821,\n\t'nhArr;': 8654,\n\t'nharr;': 8622,\n\t'nhpar;': 10994,\n\t'nlArr;': 8653,\n\t'nlarr;': 8602,\n\t'nleqq;': 8806,\n\t'nless;': 8814,\n\t'nlsim;': 8820,\n\t'nltri;': 8938,\n\t'notin;': 8713,\n\t'notni;': 8716,\n\t'npart;': 8706,\n\t'nprec;': 8832,\n\t'nrArr;': 8655,\n\t'nrarr;': 8603,\n\t'nrtri;': 8939,\n\t'nsime;': 8772,\n\t'nsmid;': 8740,\n\t'nspar;': 8742,\n\t'nsubE;': 10949,\n\t'nsube;': 8840,\n\t'nsucc;': 8833,\n\t'nsupE;': 10950,\n\t'nsupe;': 8841,\n\tntilde: 241,\n\t'numsp;': 8199,\n\t'nvsim;': 8764,\n\t'nwArr;': 8662,\n\t'nwarr;': 8598,\n\toacute: 243,\n\t'ocirc;': 244,\n\t'odash;': 8861,\n\t'oelig;': 339,\n\t'ofcir;': 10687,\n\tograve: 242,\n\t'ohbar;': 10677,\n\t'olarr;': 8634,\n\t'olcir;': 10686,\n\t'oline;': 8254,\n\t'omacr;': 333,\n\t'omega;': 969,\n\t'operp;': 10681,\n\t'oplus;': 8853,\n\t'orarr;': 8635,\n\t'order;': 8500,\n\toslash: 248,\n\totilde: 245,\n\t'ovbar;': 9021,\n\t'parsl;': 11005,\n\t'phone;': 9742,\n\t'plusb;': 8862,\n\t'pluse;': 10866,\n\tplusmn: 177,\n\t'pound;': 163,\n\t'prcue;': 8828,\n\t'prime;': 8242,\n\t'prnap;': 10937,\n\t'prsim;': 8830,\n\t'quest;': 63,\n\t'rAarr;': 8667,\n\t'rBarr;': 10511,\n\t'radic;': 8730,\n\t'rangd;': 10642,\n\t'range;': 10661,\n\t'raquo;': 187,\n\t'rarrb;': 8677,\n\t'rarrc;': 10547,\n\t'rarrw;': 8605,\n\t'ratio;': 8758,\n\t'rbarr;': 10509,\n\t'rbbrk;': 10099,\n\t'rbrke;': 10636,\n\t'rceil;': 8969,\n\t'rdquo;': 8221,\n\t'reals;': 8477,\n\t'rhard;': 8641,\n\t'rharu;': 8640,\n\t'rlarr;': 8644,\n\t'rlhar;': 8652,\n\t'rnmid;': 10990,\n\t'roang;': 10221,\n\t'roarr;': 8702,\n\t'robrk;': 10215,\n\t'ropar;': 10630,\n\t'rrarr;': 8649,\n\t'rsquo;': 8217,\n\t'rtrie;': 8885,\n\t'rtrif;': 9656,\n\t'sbquo;': 8218,\n\t'sccue;': 8829,\n\t'scirc;': 349,\n\t'scnap;': 10938,\n\t'scsim;': 8831,\n\t'sdotb;': 8865,\n\t'sdote;': 10854,\n\t'seArr;': 8664,\n\t'searr;': 8600,\n\t'setmn;': 8726,\n\t'sharp;': 9839,\n\t'sigma;': 963,\n\t'simeq;': 8771,\n\t'simgE;': 10912,\n\t'simlE;': 10911,\n\t'simne;': 8774,\n\t'slarr;': 8592,\n\t'smile;': 8995,\n\t'smtes;': 10924,\n\t'sqcap;': 8851,\n\t'sqcup;': 8852,\n\t'sqsub;': 8847,\n\t'sqsup;': 8848,\n\t'srarr;': 8594,\n\t'starf;': 9733,\n\t'strns;': 175,\n\t'subnE;': 10955,\n\t'subne;': 8842,\n\t'supnE;': 10956,\n\t'supne;': 8843,\n\t'swArr;': 8665,\n\t'swarr;': 8601,\n\t'szlig;': 223,\n\t'theta;': 952,\n\t'thkap;': 8776,\n\t'thorn;': 254,\n\t'tilde;': 732,\n\t'times;': 215,\n\t'trade;': 8482,\n\t'trisb;': 10701,\n\t'tshcy;': 1115,\n\t'twixt;': 8812,\n\tuacute: 250,\n\t'ubrcy;': 1118,\n\t'ucirc;': 251,\n\t'udarr;': 8645,\n\t'udhar;': 10606,\n\tugrave: 249,\n\t'uharl;': 8639,\n\t'uharr;': 8638,\n\t'uhblk;': 9600,\n\t'ultri;': 9720,\n\t'umacr;': 363,\n\t'uogon;': 371,\n\t'uplus;': 8846,\n\t'upsih;': 978,\n\t'uring;': 367,\n\t'urtri;': 9721,\n\t'utdot;': 8944,\n\t'utrif;': 9652,\n\t'uuarr;': 8648,\n\t'vBarv;': 10985,\n\t'vDash;': 8872,\n\t'varpi;': 982,\n\t'vdash;': 8866,\n\t'veeeq;': 8794,\n\t'vltri;': 8882,\n\t'vnsub;': 8834,\n\t'vnsup;': 8835,\n\t'vprop;': 8733,\n\t'vrtri;': 8883,\n\t'wcirc;': 373,\n\t'wedge;': 8743,\n\t'xcirc;': 9711,\n\t'xdtri;': 9661,\n\t'xhArr;': 10234,\n\t'xharr;': 10231,\n\t'xlArr;': 10232,\n\t'xlarr;': 10229,\n\t'xodot;': 10752,\n\t'xrArr;': 10233,\n\t'xrarr;': 10230,\n\t'xutri;': 9651,\n\tyacute: 253,\n\t'ycirc;': 375,\n\tAElig: 198,\n\tAcirc: 194,\n\t'Aopf;': 120120,\n\tAring: 197,\n\t'Ascr;': 119964,\n\t'Auml;': 196,\n\t'Barv;': 10983,\n\t'Beta;': 914,\n\t'Bopf;': 120121,\n\t'Bscr;': 8492,\n\t'CHcy;': 1063,\n\t'COPY;': 169,\n\t'Cdot;': 266,\n\t'Copf;': 8450,\n\t'Cscr;': 119966,\n\t'DJcy;': 1026,\n\t'DScy;': 1029,\n\t'DZcy;': 1039,\n\t'Darr;': 8609,\n\t'Dopf;': 120123,\n\t'Dscr;': 119967,\n\tEcirc: 202,\n\t'Edot;': 278,\n\t'Eopf;': 120124,\n\t'Escr;': 8496,\n\t'Esim;': 10867,\n\t'Euml;': 203,\n\t'Fopf;': 120125,\n\t'Fscr;': 8497,\n\t'GJcy;': 1027,\n\t'Gdot;': 288,\n\t'Gopf;': 120126,\n\t'Gscr;': 119970,\n\t'Hopf;': 8461,\n\t'Hscr;': 8459,\n\t'IEcy;': 1045,\n\t'IOcy;': 1025,\n\tIcirc: 206,\n\t'Idot;': 304,\n\t'Iopf;': 120128,\n\t'Iota;': 921,\n\t'Iscr;': 8464,\n\t'Iuml;': 207,\n\t'Jopf;': 120129,\n\t'Jscr;': 119973,\n\t'KHcy;': 1061,\n\t'KJcy;': 1036,\n\t'Kopf;': 120130,\n\t'Kscr;': 119974,\n\t'LJcy;': 1033,\n\t'Lang;': 10218,\n\t'Larr;': 8606,\n\t'Lopf;': 120131,\n\t'Lscr;': 8466,\n\t'Mopf;': 120132,\n\t'Mscr;': 8499,\n\t'NJcy;': 1034,\n\t'Nopf;': 8469,\n\t'Nscr;': 119977,\n\tOcirc: 212,\n\t'Oopf;': 120134,\n\t'Oscr;': 119978,\n\t'Ouml;': 214,\n\t'Popf;': 8473,\n\t'Pscr;': 119979,\n\t'QUOT;': 34,\n\t'Qopf;': 8474,\n\t'Qscr;': 119980,\n\t'Rang;': 10219,\n\t'Rarr;': 8608,\n\t'Ropf;': 8477,\n\t'Rscr;': 8475,\n\t'SHcy;': 1064,\n\t'Sopf;': 120138,\n\t'Sqrt;': 8730,\n\t'Sscr;': 119982,\n\t'Star;': 8902,\n\tTHORN: 222,\n\t'TScy;': 1062,\n\t'Topf;': 120139,\n\t'Tscr;': 119983,\n\t'Uarr;': 8607,\n\tUcirc: 219,\n\t'Uopf;': 120140,\n\t'Upsi;': 978,\n\t'Uscr;': 119984,\n\t'Uuml;': 220,\n\t'Vbar;': 10987,\n\t'Vert;': 8214,\n\t'Vopf;': 120141,\n\t'Vscr;': 119985,\n\t'Wopf;': 120142,\n\t'Wscr;': 119986,\n\t'Xopf;': 120143,\n\t'Xscr;': 119987,\n\t'YAcy;': 1071,\n\t'YIcy;': 1031,\n\t'YUcy;': 1070,\n\t'Yopf;': 120144,\n\t'Yscr;': 119988,\n\t'Yuml;': 376,\n\t'ZHcy;': 1046,\n\t'Zdot;': 379,\n\t'Zeta;': 918,\n\t'Zopf;': 8484,\n\t'Zscr;': 119989,\n\tacirc: 226,\n\tacute: 180,\n\taelig: 230,\n\t'andd;': 10844,\n\t'andv;': 10842,\n\t'ange;': 10660,\n\t'aopf;': 120146,\n\t'apid;': 8779,\n\t'apos;': 39,\n\taring: 229,\n\t'ascr;': 119990,\n\t'auml;': 228,\n\t'bNot;': 10989,\n\t'bbrk;': 9141,\n\t'beta;': 946,\n\t'beth;': 8502,\n\t'bnot;': 8976,\n\t'bopf;': 120147,\n\t'boxH;': 9552,\n\t'boxV;': 9553,\n\t'boxh;': 9472,\n\t'boxv;': 9474,\n\t'bscr;': 119991,\n\t'bsim;': 8765,\n\t'bsol;': 92,\n\t'bull;': 8226,\n\t'bump;': 8782,\n\t'caps;': 8745,\n\t'cdot;': 267,\n\tcedil: 184,\n\t'cent;': 162,\n\t'chcy;': 1095,\n\t'cirE;': 10691,\n\t'circ;': 710,\n\t'cire;': 8791,\n\t'comp;': 8705,\n\t'cong;': 8773,\n\t'copf;': 120148,\n\t'copy;': 169,\n\t'cscr;': 119992,\n\t'csub;': 10959,\n\t'csup;': 10960,\n\t'cups;': 8746,\n\t'dArr;': 8659,\n\t'dHar;': 10597,\n\t'darr;': 8595,\n\t'dash;': 8208,\n\t'diam;': 8900,\n\t'djcy;': 1106,\n\t'dopf;': 120149,\n\t'dscr;': 119993,\n\t'dscy;': 1109,\n\t'dsol;': 10742,\n\t'dtri;': 9663,\n\t'dzcy;': 1119,\n\t'eDot;': 8785,\n\t'ecir;': 8790,\n\tecirc: 234,\n\t'edot;': 279,\n\t'emsp;': 8195,\n\t'ensp;': 8194,\n\t'eopf;': 120150,\n\t'epar;': 8917,\n\t'epsi;': 949,\n\t'escr;': 8495,\n\t'esim;': 8770,\n\t'euml;': 235,\n\t'euro;': 8364,\n\t'excl;': 33,\n\t'flat;': 9837,\n\t'fnof;': 402,\n\t'fopf;': 120151,\n\t'fork;': 8916,\n\t'fscr;': 119995,\n\t'gdot;': 289,\n\t'geqq;': 8807,\n\t'gesl;': 8923,\n\t'gjcy;': 1107,\n\t'gnap;': 10890,\n\t'gneq;': 10888,\n\t'gopf;': 120152,\n\t'gscr;': 8458,\n\t'gsim;': 8819,\n\t'gtcc;': 10919,\n\t'gvnE;': 8809,\n\t'hArr;': 8660,\n\t'half;': 189,\n\t'harr;': 8596,\n\t'hbar;': 8463,\n\t'hopf;': 120153,\n\t'hscr;': 119997,\n\ticirc: 238,\n\t'iecy;': 1077,\n\tiexcl: 161,\n\t'imof;': 8887,\n\t'iocy;': 1105,\n\t'iopf;': 120154,\n\t'iota;': 953,\n\t'iscr;': 119998,\n\t'isin;': 8712,\n\t'iuml;': 239,\n\t'jopf;': 120155,\n\t'jscr;': 119999,\n\t'khcy;': 1093,\n\t'kjcy;': 1116,\n\t'kopf;': 120156,\n\t'kscr;': 120000,\n\t'lArr;': 8656,\n\t'lHar;': 10594,\n\t'lang;': 10216,\n\tlaquo: 171,\n\t'larr;': 8592,\n\t'late;': 10925,\n\t'lcub;': 123,\n\t'ldca;': 10550,\n\t'ldsh;': 8626,\n\t'leqq;': 8806,\n\t'lesg;': 8922,\n\t'ljcy;': 1113,\n\t'lnap;': 10889,\n\t'lneq;': 10887,\n\t'lopf;': 120157,\n\t'lozf;': 10731,\n\t'lpar;': 40,\n\t'lscr;': 120001,\n\t'lsim;': 8818,\n\t'lsqb;': 91,\n\t'ltcc;': 10918,\n\t'ltri;': 9667,\n\t'lvnE;': 8808,\n\t'macr;': 175,\n\t'male;': 9794,\n\t'malt;': 10016,\n\tmicro: 181,\n\t'mlcp;': 10971,\n\t'mldr;': 8230,\n\t'mopf;': 120158,\n\t'mscr;': 120002,\n\t'nGtv;': 8811,\n\t'nLtv;': 8810,\n\t'nang;': 8736,\n\t'napE;': 10864,\n\t'nbsp;': 160,\n\t'ncap;': 10819,\n\t'ncup;': 10818,\n\t'ngeq;': 8817,\n\t'nges;': 10878,\n\t'ngtr;': 8815,\n\t'nisd;': 8954,\n\t'njcy;': 1114,\n\t'nldr;': 8229,\n\t'nleq;': 8816,\n\t'nles;': 10877,\n\t'nmid;': 8740,\n\t'nopf;': 120159,\n\t'npar;': 8742,\n\t'npre;': 10927,\n\t'nsce;': 10928,\n\t'nscr;': 120003,\n\t'nsim;': 8769,\n\t'nsub;': 8836,\n\t'nsup;': 8837,\n\t'ntgl;': 8825,\n\t'ntlg;': 8824,\n\t'nvap;': 8781,\n\t'nvge;': 8805,\n\t'nvgt;': 62,\n\t'nvle;': 8804,\n\t'nvlt;': 60,\n\t'oast;': 8859,\n\t'ocir;': 8858,\n\tocirc: 244,\n\t'odiv;': 10808,\n\t'odot;': 8857,\n\t'ogon;': 731,\n\t'oint;': 8750,\n\t'omid;': 10678,\n\t'oopf;': 120160,\n\t'opar;': 10679,\n\t'ordf;': 170,\n\t'ordm;': 186,\n\t'oror;': 10838,\n\t'oscr;': 8500,\n\t'osol;': 8856,\n\t'ouml;': 246,\n\t'para;': 182,\n\t'part;': 8706,\n\t'perp;': 8869,\n\t'phiv;': 981,\n\t'plus;': 43,\n\t'popf;': 120161,\n\tpound: 163,\n\t'prap;': 10935,\n\t'prec;': 8826,\n\t'prnE;': 10933,\n\t'prod;': 8719,\n\t'prop;': 8733,\n\t'pscr;': 120005,\n\t'qint;': 10764,\n\t'qopf;': 120162,\n\t'qscr;': 120006,\n\t'quot;': 34,\n\t'rArr;': 8658,\n\t'rHar;': 10596,\n\t'race;': 8765,\n\t'rang;': 10217,\n\traquo: 187,\n\t'rarr;': 8594,\n\t'rcub;': 125,\n\t'rdca;': 10551,\n\t'rdsh;': 8627,\n\t'real;': 8476,\n\t'rect;': 9645,\n\t'rhov;': 1009,\n\t'ring;': 730,\n\t'ropf;': 120163,\n\t'rpar;': 41,\n\t'rscr;': 120007,\n\t'rsqb;': 93,\n\t'rtri;': 9657,\n\t'scap;': 10936,\n\t'scnE;': 10934,\n\t'sdot;': 8901,\n\t'sect;': 167,\n\t'semi;': 59,\n\t'sext;': 10038,\n\t'shcy;': 1096,\n\t'sime;': 8771,\n\t'simg;': 10910,\n\t'siml;': 10909,\n\t'smid;': 8739,\n\t'smte;': 10924,\n\t'solb;': 10692,\n\t'sopf;': 120164,\n\t'spar;': 8741,\n\t'squf;': 9642,\n\t'sscr;': 120008,\n\t'star;': 9734,\n\t'subE;': 10949,\n\t'sube;': 8838,\n\t'succ;': 8827,\n\t'sung;': 9834,\n\t'sup1;': 185,\n\t'sup2;': 178,\n\t'sup3;': 179,\n\t'supE;': 10950,\n\t'supe;': 8839,\n\tszlig: 223,\n\t'tbrk;': 9140,\n\t'tdot;': 8411,\n\tthorn: 254,\n\ttimes: 215,\n\t'tint;': 8749,\n\t'toea;': 10536,\n\t'topf;': 120165,\n\t'tosa;': 10537,\n\t'trie;': 8796,\n\t'tscr;': 120009,\n\t'tscy;': 1094,\n\t'uArr;': 8657,\n\t'uHar;': 10595,\n\t'uarr;': 8593,\n\tucirc: 251,\n\t'uopf;': 120166,\n\t'upsi;': 965,\n\t'uscr;': 120010,\n\t'utri;': 9653,\n\t'uuml;': 252,\n\t'vArr;': 8661,\n\t'vBar;': 10984,\n\t'varr;': 8597,\n\t'vert;': 124,\n\t'vopf;': 120167,\n\t'vscr;': 120011,\n\t'wopf;': 120168,\n\t'wscr;': 120012,\n\t'xcap;': 8898,\n\t'xcup;': 8899,\n\t'xmap;': 10236,\n\t'xnis;': 8955,\n\t'xopf;': 120169,\n\t'xscr;': 120013,\n\t'xvee;': 8897,\n\t'yacy;': 1103,\n\t'yicy;': 1111,\n\t'yopf;': 120170,\n\t'yscr;': 120014,\n\t'yucy;': 1102,\n\t'yuml;': 255,\n\t'zdot;': 380,\n\t'zeta;': 950,\n\t'zhcy;': 1078,\n\t'zopf;': 120171,\n\t'zscr;': 120015,\n\t'zwnj;': 8204,\n\t'AMP;': 38,\n\t'Acy;': 1040,\n\t'Afr;': 120068,\n\t'And;': 10835,\n\tAuml: 196,\n\t'Bcy;': 1041,\n\t'Bfr;': 120069,\n\tCOPY: 169,\n\t'Cap;': 8914,\n\t'Cfr;': 8493,\n\t'Chi;': 935,\n\t'Cup;': 8915,\n\t'Dcy;': 1044,\n\t'Del;': 8711,\n\t'Dfr;': 120071,\n\t'Dot;': 168,\n\t'ENG;': 330,\n\t'ETH;': 208,\n\t'Ecy;': 1069,\n\t'Efr;': 120072,\n\t'Eta;': 919,\n\tEuml: 203,\n\t'Fcy;': 1060,\n\t'Ffr;': 120073,\n\t'Gcy;': 1043,\n\t'Gfr;': 120074,\n\t'Hat;': 94,\n\t'Hfr;': 8460,\n\t'Icy;': 1048,\n\t'Ifr;': 8465,\n\t'Int;': 8748,\n\tIuml: 207,\n\t'Jcy;': 1049,\n\t'Jfr;': 120077,\n\t'Kcy;': 1050,\n\t'Kfr;': 120078,\n\t'Lcy;': 1051,\n\t'Lfr;': 120079,\n\t'Lsh;': 8624,\n\t'Map;': 10501,\n\t'Mcy;': 1052,\n\t'Mfr;': 120080,\n\t'Ncy;': 1053,\n\t'Nfr;': 120081,\n\t'Not;': 10988,\n\t'Ocy;': 1054,\n\t'Ofr;': 120082,\n\tOuml: 214,\n\t'Pcy;': 1055,\n\t'Pfr;': 120083,\n\t'Phi;': 934,\n\t'Psi;': 936,\n\tQUOT: 34,\n\t'Qfr;': 120084,\n\t'REG;': 174,\n\t'Rcy;': 1056,\n\t'Rfr;': 8476,\n\t'Rho;': 929,\n\t'Rsh;': 8625,\n\t'Scy;': 1057,\n\t'Sfr;': 120086,\n\t'Sub;': 8912,\n\t'Sum;': 8721,\n\t'Sup;': 8913,\n\t'Tab;': 9,\n\t'Tau;': 932,\n\t'Tcy;': 1058,\n\t'Tfr;': 120087,\n\t'Ucy;': 1059,\n\t'Ufr;': 120088,\n\tUuml: 220,\n\t'Vcy;': 1042,\n\t'Vee;': 8897,\n\t'Vfr;': 120089,\n\t'Wfr;': 120090,\n\t'Xfr;': 120091,\n\t'Ycy;': 1067,\n\t'Yfr;': 120092,\n\t'Zcy;': 1047,\n\t'Zfr;': 8488,\n\t'acE;': 8766,\n\t'acd;': 8767,\n\t'acy;': 1072,\n\t'afr;': 120094,\n\t'amp;': 38,\n\t'and;': 8743,\n\t'ang;': 8736,\n\t'apE;': 10864,\n\t'ape;': 8778,\n\t'ast;': 42,\n\tauml: 228,\n\t'bcy;': 1073,\n\t'bfr;': 120095,\n\t'bne;': 61,\n\t'bot;': 8869,\n\t'cap;': 8745,\n\tcent: 162,\n\t'cfr;': 120096,\n\t'chi;': 967,\n\t'cir;': 9675,\n\tcopy: 169,\n\t'cup;': 8746,\n\t'dcy;': 1076,\n\t'deg;': 176,\n\t'dfr;': 120097,\n\t'die;': 168,\n\t'div;': 247,\n\t'dot;': 729,\n\t'ecy;': 1101,\n\t'efr;': 120098,\n\t'egs;': 10902,\n\t'ell;': 8467,\n\t'els;': 10901,\n\t'eng;': 331,\n\t'eta;': 951,\n\t'eth;': 240,\n\teuml: 235,\n\t'fcy;': 1092,\n\t'ffr;': 120099,\n\t'gEl;': 10892,\n\t'gap;': 10886,\n\t'gcy;': 1075,\n\t'gel;': 8923,\n\t'geq;': 8805,\n\t'ges;': 10878,\n\t'gfr;': 120100,\n\t'ggg;': 8921,\n\t'glE;': 10898,\n\t'gla;': 10917,\n\t'glj;': 10916,\n\t'gnE;': 8809,\n\t'gne;': 10888,\n\t'hfr;': 120101,\n\t'icy;': 1080,\n\t'iff;': 8660,\n\t'ifr;': 120102,\n\t'int;': 8747,\n\tiuml: 239,\n\t'jcy;': 1081,\n\t'jfr;': 120103,\n\t'kcy;': 1082,\n\t'kfr;': 120104,\n\t'lEg;': 10891,\n\t'lap;': 10885,\n\t'lat;': 10923,\n\t'lcy;': 1083,\n\t'leg;': 8922,\n\t'leq;': 8804,\n\t'les;': 10877,\n\t'lfr;': 120105,\n\t'lgE;': 10897,\n\t'lnE;': 8808,\n\t'lne;': 10887,\n\t'loz;': 9674,\n\t'lrm;': 8206,\n\t'lsh;': 8624,\n\tmacr: 175,\n\t'map;': 8614,\n\t'mcy;': 1084,\n\t'mfr;': 120106,\n\t'mho;': 8487,\n\t'mid;': 8739,\n\t'nGg;': 8921,\n\t'nGt;': 8811,\n\t'nLl;': 8920,\n\t'nLt;': 8810,\n\t'nap;': 8777,\n\tnbsp: 160,\n\t'ncy;': 1085,\n\t'nfr;': 120107,\n\t'ngE;': 8807,\n\t'nge;': 8817,\n\t'ngt;': 8815,\n\t'nis;': 8956,\n\t'niv;': 8715,\n\t'nlE;': 8806,\n\t'nle;': 8816,\n\t'nlt;': 8814,\n\t'not;': 172,\n\t'npr;': 8832,\n\t'nsc;': 8833,\n\t'num;': 35,\n\t'ocy;': 1086,\n\t'ofr;': 120108,\n\t'ogt;': 10689,\n\t'ohm;': 937,\n\t'olt;': 10688,\n\t'ord;': 10845,\n\tordf: 170,\n\tordm: 186,\n\t'orv;': 10843,\n\touml: 246,\n\t'par;': 8741,\n\tpara: 182,\n\t'pcy;': 1087,\n\t'pfr;': 120109,\n\t'phi;': 966,\n\t'piv;': 982,\n\t'prE;': 10931,\n\t'pre;': 10927,\n\t'psi;': 968,\n\t'qfr;': 120110,\n\tquot: 34,\n\t'rcy;': 1088,\n\t'reg;': 174,\n\t'rfr;': 120111,\n\t'rho;': 961,\n\t'rlm;': 8207,\n\t'rsh;': 8625,\n\t'scE;': 10932,\n\t'sce;': 10928,\n\t'scy;': 1089,\n\tsect: 167,\n\t'sfr;': 120112,\n\t'shy;': 173,\n\t'sim;': 8764,\n\t'smt;': 10922,\n\t'sol;': 47,\n\t'squ;': 9633,\n\t'sub;': 8834,\n\t'sum;': 8721,\n\tsup1: 185,\n\tsup2: 178,\n\tsup3: 179,\n\t'sup;': 8835,\n\t'tau;': 964,\n\t'tcy;': 1090,\n\t'tfr;': 120113,\n\t'top;': 8868,\n\t'ucy;': 1091,\n\t'ufr;': 120114,\n\t'uml;': 168,\n\tuuml: 252,\n\t'vcy;': 1074,\n\t'vee;': 8744,\n\t'vfr;': 120115,\n\t'wfr;': 120116,\n\t'xfr;': 120117,\n\t'ycy;': 1099,\n\t'yen;': 165,\n\t'yfr;': 120118,\n\tyuml: 255,\n\t'zcy;': 1079,\n\t'zfr;': 120119,\n\t'zwj;': 8205,\n\tAMP: 38,\n\t'DD;': 8517,\n\tETH: 208,\n\t'GT;': 62,\n\t'Gg;': 8921,\n\t'Gt;': 8811,\n\t'Im;': 8465,\n\t'LT;': 60,\n\t'Ll;': 8920,\n\t'Lt;': 8810,\n\t'Mu;': 924,\n\t'Nu;': 925,\n\t'Or;': 10836,\n\t'Pi;': 928,\n\t'Pr;': 10939,\n\tREG: 174,\n\t'Re;': 8476,\n\t'Sc;': 10940,\n\t'Xi;': 926,\n\t'ac;': 8766,\n\t'af;': 8289,\n\tamp: 38,\n\t'ap;': 8776,\n\t'dd;': 8518,\n\tdeg: 176,\n\t'ee;': 8519,\n\t'eg;': 10906,\n\t'el;': 10905,\n\teth: 240,\n\t'gE;': 8807,\n\t'ge;': 8805,\n\t'gg;': 8811,\n\t'gl;': 8823,\n\t'gt;': 62,\n\t'ic;': 8291,\n\t'ii;': 8520,\n\t'in;': 8712,\n\t'it;': 8290,\n\t'lE;': 8806,\n\t'le;': 8804,\n\t'lg;': 8822,\n\t'll;': 8810,\n\t'lt;': 60,\n\t'mp;': 8723,\n\t'mu;': 956,\n\t'ne;': 8800,\n\t'ni;': 8715,\n\tnot: 172,\n\t'nu;': 957,\n\t'oS;': 9416,\n\t'or;': 8744,\n\t'pi;': 960,\n\t'pm;': 177,\n\t'pr;': 8826,\n\treg: 174,\n\t'rx;': 8478,\n\t'sc;': 8827,\n\tshy: 173,\n\tuml: 168,\n\t'wp;': 8472,\n\t'wr;': 8768,\n\t'xi;': 958,\n\tyen: 165,\n\tGT: 62,\n\tLT: 60,\n\tgt: 62,\n\tlt: 60\n};\n", "import entities from './entities.js';\nconst windows_1252 = [\n\t8364, 129, 8218, 402, 8222, 8230, 8224, 8225, 710, 8240, 352, 8249, 338, 141, 381, 143, 144, 8216,\n\t8217, 8220, 8221, 8226, 8211, 8212, 732, 8482, 353, 8250, 339, 157, 382, 376\n];\n\n/**\n * @param {string} entity_name\n * @param {boolean} is_attribute_value\n */\nfunction reg_exp_entity(entity_name, is_attribute_value) {\n\t// https://html.spec.whatwg.org/multipage/parsing.html#named-character-reference-state\n\t// doesn't decode the html entity which not ends with ; and next character is =, number or alphabet in attribute value.\n\tif (is_attribute_value && !entity_name.endsWith(';')) {\n\t\treturn `${entity_name}\\\\b(?!=)`;\n\t}\n\treturn entity_name;\n}\n\n/**\n * @param {boolean} is_attribute_value\n */\nfunction get_entity_pattern(is_attribute_value) {\n\tconst reg_exp_num = '#(?:x[a-fA-F\\\\d]+|\\\\d+)(?:;)?';\n\tconst reg_exp_entities = Object.keys(entities).map((entity_name) =>\n\t\treg_exp_entity(entity_name, is_attribute_value)\n\t);\n\tconst entity_pattern = new RegExp(`&(${reg_exp_num}|${reg_exp_entities.join('|')})`, 'g');\n\treturn entity_pattern;\n}\nconst entity_pattern_content = get_entity_pattern(false);\nconst entity_pattern_attr_value = get_entity_pattern(true);\n\n/**\n * @param {string} html\n * @param {boolean} is_attribute_value\n */\nexport function decode_character_references(html, is_attribute_value) {\n\tconst entity_pattern = is_attribute_value ? entity_pattern_attr_value : entity_pattern_content;\n\treturn html.replace(entity_pattern, (match, entity) => {\n\t\tlet code;\n\t\t// Handle named entities\n\t\tif (entity[0] !== '#') {\n\t\t\tcode = entities[entity];\n\t\t} else if (entity[1] === 'x') {\n\t\t\tcode = parseInt(entity.substring(2), 16);\n\t\t} else {\n\t\t\tcode = parseInt(entity.substring(1), 10);\n\t\t}\n\t\tif (!code) {\n\t\t\treturn match;\n\t\t}\n\t\treturn String.fromCodePoint(validate_code(code));\n\t});\n}\nconst NUL = 0;\n// some code points are verboten. If we were inserting HTML, the browser would replace the illegal\n// code points with alternatives in some cases - since we're bypassing that mechanism, we need\n// to replace them ourselves\n//\n// Source: http://en.wikipedia.org/wiki/Character_encodings_in_HTML#Illegal_characters\n\n/**\n * @param {number} code\n */\nfunction validate_code(code) {\n\t// line feed becomes generic whitespace\n\tif (code === 10) {\n\t\treturn 32;\n\t}\n\t// ASCII range. (Why someone would use HTML entities for ASCII characters I don't know, but...)\n\tif (code < 128) {\n\t\treturn code;\n\t}\n\t// code points 128-159 are dealt with leniently by browsers, but they're incorrect. We need\n\t// to correct the mistake or we'll end up with missing € signs and so on\n\tif (code <= 159) {\n\t\treturn windows_1252[code - 128];\n\t}\n\t// basic multilingual plane\n\tif (code < 55296) {\n\t\treturn code;\n\t}\n\t// UTF-16 surrogate halves\n\tif (code <= 57343) {\n\t\treturn NUL;\n\t}\n\t// rest of the basic multilingual plane\n\tif (code <= 65535) {\n\t\treturn code;\n\t}\n\t// supplementary multilingual plane 0x10000 - 0x1ffff\n\tif (code >= 65536 && code <= 131071) {\n\t\treturn code;\n\t}\n\t// supplementary ideographic plane 0x20000 - 0x2ffff\n\tif (code >= 131072 && code <= 196607) {\n\t\treturn code;\n\t}\n\treturn NUL;\n}\n// based on http://developers.whatwg.org/syntax.html#syntax-tag-omission\nconst disallowed_contents = new Map([\n\t['li', new Set(['li'])],\n\t['dt', new Set(['dt', 'dd'])],\n\t['dd', new Set(['dt', 'dd'])],\n\t[\n\t\t'p',\n\t\tnew Set(\n\t\t\t'address article aside blockquote div dl fieldset footer form h1 h2 h3 h4 h5 h6 header hgroup hr main menu nav ol p pre section table ul'.split(\n\t\t\t\t' '\n\t\t\t)\n\t\t)\n\t],\n\t['rt', new Set(['rt', 'rp'])],\n\t['rp', new Set(['rt', 'rp'])],\n\t['optgroup', new Set(['optgroup'])],\n\t['option', new Set(['option', 'optgroup'])],\n\t['thead', new Set(['tbody', 'tfoot'])],\n\t['tbody', new Set(['tbody', 'tfoot'])],\n\t['tfoot', new Set(['tbody'])],\n\t['tr', new Set(['tr', 'tbody'])],\n\t['td', new Set(['td', 'th', 'tr'])],\n\t['th', new Set(['td', 'th', 'tr'])]\n]);\n// can this be a child of the parent element, or does it implicitly\n// close it, like `<li>one<li>two`?\n\n/**\n * @param {string} current\n * @param {string} [next]\n */\nexport function closing_tag_omitted(current, next) {\n\tif (disallowed_contents.has(current)) {\n\t\tif (!next || disallowed_contents.get(current).has(next)) {\n\t\t\treturn true;\n\t\t}\n\t}\n\treturn false;\n}\n", "import { extract_svelte_ignore } from '../../utils/extract_svelte_ignore.js';\nimport fuzzymatch from '../../utils/fuzzymatch.js';\nimport { is_void } from '../../../shared/utils/names.js';\nimport parser_errors from '../errors.js';\nimport read_expression from '../read/expression.js';\nimport read_script from '../read/script.js';\nimport read_style from '../read/style.js';\nimport { closing_tag_omitted, decode_character_references } from '../utils/html.js';\n\n// eslint-disable-next-line no-useless-escape\nconst valid_tag_name = /^\\!?[a-zA-Z]{1,}:?[a-zA-Z0-9\\-]*/;\n/** Invalid attribute characters if the attribute is not surrounded by quotes */\nconst regex_starts_with_invalid_attr_value = /^(\\/>|[\\s\"'=<>`])/;\nconst meta_tags = new Map([\n\t['svelte:head', 'Head'],\n\t['svelte:options', 'Options'],\n\t['svelte:window', 'Window'],\n\t['svelte:document', 'Document'],\n\t['svelte:body', 'Body']\n]);\nconst valid_meta_tags = Array.from(meta_tags.keys()).concat(\n\t'svelte:self',\n\t'svelte:component',\n\t'svelte:fragment',\n\t'svelte:element'\n);\nconst specials = new Map([\n\t[\n\t\t'script',\n\t\t{\n\t\t\tread: read_script,\n\t\t\tproperty: 'js'\n\t\t}\n\t],\n\t[\n\t\t'style',\n\t\t{\n\t\t\tread: read_style,\n\t\t\tproperty: 'css'\n\t\t}\n\t]\n]);\nconst SELF = /^svelte:self(?=[\\s/>])/;\nconst COMPONENT = /^svelte:component(?=[\\s/>])/;\nconst SLOT = /^svelte:fragment(?=[\\s/>])/;\nconst ELEMENT = /^svelte:element(?=[\\s/>])/;\nfunction parent_is_head(stack) {\n\tlet i = stack.length;\n\twhile (i--) {\n\t\tconst { type } = stack[i];\n\t\tif (type === 'Head') return true;\n\t\tif (type === 'Element' || type === 'InlineComponent') return false;\n\t}\n\treturn false;\n}\nconst regex_closing_textarea_tag = /^<\\/textarea(\\s[^>]*)?>/i;\nconst regex_closing_comment = /-->/;\nconst regex_capital_letter = /[A-Z]/;\n\n/**\n * @param {import('../index.js').Parser} parser\n */\nexport default function tag(parser) {\n\tconst start = parser.index++;\n\tlet parent = parser.current();\n\tif (parser.eat('!--')) {\n\t\tconst data = parser.read_until(regex_closing_comment);\n\t\tparser.eat('-->', true, parser_errors.unclosed_comment);\n\t\tparser.current().children.push({\n\t\t\tstart,\n\t\t\tend: parser.index,\n\t\t\ttype: 'Comment',\n\t\t\tdata,\n\t\t\tignores: extract_svelte_ignore(data)\n\t\t});\n\t\treturn;\n\t}\n\tconst is_closing_tag = parser.eat('/');\n\tconst name = read_tag_name(parser);\n\tif (meta_tags.has(name)) {\n\t\tconst slug = meta_tags.get(name).toLowerCase();\n\t\tif (is_closing_tag) {\n\t\t\tif (\n\t\t\t\t(name === 'svelte:window' || name === 'svelte:body') &&\n\t\t\t\tparser.current().children.length\n\t\t\t) {\n\t\t\t\tparser.error(\n\t\t\t\t\tparser_errors.invalid_element_content(slug, name),\n\t\t\t\t\tparser.current().children[0].start\n\t\t\t\t);\n\t\t\t}\n\t\t} else {\n\t\t\tif (name in parser.meta_tags) {\n\t\t\t\tparser.error(parser_errors.duplicate_element(slug, name), start);\n\t\t\t}\n\t\t\tif (parser.stack.length > 1) {\n\t\t\t\tparser.error(parser_errors.invalid_element_placement(slug, name), start);\n\t\t\t}\n\t\t\tparser.meta_tags[name] = true;\n\t\t}\n\t}\n\tconst type = meta_tags.has(name)\n\t\t? meta_tags.get(name)\n\t\t: regex_capital_letter.test(name[0]) || name === 'svelte:self' || name === 'svelte:component'\n\t\t? 'InlineComponent'\n\t\t: name === 'svelte:fragment'\n\t\t? 'SlotTemplate'\n\t\t: name === 'title' && parent_is_head(parser.stack)\n\t\t? 'Title'\n\t\t: name === 'slot'\n\t\t? 'Slot'\n\t\t: 'Element';\n\n\t/**\n\t * @type {import('../../interfaces.js').TemplateNode}\n\t */\n\tconst element = {\n\t\tstart,\n\t\tend: null,\n\t\ttype,\n\t\tname,\n\t\tattributes: [],\n\t\tchildren: []\n\t};\n\tparser.allow_whitespace();\n\tif (is_closing_tag) {\n\t\tif (is_void(name)) {\n\t\t\tparser.error(parser_errors.invalid_void_content(name), start);\n\t\t}\n\t\tparser.eat('>', true);\n\t\t// close any elements that don't have their own closing tags, e.g. <div><p></div>\n\t\twhile (parent.name !== name) {\n\t\t\tif (parent.type !== 'Element') {\n\t\t\t\tconst error =\n\t\t\t\t\tparser.last_auto_closed_tag && parser.last_auto_closed_tag.tag === name\n\t\t\t\t\t\t? parser_errors.invalid_closing_tag_autoclosed(name, parser.last_auto_closed_tag.reason)\n\t\t\t\t\t\t: parser_errors.invalid_closing_tag_unopened(name);\n\t\t\t\tparser.error(error, start);\n\t\t\t}\n\t\t\tparent.end = start;\n\t\t\tparser.stack.pop();\n\t\t\tparent = parser.current();\n\t\t}\n\t\tparent.end = parser.index;\n\t\tparser.stack.pop();\n\t\tif (parser.last_auto_closed_tag && parser.stack.length < parser.last_auto_closed_tag.depth) {\n\t\t\tparser.last_auto_closed_tag = null;\n\t\t}\n\t\treturn;\n\t} else if (closing_tag_omitted(parent.name, name)) {\n\t\tparent.end = start;\n\t\tparser.stack.pop();\n\t\tparser.last_auto_closed_tag = {\n\t\t\ttag: parent.name,\n\t\t\treason: name,\n\t\t\tdepth: parser.stack.length\n\t\t};\n\t}\n\n\t/**\n\t * @type {Set<string>}\n\t */\n\tconst unique_names = new Set();\n\tconst is_top_level_script_or_style = specials.has(name) && parser.stack.length === 1;\n\tlet attribute;\n\twhile ((attribute = read_attribute(parser, unique_names, is_top_level_script_or_style))) {\n\t\telement.attributes.push(attribute);\n\t\tparser.allow_whitespace();\n\t}\n\tif (name === 'svelte:component') {\n\t\tconst index = element.attributes.findIndex(\n\t\t\t(attr) => attr.type === 'Attribute' && attr.name === 'this'\n\t\t);\n\t\tif (index === -1) {\n\t\t\tparser.error(parser_errors.missing_component_definition, start);\n\t\t}\n\t\tconst definition = element.attributes.splice(index, 1)[0];\n\t\tif (\n\t\t\tdefinition.value === true ||\n\t\t\tdefinition.value.length !== 1 ||\n\t\t\tdefinition.value[0].type === 'Text'\n\t\t) {\n\t\t\tparser.error(parser_errors.invalid_component_definition, definition.start);\n\t\t}\n\t\telement.expression = definition.value[0].expression;\n\t}\n\tif (name === 'svelte:element') {\n\t\tconst index = element.attributes.findIndex(\n\t\t\t(attr) => attr.type === 'Attribute' && attr.name === 'this'\n\t\t);\n\t\tif (index === -1) {\n\t\t\tparser.error(parser_errors.missing_element_definition, start);\n\t\t}\n\t\tconst definition = element.attributes.splice(index, 1)[0];\n\t\tif (definition.value === true) {\n\t\t\tparser.error(parser_errors.invalid_element_definition, definition.start);\n\t\t}\n\t\telement.tag = definition.value[0].data || definition.value[0].expression;\n\t}\n\tif (is_top_level_script_or_style) {\n\t\tconst special = specials.get(name);\n\t\tparser.eat('>', true);\n\t\tconst content = special.read(parser, start, element.attributes);\n\t\tif (content) parser[special.property].push(content);\n\t\treturn;\n\t}\n\tparser.current().children.push(element);\n\tconst self_closing = parser.eat('/') || is_void(name);\n\tparser.eat('>', true);\n\tif (self_closing) {\n\t\t// don't push self-closing elements onto the stack\n\t\telement.end = parser.index;\n\t} else if (name === 'textarea') {\n\t\t// special case\n\t\telement.children = read_sequence(\n\t\t\tparser,\n\t\t\t() => regex_closing_textarea_tag.test(parser.template.slice(parser.index)),\n\t\t\t'inside <textarea>'\n\t\t);\n\t\tparser.read(regex_closing_textarea_tag);\n\t\telement.end = parser.index;\n\t} else if (name === 'script' || name === 'style') {\n\t\t// special case\n\t\tconst start = parser.index;\n\t\tconst data = parser.read_until(new RegExp(`</${name}>`));\n\t\tconst end = parser.index;\n\t\telement.children.push({ start, end, type: 'Text', data });\n\t\tparser.eat(`</${name}>`, true);\n\t\telement.end = parser.index;\n\t} else {\n\t\tparser.stack.push(element);\n\t}\n}\nconst regex_whitespace_or_slash_or_closing_tag = /(\\s|\\/|>)/;\n\n/**\n * @param {import('../index.js').Parser} parser\n */\nfunction read_tag_name(parser) {\n\tconst start = parser.index;\n\tif (parser.read(SELF)) {\n\t\t// check we're inside a block, otherwise this\n\t\t// will cause infinite recursion\n\t\tlet i = parser.stack.length;\n\t\tlet legal = false;\n\t\twhile (i--) {\n\t\t\tconst fragment = parser.stack[i];\n\t\t\tif (\n\t\t\t\tfragment.type === 'IfBlock' ||\n\t\t\t\tfragment.type === 'EachBlock' ||\n\t\t\t\tfragment.type === 'InlineComponent'\n\t\t\t) {\n\t\t\t\tlegal = true;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tif (!legal) {\n\t\t\tparser.error(parser_errors.invalid_self_placement, start);\n\t\t}\n\t\treturn 'svelte:self';\n\t}\n\tif (parser.read(COMPONENT)) return 'svelte:component';\n\tif (parser.read(ELEMENT)) return 'svelte:element';\n\tif (parser.read(SLOT)) return 'svelte:fragment';\n\tconst name = parser.read_until(regex_whitespace_or_slash_or_closing_tag);\n\tif (meta_tags.has(name)) return name;\n\tif (name.startsWith('svelte:')) {\n\t\tconst match = fuzzymatch(name.slice(7), valid_meta_tags);\n\t\tparser.error(parser_errors.invalid_tag_name_svelte_element(valid_meta_tags, match), start);\n\t}\n\tif (!valid_tag_name.test(name)) {\n\t\tparser.error(parser_errors.invalid_tag_name, start);\n\t}\n\treturn name;\n}\n// eslint-disable-next-line no-useless-escape\nconst regex_token_ending_character = /[\\s=\\/>\"']/;\nconst regex_starts_with_quote_characters = /^[\"']/;\n\n/**\n * @param {import('../index.js').Parser} parser\n * @param {Set<string>} unique_names\n * @param {boolean} is_static If `true`, `{` and `}` are not treated as delimiters for expressions\n */\nfunction read_attribute(parser, unique_names, is_static) {\n\tconst start = parser.index;\n\n\t/**\n\t * @param {string} name\n\t */\n\tfunction check_unique(name) {\n\t\tif (unique_names.has(name)) {\n\t\t\tparser.error(parser_errors.duplicate_attribute, start);\n\t\t}\n\t\tunique_names.add(name);\n\t}\n\tif (!is_static && parser.eat('{')) {\n\t\tparser.allow_whitespace();\n\t\tif (parser.eat('...')) {\n\t\t\tconst expression = read_expression(parser);\n\t\t\tparser.allow_whitespace();\n\t\t\tparser.eat('}', true);\n\t\t\treturn {\n\t\t\t\tstart,\n\t\t\t\tend: parser.index,\n\t\t\t\ttype: 'Spread',\n\t\t\t\texpression\n\t\t\t};\n\t\t} else {\n\t\t\tconst value_start = parser.index;\n\t\t\tconst name = parser.read_identifier();\n\t\t\tparser.allow_whitespace();\n\t\t\tparser.eat('}', true);\n\t\t\tif (name === null) {\n\t\t\t\tparser.error(parser_errors.empty_attribute_shorthand, start);\n\t\t\t}\n\t\t\tcheck_unique(name);\n\t\t\treturn {\n\t\t\t\tstart,\n\t\t\t\tend: parser.index,\n\t\t\t\ttype: 'Attribute',\n\t\t\t\tname,\n\t\t\t\tvalue: [\n\t\t\t\t\t{\n\t\t\t\t\t\tstart: value_start,\n\t\t\t\t\t\tend: value_start + name.length,\n\t\t\t\t\t\ttype: 'AttributeShorthand',\n\t\t\t\t\t\texpression: {\n\t\t\t\t\t\t\tstart: value_start,\n\t\t\t\t\t\t\tend: value_start + name.length,\n\t\t\t\t\t\t\ttype: 'Identifier',\n\t\t\t\t\t\t\tname\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t};\n\t\t}\n\t}\n\tconst name = parser.read_until(regex_token_ending_character);\n\tif (!name) return null;\n\tlet end = parser.index;\n\tparser.allow_whitespace();\n\tconst colon_index = name.indexOf(':');\n\tconst type = colon_index !== -1 && get_directive_type(name.slice(0, colon_index));\n\n\t/**\n\t * @type {any[] | true}\n\t */\n\tlet value = true;\n\tif (parser.eat('=')) {\n\t\tparser.allow_whitespace();\n\t\tvalue = read_attribute_value(parser, is_static);\n\t\tend = parser.index;\n\t} else if (parser.match_regex(regex_starts_with_quote_characters)) {\n\t\tparser.error(parser_errors.unexpected_token('='), parser.index);\n\t}\n\tif (!is_static && type) {\n\t\tconst [directive_name, ...modifiers] = name.slice(colon_index + 1).split('|');\n\t\tif (directive_name === '') {\n\t\t\tparser.error(parser_errors.empty_directive_name(type), start + colon_index + 1);\n\t\t}\n\t\tif (type === 'Binding' && directive_name !== 'this') {\n\t\t\tcheck_unique(directive_name);\n\t\t} else if (type !== 'EventHandler' && type !== 'Action') {\n\t\t\tcheck_unique(name);\n\t\t}\n\t\tif (type === 'Ref') {\n\t\t\tparser.error(parser_errors.invalid_ref_directive(directive_name), start);\n\t\t}\n\t\tif (type === 'StyleDirective') {\n\t\t\treturn {\n\t\t\t\tstart,\n\t\t\t\tend,\n\t\t\t\ttype,\n\t\t\t\tname: directive_name,\n\t\t\t\tmodifiers,\n\t\t\t\tvalue\n\t\t\t};\n\t\t}\n\t\tconst first_value = value[0];\n\t\tlet expression = null;\n\t\tif (first_value) {\n\t\t\tconst attribute_contains_text =\n\t\t\t\t/** @type {any[]} */ (value).length > 1 || first_value.type === 'Text';\n\t\t\tif (attribute_contains_text) {\n\t\t\t\tparser.error(parser_errors.invalid_directive_value, first_value.start);\n\t\t\t} else {\n\t\t\t\texpression = first_value.expression;\n\t\t\t}\n\t\t}\n\t\tconst directive = {\n\t\t\tstart,\n\t\t\tend,\n\t\t\ttype,\n\t\t\tname: directive_name,\n\t\t\tmodifiers,\n\t\t\texpression\n\t\t};\n\t\tif (type === 'Transition') {\n\t\t\tconst direction = name.slice(0, colon_index);\n\t\t\tdirective.intro = direction === 'in' || direction === 'transition';\n\t\t\tdirective.outro = direction === 'out' || direction === 'transition';\n\t\t}\n\t\t// Directive name is expression, e.g. <p class:isRed />\n\t\tif (!directive.expression && (type === 'Binding' || type === 'Class')) {\n\t\t\tdirective.expression = {\n\t\t\t\tstart: directive.start + colon_index + 1,\n\t\t\t\tend: directive.end,\n\t\t\t\ttype: 'Identifier',\n\t\t\t\tname: directive.name\n\t\t\t};\n\t\t}\n\t\treturn directive;\n\t}\n\tcheck_unique(name);\n\treturn {\n\t\tstart,\n\t\tend,\n\t\ttype: 'Attribute',\n\t\tname,\n\t\tvalue\n\t};\n}\n\n/**\n * @param {string} name\n * @returns {import('../../interfaces.js').DirectiveType}\n */\nfunction get_directive_type(name) {\n\tif (name === 'use') return 'Action';\n\tif (name === 'animate') return 'Animation';\n\tif (name === 'bind') return 'Binding';\n\tif (name === 'class') return 'Class';\n\tif (name === 'style') return 'StyleDirective';\n\tif (name === 'on') return 'EventHandler';\n\tif (name === 'let') return 'Let';\n\tif (name === 'in' || name === 'out' || name === 'transition') return 'Transition';\n}\n\nconst regex_attribute_value = /^(?:\"([^\"]*)\"|'([^'])*'|([^>\\s]+))/;\n\n/**\n * @param {import('../index.js').Parser} parser\n * @param {boolean} is_static If `true`, `{` and `}` are not treated as delimiters for expressions\n */\nfunction read_attribute_value(parser, is_static) {\n\tif (is_static) {\n\t\tlet value = parser.match_regex(regex_attribute_value);\n\t\tif (!value) {\n\t\t\tparser.error(parser_errors.missing_attribute_value);\n\t\t}\n\n\t\tparser.index += value.length;\n\n\t\tconst quoted = value[0] === '\"' || value[0] === \"'\";\n\t\tif (quoted) {\n\t\t\tvalue = value.slice(1, -1);\n\t\t}\n\n\t\treturn [\n\t\t\t{\n\t\t\t\tstart: parser.index - value.length - (quoted ? 1 : 0),\n\t\t\t\tend: quoted ? parser.index - 1 : parser.index,\n\t\t\t\ttype: 'Text',\n\t\t\t\traw: value,\n\t\t\t\tdata: decode_character_references(value, true)\n\t\t\t}\n\t\t];\n\t}\n\n\tconst quote_mark = parser.eat(\"'\") ? \"'\" : parser.eat('\"') ? '\"' : null;\n\tif (quote_mark && parser.eat(quote_mark)) {\n\t\treturn [\n\t\t\t{\n\t\t\t\tstart: parser.index - 1,\n\t\t\t\tend: parser.index - 1,\n\t\t\t\ttype: 'Text',\n\t\t\t\traw: '',\n\t\t\t\tdata: ''\n\t\t\t}\n\t\t];\n\t}\n\tlet value;\n\ttry {\n\t\tvalue = read_sequence(\n\t\t\tparser,\n\t\t\t() => {\n\t\t\t\t// handle common case of quote marks existing outside of regex for performance reasons\n\t\t\t\tif (quote_mark) return parser.match(quote_mark);\n\t\t\t\treturn !!parser.match_regex(regex_starts_with_invalid_attr_value);\n\t\t\t},\n\t\t\t'in attribute value'\n\t\t);\n\t} catch (error) {\n\t\tif (error.code === 'parse-error') {\n\t\t\t// if the attribute value didn't close + self-closing tag\n\t\t\t// eg: `<Component test={{a:1} />`\n\t\t\t// acorn may throw a `Unterminated regular expression` because of `/>`\n\t\t\tif (parser.template.slice(error.pos - 1, error.pos + 1) === '/>') {\n\t\t\t\tparser.index = error.pos;\n\t\t\t\tparser.error(parser_errors.unclosed_attribute_value(quote_mark || '}'));\n\t\t\t}\n\t\t}\n\t\tthrow error;\n\t}\n\tif (value.length === 0 && !quote_mark) {\n\t\tparser.error(parser_errors.missing_attribute_value);\n\t}\n\tif (quote_mark) parser.index += 1;\n\treturn value;\n}\n\n/**\n * @param {import('../index.js').Parser} parser\n * @param {() => boolean} done\n * @param {string} location\n * @returns {import('../../interfaces.js').TemplateNode[]}\n */\nfunction read_sequence(parser, done, location) {\n\t/**\n\t * @type {import('../../interfaces.js').Text}\n\t */\n\tlet current_chunk = {\n\t\tstart: parser.index,\n\t\tend: null,\n\t\ttype: 'Text',\n\t\traw: '',\n\t\tdata: null\n\t};\n\n\t/**\n\t * @type {import('../../interfaces.js').TemplateNode[]}\n\t */\n\tconst chunks = [];\n\n\t/**\n\t * @param {number} end\n\t */\n\tfunction flush(end) {\n\t\tif (current_chunk.raw) {\n\t\t\tcurrent_chunk.data = decode_character_references(current_chunk.raw, true);\n\t\t\tcurrent_chunk.end = end;\n\t\t\tchunks.push(current_chunk);\n\t\t}\n\t}\n\twhile (parser.index < parser.template.length) {\n\t\tconst index = parser.index;\n\t\tif (done()) {\n\t\t\tflush(parser.index);\n\t\t\treturn chunks;\n\t\t} else if (parser.eat('{')) {\n\t\t\tif (parser.match('#')) {\n\t\t\t\tconst index = parser.index - 1;\n\t\t\t\tparser.eat('#');\n\t\t\t\tconst name = parser.read_until(/[^a-z]/);\n\t\t\t\tparser.error(parser_errors.invalid_logic_block_placement(location, name), index);\n\t\t\t} else if (parser.match('@')) {\n\t\t\t\tconst index = parser.index - 1;\n\t\t\t\tparser.eat('@');\n\t\t\t\tconst name = parser.read_until(/[^a-z]/);\n\t\t\t\tparser.error(parser_errors.invalid_tag_placement(location, name), index);\n\t\t\t}\n\t\t\tflush(parser.index - 1);\n\t\t\tparser.allow_whitespace();\n\t\t\tconst expression = read_expression(parser);\n\t\t\tparser.allow_whitespace();\n\t\t\tparser.eat('}', true);\n\t\t\tchunks.push({\n\t\t\t\tstart: index,\n\t\t\t\tend: parser.index,\n\t\t\t\ttype: 'MustacheTag',\n\t\t\t\texpression\n\t\t\t});\n\t\t\tcurrent_chunk = {\n\t\t\t\tstart: parser.index,\n\t\t\t\tend: null,\n\t\t\t\ttype: 'Text',\n\t\t\t\traw: '',\n\t\t\t\tdata: null\n\t\t\t};\n\t\t} else {\n\t\t\tcurrent_chunk.raw += parser.template[parser.index++];\n\t\t}\n\t}\n\tparser.error(parser_errors.unexpected_eof);\n}\n", "// Adapted from https://github.com/acornjs/acorn/blob/6584815dca7440e00de841d1dad152302fdd7ca5/src/tokenize.js\n// Reproduced under MIT License https://github.com/acornjs/acorn/blob/master/LICENSE\n\n/**\n * @param {string} str\n * @param {number} i\n * @returns {number}\n */\nexport default function full_char_code_at(str, i) {\n\tconst code = str.charCodeAt(i);\n\tif (code <= 0xd7ff || code >= 0xe000) return code;\n\n\tconst next = str.charCodeAt(i + 1);\n\treturn (code << 10) + next - 0x35fdc00;\n}\n", "const SQUARE_BRACKET_OPEN = '['.charCodeAt(0);\nconst SQUARE_BRACKET_CLOSE = ']'.charCodeAt(0);\nconst CURLY_BRACKET_OPEN = '{'.charCodeAt(0);\nconst CURLY_BRACKET_CLOSE = '}'.charCodeAt(0);\n\nexport function is_bracket_open(code) {\n\treturn code === SQUARE_BRACKET_OPEN || code === CURLY_BRACKET_OPEN;\n}\n\nexport function is_bracket_close(code) {\n\treturn code === SQUARE_BRACKET_CLOSE || code === CURLY_BRACKET_CLOSE;\n}\n\nexport function is_bracket_pair(open, close) {\n\treturn (\n\t\t(open === SQUARE_BRACKET_OPEN && close === SQUARE_BRACKET_CLOSE) ||\n\t\t(open === CURLY_BRACKET_OPEN && close === CURLY_BRACKET_CLOSE)\n\t);\n}\n\nexport function get_bracket_close(open) {\n\tif (open === SQUARE_BRACKET_OPEN) {\n\t\treturn SQUARE_BRACKET_CLOSE;\n\t}\n\tif (open === CURLY_BRACKET_OPEN) {\n\t\treturn CURLY_BRACKET_CLOSE;\n\t}\n}\n", "import { isIdentifierStart } from 'acorn';\nimport full_char_code_at from '../../utils/full_char_code_at.js';\nimport {\n\tis_bracket_open,\n\tis_bracket_close,\n\tis_bracket_pair,\n\tget_bracket_close\n} from '../utils/bracket.js';\nimport { parse_expression_at } from '../acorn.js';\nimport parser_errors from '../errors.js';\nimport { regex_not_newline_characters } from '../../utils/patterns.js';\n\n/**\n * @param {import('../index.js').Parser} parser\n * @returns {import('estree').Pattern & { start: number; end: number }}\n */\nexport default function read_context(parser) {\n\tconst start = parser.index;\n\tlet i = parser.index;\n\n\tconst code = full_char_code_at(parser.template, i);\n\tif (isIdentifierStart(code, true)) {\n\t\treturn {\n\t\t\ttype: 'Identifier',\n\t\t\tname: parser.read_identifier(),\n\t\t\tstart,\n\t\t\tend: parser.index\n\t\t};\n\t}\n\n\tif (!is_bracket_open(code)) {\n\t\tparser.error(parser_errors.unexpected_token_destructure);\n\t}\n\n\tconst bracket_stack = [code];\n\ti += code <= 0xffff ? 1 : 2;\n\n\twhile (i < parser.template.length) {\n\t\tconst code = full_char_code_at(parser.template, i);\n\t\tif (is_bracket_open(code)) {\n\t\t\tbracket_stack.push(code);\n\t\t} else if (is_bracket_close(code)) {\n\t\t\tif (!is_bracket_pair(bracket_stack[bracket_stack.length - 1], code)) {\n\t\t\t\tparser.error(\n\t\t\t\t\tparser_errors.unexpected_token(\n\t\t\t\t\t\tString.fromCharCode(get_bracket_close(bracket_stack[bracket_stack.length - 1]))\n\t\t\t\t\t)\n\t\t\t\t);\n\t\t\t}\n\t\t\tbracket_stack.pop();\n\t\t\tif (bracket_stack.length === 0) {\n\t\t\t\ti += code <= 0xffff ? 1 : 2;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\ti += code <= 0xffff ? 1 : 2;\n\t}\n\n\tparser.index = i;\n\n\tconst pattern_string = parser.template.slice(start, i);\n\ttry {\n\t\t// the length of the `space_with_newline` has to be start - 1\n\t\t// because we added a `(` in front of the pattern_string,\n\t\t// which shifted the entire string to right by 1\n\t\t// so we offset it by removing 1 character in the `space_with_newline`\n\t\t// to achieve that, we remove the 1st space encountered,\n\t\t// so it will not affect the `column` of the node\n\t\tlet space_with_newline = parser.template\n\t\t\t.slice(0, start)\n\t\t\t.replace(regex_not_newline_characters, ' ');\n\t\tconst first_space = space_with_newline.indexOf(' ');\n\t\tspace_with_newline =\n\t\t\tspace_with_newline.slice(0, first_space) + space_with_newline.slice(first_space + 1);\n\n\t\treturn parse_expression_at(`${space_with_newline}(${pattern_string} = 1)`, start - 1).left;\n\t} catch (error) {\n\t\tparser.acorn_error(error);\n\t}\n}\n", "import { regex_starts_with_whitespaces, regex_ends_with_whitespaces } from './patterns.js';\n\n/**\n * @param {string} str\n */\nexport function trim_start(str) {\n\treturn str.replace(regex_starts_with_whitespaces, '');\n}\n\n/**\n * @param {string} str\n */\nexport function trim_end(str) {\n\treturn str.replace(regex_ends_with_whitespaces, '');\n}\n", "/**\n * @param {import(\"../../interfaces.js\").TemplateNode} node\n */\nexport function to_string(node) {\n\tswitch (node.type) {\n\t\tcase 'IfBlock':\n\t\t\treturn '{#if} block';\n\t\tcase 'ThenBlock':\n\t\t\treturn '{:then} block';\n\t\tcase 'ElseBlock':\n\t\t\treturn '{:else} block';\n\t\tcase 'PendingBlock':\n\t\tcase 'AwaitBlock':\n\t\t\treturn '{#await} block';\n\t\tcase 'CatchBlock':\n\t\t\treturn '{:catch} block';\n\t\tcase 'EachBlock':\n\t\t\treturn '{#each} block';\n\t\tcase 'RawMustacheTag':\n\t\t\treturn '{@html} block';\n\t\tcase 'DebugTag':\n\t\t\treturn '{@debug} block';\n\t\tcase 'ConstTag':\n\t\t\treturn '{@const} tag';\n\t\tcase 'Element':\n\t\tcase 'InlineComponent':\n\t\tcase 'Slot':\n\t\tcase 'Title':\n\t\t\treturn `<${node.name}> tag`;\n\t\tdefault:\n\t\t\treturn node.type;\n\t}\n}\n", "import read_context from '../read/context.js';\nimport read_expression from '../read/expression.js';\nimport { closing_tag_omitted } from '../utils/html.js';\nimport { regex_whitespace } from '../../utils/patterns.js';\nimport { trim_start, trim_end } from '../../utils/trim.js';\nimport { to_string } from '../utils/node.js';\nimport parser_errors from '../errors.js';\n\n/**\n * @param {import('../../interfaces.js').TemplateNode} block\n * @param {boolean} trim_before\n * @param {boolean} trim_after\n */\nfunction trim_whitespace(block, trim_before, trim_after) {\n\tif (!block.children || block.children.length === 0) return; // AwaitBlock\n\tconst first_child = block.children[0];\n\tconst last_child = block.children[block.children.length - 1];\n\tif (first_child.type === 'Text' && trim_before) {\n\t\tfirst_child.data = trim_start(first_child.data);\n\t\tif (!first_child.data) block.children.shift();\n\t}\n\tif (last_child.type === 'Text' && trim_after) {\n\t\tlast_child.data = trim_end(last_child.data);\n\t\tif (!last_child.data) block.children.pop();\n\t}\n\tif (block.else) {\n\t\ttrim_whitespace(block.else, trim_before, trim_after);\n\t}\n\tif (first_child.elseif) {\n\t\ttrim_whitespace(first_child, trim_before, trim_after);\n\t}\n}\nconst regex_whitespace_with_closing_curly_brace = /^\\s*}/;\n\n/**\n * @param {import('../index.js').Parser} parser\n */\nexport default function mustache(parser) {\n\tconst start = parser.index;\n\tparser.index += 1;\n\tparser.allow_whitespace();\n\t// {/if}, {/each}, {/await} or {/key}\n\tif (parser.eat('/')) {\n\t\tlet block = parser.current();\n\t\tlet expected;\n\t\tif (closing_tag_omitted(block.name)) {\n\t\t\tblock.end = start;\n\t\t\tparser.stack.pop();\n\t\t\tblock = parser.current();\n\t\t}\n\t\tif (\n\t\t\tblock.type === 'ElseBlock' ||\n\t\t\tblock.type === 'PendingBlock' ||\n\t\t\tblock.type === 'ThenBlock' ||\n\t\t\tblock.type === 'CatchBlock'\n\t\t) {\n\t\t\tblock.end = start;\n\t\t\tparser.stack.pop();\n\t\t\tblock = parser.current();\n\t\t\texpected = 'await';\n\t\t}\n\t\tif (block.type === 'IfBlock') {\n\t\t\texpected = 'if';\n\t\t} else if (block.type === 'EachBlock') {\n\t\t\texpected = 'each';\n\t\t} else if (block.type === 'AwaitBlock') {\n\t\t\texpected = 'await';\n\t\t} else if (block.type === 'KeyBlock') {\n\t\t\texpected = 'key';\n\t\t} else {\n\t\t\tparser.error(parser_errors.unexpected_block_close);\n\t\t}\n\t\tparser.eat(expected, true);\n\t\tparser.allow_whitespace();\n\t\tparser.eat('}', true);\n\t\twhile (block.elseif) {\n\t\t\tblock.end = parser.index;\n\t\t\tparser.stack.pop();\n\t\t\tblock = parser.current();\n\t\t\tif (block.else) {\n\t\t\t\tblock.else.end = start;\n\t\t\t}\n\t\t}\n\t\t// strip leading/trailing whitespace as necessary\n\t\tconst char_before = parser.template[block.start - 1];\n\t\tconst char_after = parser.template[parser.index];\n\t\tconst trim_before = !char_before || regex_whitespace.test(char_before);\n\t\tconst trim_after = !char_after || regex_whitespace.test(char_after);\n\t\ttrim_whitespace(block, trim_before, trim_after);\n\t\tblock.end = parser.index;\n\t\tparser.stack.pop();\n\t} else if (parser.eat(':else')) {\n\t\tif (parser.eat('if')) {\n\t\t\tparser.error(parser_errors.invalid_elseif);\n\t\t}\n\t\tparser.allow_whitespace();\n\t\t// :else if\n\t\tif (parser.eat('if')) {\n\t\t\tconst block = parser.current();\n\t\t\tif (block.type !== 'IfBlock') {\n\t\t\t\tparser.error(\n\t\t\t\t\tparser.stack.some((block) => block.type === 'IfBlock')\n\t\t\t\t\t\t? parser_errors.invalid_elseif_placement_unclosed_block(to_string(block))\n\t\t\t\t\t\t: parser_errors.invalid_elseif_placement_outside_if\n\t\t\t\t);\n\t\t\t}\n\t\t\tparser.require_whitespace();\n\t\t\tconst expression = read_expression(parser);\n\t\t\tparser.allow_whitespace();\n\t\t\tparser.eat('}', true);\n\t\t\tblock.else = {\n\t\t\t\tstart: parser.index,\n\t\t\t\tend: null,\n\t\t\t\ttype: 'ElseBlock',\n\t\t\t\tchildren: [\n\t\t\t\t\t{\n\t\t\t\t\t\tstart: parser.index,\n\t\t\t\t\t\tend: null,\n\t\t\t\t\t\ttype: 'IfBlock',\n\t\t\t\t\t\telseif: true,\n\t\t\t\t\t\texpression,\n\t\t\t\t\t\tchildren: []\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t};\n\t\t\tparser.stack.push(block.else.children[0]);\n\t\t} else {\n\t\t\t// :else\n\t\t\tconst block = parser.current();\n\t\t\tif (block.type !== 'IfBlock' && block.type !== 'EachBlock') {\n\t\t\t\tparser.error(\n\t\t\t\t\tparser.stack.some((block) => block.type === 'IfBlock' || block.type === 'EachBlock')\n\t\t\t\t\t\t? parser_errors.invalid_else_placement_unclosed_block(to_string(block))\n\t\t\t\t\t\t: parser_errors.invalid_else_placement_outside_if\n\t\t\t\t);\n\t\t\t}\n\t\t\tparser.allow_whitespace();\n\t\t\tparser.eat('}', true);\n\t\t\tblock.else = {\n\t\t\t\tstart: parser.index,\n\t\t\t\tend: null,\n\t\t\t\ttype: 'ElseBlock',\n\t\t\t\tchildren: []\n\t\t\t};\n\t\t\tparser.stack.push(block.else);\n\t\t}\n\t} else if (parser.match(':then') || parser.match(':catch')) {\n\t\tconst block = parser.current();\n\t\tconst is_then = parser.eat(':then') || !parser.eat(':catch');\n\t\tif (is_then) {\n\t\t\tif (block.type !== 'PendingBlock') {\n\t\t\t\tparser.error(\n\t\t\t\t\tparser.stack.some((block) => block.type === 'PendingBlock')\n\t\t\t\t\t\t? parser_errors.invalid_then_placement_unclosed_block(to_string(block))\n\t\t\t\t\t\t: parser_errors.invalid_then_placement_without_await\n\t\t\t\t);\n\t\t\t}\n\t\t} else {\n\t\t\tif (block.type !== 'ThenBlock' && block.type !== 'PendingBlock') {\n\t\t\t\tparser.error(\n\t\t\t\t\tparser.stack.some((block) => block.type === 'ThenBlock' || block.type === 'PendingBlock')\n\t\t\t\t\t\t? parser_errors.invalid_catch_placement_unclosed_block(to_string(block))\n\t\t\t\t\t\t: parser_errors.invalid_catch_placement_without_await\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t\tblock.end = start;\n\t\tparser.stack.pop();\n\t\tconst await_block = parser.current();\n\t\tif (!parser.eat('}')) {\n\t\t\tparser.require_whitespace();\n\t\t\tawait_block[is_then ? 'value' : 'error'] = read_context(parser);\n\t\t\tparser.allow_whitespace();\n\t\t\tparser.eat('}', true);\n\t\t}\n\t\tconst new_block = {\n\t\t\tstart,\n\t\t\tend: null,\n\t\t\ttype: is_then ? 'ThenBlock' : 'CatchBlock',\n\t\t\tchildren: [],\n\t\t\tskip: false\n\t\t};\n\t\tawait_block[is_then ? 'then' : 'catch'] = new_block;\n\t\tparser.stack.push(new_block);\n\t} else if (parser.eat('#')) {\n\t\t// {#if foo}, {#each foo} or {#await foo}\n\t\tlet type;\n\t\tif (parser.eat('if')) {\n\t\t\ttype = 'IfBlock';\n\t\t} else if (parser.eat('each')) {\n\t\t\ttype = 'EachBlock';\n\t\t} else if (parser.eat('await')) {\n\t\t\ttype = 'AwaitBlock';\n\t\t} else if (parser.eat('key')) {\n\t\t\ttype = 'KeyBlock';\n\t\t} else {\n\t\t\tparser.error(parser_errors.expected_block_type);\n\t\t}\n\t\tparser.require_whitespace();\n\t\tconst expression = read_expression(parser);\n\t\tconst block =\n\t\t\ttype === 'AwaitBlock'\n\t\t\t\t? {\n\t\t\t\t\t\tstart,\n\t\t\t\t\t\tend: null,\n\t\t\t\t\t\ttype,\n\t\t\t\t\t\texpression,\n\t\t\t\t\t\tvalue: null,\n\t\t\t\t\t\terror: null,\n\t\t\t\t\t\tpending: {\n\t\t\t\t\t\t\tstart: null,\n\t\t\t\t\t\t\tend: null,\n\t\t\t\t\t\t\ttype: 'PendingBlock',\n\t\t\t\t\t\t\tchildren: [],\n\t\t\t\t\t\t\tskip: true\n\t\t\t\t\t\t},\n\t\t\t\t\t\tthen: {\n\t\t\t\t\t\t\tstart: null,\n\t\t\t\t\t\t\tend: null,\n\t\t\t\t\t\t\ttype: 'ThenBlock',\n\t\t\t\t\t\t\tchildren: [],\n\t\t\t\t\t\t\tskip: true\n\t\t\t\t\t\t},\n\t\t\t\t\t\tcatch: {\n\t\t\t\t\t\t\tstart: null,\n\t\t\t\t\t\t\tend: null,\n\t\t\t\t\t\t\ttype: 'CatchBlock',\n\t\t\t\t\t\t\tchildren: [],\n\t\t\t\t\t\t\tskip: true\n\t\t\t\t\t\t}\n\t\t\t\t  }\n\t\t\t\t: {\n\t\t\t\t\t\tstart,\n\t\t\t\t\t\tend: null,\n\t\t\t\t\t\ttype,\n\t\t\t\t\t\texpression,\n\t\t\t\t\t\tchildren: []\n\t\t\t\t  };\n\t\tparser.allow_whitespace();\n\t\t// {#each} blocks must declare a context – {#each list as item}\n\t\tif (type === 'EachBlock') {\n\t\t\tparser.eat('as', true);\n\t\t\tparser.require_whitespace();\n\t\t\tblock.context = read_context(parser);\n\t\t\tparser.allow_whitespace();\n\t\t\tif (parser.eat(',')) {\n\t\t\t\tparser.allow_whitespace();\n\t\t\t\tblock.index = parser.read_identifier();\n\t\t\t\tif (!block.index) parser.error(parser_errors.expected_name);\n\t\t\t\tparser.allow_whitespace();\n\t\t\t}\n\t\t\tif (parser.eat('(')) {\n\t\t\t\tparser.allow_whitespace();\n\t\t\t\tblock.key = read_expression(parser);\n\t\t\t\tparser.allow_whitespace();\n\t\t\t\tparser.eat(')', true);\n\t\t\t\tparser.allow_whitespace();\n\t\t\t}\n\t\t}\n\t\tconst await_block_shorthand = type === 'AwaitBlock' && parser.eat('then');\n\t\tif (await_block_shorthand) {\n\t\t\tif (parser.match_regex(regex_whitespace_with_closing_curly_brace)) {\n\t\t\t\tparser.allow_whitespace();\n\t\t\t} else {\n\t\t\t\tparser.require_whitespace();\n\t\t\t\tblock.value = read_context(parser);\n\t\t\t\tparser.allow_whitespace();\n\t\t\t}\n\t\t}\n\t\tconst await_block_catch_shorthand =\n\t\t\t!await_block_shorthand && type === 'AwaitBlock' && parser.eat('catch');\n\t\tif (await_block_catch_shorthand) {\n\t\t\tif (parser.match_regex(regex_whitespace_with_closing_curly_brace)) {\n\t\t\t\tparser.allow_whitespace();\n\t\t\t} else {\n\t\t\t\tparser.require_whitespace();\n\t\t\t\tblock.error = read_context(parser);\n\t\t\t\tparser.allow_whitespace();\n\t\t\t}\n\t\t}\n\t\tparser.eat('}', true);\n\t\tparser.current().children.push(block);\n\t\tparser.stack.push(block);\n\t\tif (type === 'AwaitBlock') {\n\t\t\tlet child_block;\n\t\t\tif (await_block_shorthand) {\n\t\t\t\tblock.then.skip = false;\n\t\t\t\tchild_block = block.then;\n\t\t\t} else if (await_block_catch_shorthand) {\n\t\t\t\tblock.catch.skip = false;\n\t\t\t\tchild_block = block.catch;\n\t\t\t} else {\n\t\t\t\tblock.pending.skip = false;\n\t\t\t\tchild_block = block.pending;\n\t\t\t}\n\t\t\tchild_block.start = parser.index;\n\t\t\tparser.stack.push(child_block);\n\t\t}\n\t} else if (parser.eat('@html')) {\n\t\t// {@html content} tag\n\t\tparser.require_whitespace();\n\t\tconst expression = read_expression(parser);\n\t\tparser.allow_whitespace();\n\t\tparser.eat('}', true);\n\t\tparser.current().children.push({\n\t\t\tstart,\n\t\t\tend: parser.index,\n\t\t\ttype: 'RawMustacheTag',\n\t\t\texpression\n\t\t});\n\t} else if (parser.eat('@debug')) {\n\t\tlet identifiers;\n\t\t// Implies {@debug} which indicates \"debug all\"\n\t\tif (parser.read(regex_whitespace_with_closing_curly_brace)) {\n\t\t\tidentifiers = [];\n\t\t} else {\n\t\t\tconst expression = read_expression(parser);\n\t\t\tidentifiers =\n\t\t\t\texpression.type === 'SequenceExpression' ? expression.expressions : [expression];\n\t\t\tidentifiers.forEach((node) => {\n\t\t\t\tif (node.type !== 'Identifier') {\n\t\t\t\t\tparser.error(parser_errors.invalid_debug_args, node.start);\n\t\t\t\t}\n\t\t\t});\n\t\t\tparser.allow_whitespace();\n\t\t\tparser.eat('}', true);\n\t\t}\n\t\tparser.current().children.push({\n\t\t\tstart,\n\t\t\tend: parser.index,\n\t\t\ttype: 'DebugTag',\n\t\t\tidentifiers\n\t\t});\n\t} else if (parser.eat('@const')) {\n\t\t// {@const a = b}\n\t\tparser.require_whitespace();\n\t\tconst expression = read_expression(parser);\n\t\tif (!(expression.type === 'AssignmentExpression' && expression.operator === '=')) {\n\t\t\tparser.error(\n\t\t\t\t{\n\t\t\t\t\tcode: 'invalid-const-args',\n\t\t\t\t\tmessage: '{@const ...} must be an assignment.'\n\t\t\t\t},\n\t\t\t\tstart\n\t\t\t);\n\t\t}\n\t\tparser.allow_whitespace();\n\t\tparser.eat('}', true);\n\t\tparser.current().children.push({\n\t\t\tstart,\n\t\t\tend: parser.index,\n\t\t\ttype: 'ConstTag',\n\t\t\texpression\n\t\t});\n\t} else {\n\t\tconst expression = read_expression(parser);\n\t\tparser.allow_whitespace();\n\t\tparser.eat('}', true);\n\t\tparser.current().children.push({\n\t\t\tstart,\n\t\t\tend: parser.index,\n\t\t\ttype: 'MustacheTag',\n\t\t\texpression\n\t\t});\n\t}\n}\n", "import { decode_character_references } from '../utils/html.js';\n\n/**\n * @param {import('../index.js').Parser} parser\n */\nexport default function text(parser) {\n\tconst start = parser.index;\n\n\tlet data = '';\n\n\twhile (parser.index < parser.template.length && !parser.match('<') && !parser.match('{')) {\n\t\tdata += parser.template[parser.index++];\n\t}\n\n\tconst node = {\n\t\tstart,\n\t\tend: parser.index,\n\t\ttype: 'Text',\n\t\traw: data,\n\t\tdata: decode_character_references(data, false)\n\t};\n\n\tparser.current().children.push(node);\n}\n", "import tag from './tag.js';\nimport mustache from './mustache.js';\nimport text from './text.js';\n\n/**\n * @param {import('../index.js').Parser} parser\n */\nexport default function fragment(parser) {\n\tif (parser.match('<')) {\n\t\treturn tag;\n\t}\n\n\tif (parser.match('{')) {\n\t\treturn mustache;\n\t}\n\n\treturn text;\n}\n", "import { isIdentifierStart, isIdentifierChar } from 'acorn';\nimport full_char_code_at from './full_char_code_at.js';\nimport { regex_starts_with_underscore, regex_ends_with_underscore } from './patterns.js';\n\nexport const reserved = new Set([\n\t'arguments',\n\t'await',\n\t'break',\n\t'case',\n\t'catch',\n\t'class',\n\t'const',\n\t'continue',\n\t'debugger',\n\t'default',\n\t'delete',\n\t'do',\n\t'else',\n\t'enum',\n\t'eval',\n\t'export',\n\t'extends',\n\t'false',\n\t'finally',\n\t'for',\n\t'function',\n\t'if',\n\t'implements',\n\t'import',\n\t'in',\n\t'instanceof',\n\t'interface',\n\t'let',\n\t'new',\n\t'null',\n\t'package',\n\t'private',\n\t'protected',\n\t'public',\n\t'return',\n\t'static',\n\t'super',\n\t'switch',\n\t'this',\n\t'throw',\n\t'true',\n\t'try',\n\t'typeof',\n\t'var',\n\t'void',\n\t'while',\n\t'with',\n\t'yield'\n]);\n\n/**\n * @param {string} str\n * @returns {boolean}\n */\nexport function is_valid(str) {\n\tlet i = 0;\n\n\twhile (i < str.length) {\n\t\tconst code = full_char_code_at(str, i);\n\t\tif (!(i === 0 ? isIdentifierStart : isIdentifierChar)(code, true)) return false;\n\n\t\ti += code <= 0xffff ? 1 : 2;\n\t}\n\n\treturn true;\n}\n\nconst regex_non_standard_characters = /[^a-zA-Z0-9_]+/g;\nconst regex_starts_with_number = /^[0-9]/;\n\n/**\n * @param {string} name\n */\nexport function sanitize(name) {\n\treturn name\n\t\t.replace(regex_non_standard_characters, '_')\n\t\t.replace(regex_starts_with_underscore, '')\n\t\t.replace(regex_ends_with_underscore, '')\n\t\t.replace(regex_starts_with_number, '_$&');\n}\n", "const regex_tabs = /^\\t+/;\n\n/**\n * @param {string} str\n */\nfunction tabs_to_spaces(str) {\n\treturn str.replace(regex_tabs, (match) => match.split('\\t').join('  '));\n}\n\n/**\n * @param {string} source\n * @param {number} line\n * @param {number} column\n */\nexport default function get_code_frame(source, line, column) {\n\tconst lines = source.split('\\n');\n\tconst frame_start = Math.max(0, line - 2);\n\tconst frame_end = Math.min(line + 3, lines.length);\n\tconst digits = String(frame_end + 1).length;\n\treturn lines\n\t\t.slice(frame_start, frame_end)\n\t\t.map((str, i) => {\n\t\t\tconst is_error_line = frame_start + i === line;\n\t\t\tconst line_num = String(i + frame_start + 1).padStart(digits, ' ');\n\t\t\tif (is_error_line) {\n\t\t\t\tconst indicator =\n\t\t\t\t\t' '.repeat(digits + 2 + tabs_to_spaces(str.slice(0, column)).length) + '^';\n\t\t\t\treturn `${line_num}: ${tabs_to_spaces(str)}\\n${indicator}`;\n\t\t\t}\n\t\t\treturn `${line_num}: ${tabs_to_spaces(str)}`;\n\t\t})\n\t\t.join('\\n');\n}\n", "import { locate } from 'locate-character';\nimport get_code_frame from './get_code_frame.js';\n\n/**\n * @extends Error\n */\nclass CompileError extends Error {\n\t/**\n\t * @type {string}\n\t */\n\tcode = undefined;\n\n\t/**\n\t * @type {{ line: number; column: number }}\n\t */\n\tstart = undefined;\n\n\t/**\n\t * @type {{ line: number; column: number }}\n\t */\n\tend = undefined;\n\n\t/**\n\t * @type {number}\n\t */\n\tpos = undefined;\n\n\t/**\n\t * @type {string}\n\t */\n\tfilename = undefined;\n\n\t/**\n\t * @type {string}\n\t */\n\tframe = undefined;\n\n\ttoString() {\n\t\treturn `${this.message} (${this.start.line}:${this.start.column})\\n${this.frame}`;\n\t}\n}\n\n/**\n * @param {string} message\n * @param {{\n * \t\tname: string;\n * \t\tcode: string;\n * \t\tsource: string;\n * \t\tfilename: string;\n * \t\tstart: number;\n * \t\tend?: number;\n * \t}} props\n * @returns {never}\n */\nexport default function error(message, props) {\n\tconst error = new CompileError(message);\n\terror.name = props.name;\n\tconst start = locate(props.source, props.start, { offsetLine: 1 });\n\tconst end = locate(props.source, props.end || props.start, { offsetLine: 1 });\n\terror.code = props.code;\n\terror.start = start;\n\terror.end = end;\n\terror.pos = props.start;\n\terror.filename = props.filename;\n\terror.frame = get_code_frame(props.source, start.line - 1, start.column);\n\tthrow error;\n}\n", "import { isIdentifierStart, isIdentifierChar } from 'acorn';\nimport fragment from './state/fragment.js';\nimport { regex_whitespace } from '../utils/patterns.js';\nimport { reserved } from '../utils/names.js';\nimport full_char_code_at from '../utils/full_char_code_at.js';\nimport error from '../utils/error.js';\nimport parser_errors from './errors.js';\nconst regex_position_indicator = / \\(\\d+:\\d+\\)$/;\n\nexport class Parser {\n\t/**\n\t * @readonly\n\t * @type {string}\n\t */\n\ttemplate = undefined;\n\n\t/**\n\t * @readonly\n\t * @type {string}\n\t */\n\tfilename = undefined;\n\n\t/**\n\t * @readonly\n\t * @type {boolean}\n\t */\n\tcustomElement = undefined;\n\n\t/**\n\t * @readonly\n\t * @type {'injected' | 'external' | 'none' | boolean}\n\t */\n\tcss_mode = undefined;\n\n\tindex = 0;\n\n\t/**\n\t * @type {import('../interfaces.js').TemplateNode[]}\n\t */\n\tstack = [];\n\n\t/**\n\t * @type {import('../interfaces.js').Fragment}\n\t */\n\thtml = undefined;\n\n\t/**\n\t * @type {import('../interfaces.js').Style[]}\n\t */\n\tcss = [];\n\n\t/**\n\t * @type {import('../interfaces.js').Script[]}\n\t */\n\tjs = [];\n\n\tmeta_tags = {};\n\n\t/**\n\t * @type {{tag: string; reason: string; depth: number;}}\n\t */\n\tlast_auto_closed_tag = undefined;\n\n\t/**\n\t * @param {string} template\n\t * @param {import('../interfaces.js').ParserOptions} options\n\t */\n\tconstructor(template, options) {\n\t\tif (typeof template !== 'string') {\n\t\t\tthrow new TypeError('Template must be a string');\n\t\t}\n\t\tthis.template = template.trimRight();\n\t\tthis.filename = options.filename;\n\t\tthis.customElement = options.customElement;\n\t\tthis.css_mode = options.css;\n\t\tthis.html = {\n\t\t\tstart: null,\n\t\t\tend: null,\n\t\t\ttype: 'Fragment',\n\t\t\tchildren: []\n\t\t};\n\t\tthis.stack.push(this.html);\n\n\t\t/**\n\t\t * @typedef {(parser: Parser) => ParserState | void} ParserState\n\t\t */\n\n\t\t/** @type {ParserState} */\n\t\tlet state = fragment;\n\t\twhile (this.index < this.template.length) {\n\t\t\tstate = state(this) || fragment;\n\t\t}\n\t\tif (this.stack.length > 1) {\n\t\t\tconst current = this.current();\n\t\t\tconst type = current.type === 'Element' ? `<${current.name}>` : 'Block';\n\t\t\tconst slug = current.type === 'Element' ? 'element' : 'block';\n\t\t\tthis.error(\n\t\t\t\t{\n\t\t\t\t\tcode: `unclosed-${slug}`,\n\t\t\t\t\tmessage: `${type} was left open`\n\t\t\t\t},\n\t\t\t\tcurrent.start\n\t\t\t);\n\t\t}\n\t\tif (state !== fragment) {\n\t\t\tthis.error({\n\t\t\t\tcode: 'unexpected-eof',\n\t\t\t\tmessage: 'Unexpected end of input'\n\t\t\t});\n\t\t}\n\t\tif (this.html.children.length) {\n\t\t\tlet start = this.html.children[0].start;\n\t\t\twhile (regex_whitespace.test(template[start])) start += 1;\n\t\t\tlet end = this.html.children[this.html.children.length - 1].end;\n\t\t\twhile (regex_whitespace.test(template[end - 1])) end -= 1;\n\t\t\tthis.html.start = start;\n\t\t\tthis.html.end = end;\n\t\t} else {\n\t\t\tthis.html.start = this.html.end = null;\n\t\t}\n\t}\n\tcurrent() {\n\t\treturn this.stack[this.stack.length - 1];\n\t}\n\n\t/**\n\t * @param {any} err\n\t */\n\tacorn_error(err) {\n\t\tthis.error(\n\t\t\t{\n\t\t\t\tcode: 'parse-error',\n\t\t\t\tmessage: err.message.replace(regex_position_indicator, '')\n\t\t\t},\n\t\t\terr.pos\n\t\t);\n\t}\n\n\t/**\n\t * @param {{ code: string; message: string }} err\n\t */\n\terror({ code, message }, index = this.index) {\n\t\terror(message, {\n\t\t\tname: 'ParseError',\n\t\t\tcode,\n\t\t\tsource: this.template,\n\t\t\tstart: index,\n\t\t\tfilename: this.filename\n\t\t});\n\t}\n\n\t/**\n\t * @param {string} str\n\t * @param {boolean} [required]\n\t * @param {{ code: string; message: string }} [error]\n\t */\n\teat(str, required, error) {\n\t\tif (this.match(str)) {\n\t\t\tthis.index += str.length;\n\t\t\treturn true;\n\t\t}\n\t\tif (required) {\n\t\t\tthis.error(\n\t\t\t\terror ||\n\t\t\t\t\t(this.index === this.template.length\n\t\t\t\t\t\t? parser_errors.unexpected_eof_token(str)\n\t\t\t\t\t\t: parser_errors.unexpected_token(str))\n\t\t\t);\n\t\t}\n\t\treturn false;\n\t}\n\n\t/**\n\t * @param {string} str\n\t */\n\tmatch(str) {\n\t\treturn this.template.slice(this.index, this.index + str.length) === str;\n\t}\n\t/**\n\t * Match a regex at the current index\n\t * @param {RegExp} pattern  Should have a ^ anchor at the start so the regex doesn't search past the beginning, resulting in worse performance\n\t */\n\tmatch_regex(pattern) {\n\t\tconst match = pattern.exec(this.template.slice(this.index));\n\t\tif (!match || match.index !== 0) return null;\n\t\treturn match[0];\n\t}\n\tallow_whitespace() {\n\t\twhile (this.index < this.template.length && regex_whitespace.test(this.template[this.index])) {\n\t\t\tthis.index++;\n\t\t}\n\t}\n\t/**\n\t * Search for a regex starting at the current index and return the result if it matches\n\t * @param {RegExp} pattern  Should have a ^ anchor at the start so the regex doesn't search past the beginning, resulting in worse performance\n\t */\n\tread(pattern) {\n\t\tconst result = this.match_regex(pattern);\n\t\tif (result) this.index += result.length;\n\t\treturn result;\n\t}\n\tread_identifier(allow_reserved = false) {\n\t\tconst start = this.index;\n\t\tlet i = this.index;\n\t\tconst code = full_char_code_at(this.template, i);\n\t\tif (!isIdentifierStart(code, true)) return null;\n\t\ti += code <= 0xffff ? 1 : 2;\n\t\twhile (i < this.template.length) {\n\t\t\tconst code = full_char_code_at(this.template, i);\n\t\t\tif (!isIdentifierChar(code, true)) break;\n\t\t\ti += code <= 0xffff ? 1 : 2;\n\t\t}\n\t\tconst identifier = this.template.slice(this.index, (this.index = i));\n\t\tif (!allow_reserved && reserved.has(identifier)) {\n\t\t\tthis.error(\n\t\t\t\t{\n\t\t\t\t\tcode: 'unexpected-reserved-word',\n\t\t\t\t\tmessage: `'${identifier}' is a reserved word in JavaScript and cannot be used here`\n\t\t\t\t},\n\t\t\t\tstart\n\t\t\t);\n\t\t}\n\t\treturn identifier;\n\t}\n\n\t/**\n\t * @param {RegExp} pattern\n\t * @param {Parameters<Parser['error']>[0]} [error_message]\n\t */\n\tread_until(pattern, error_message) {\n\t\tif (this.index >= this.template.length) {\n\t\t\tthis.error(\n\t\t\t\terror_message || {\n\t\t\t\t\tcode: 'unexpected-eof',\n\t\t\t\t\tmessage: 'Unexpected end of input'\n\t\t\t\t}\n\t\t\t);\n\t\t}\n\t\tconst start = this.index;\n\t\tconst match = pattern.exec(this.template.slice(start));\n\t\tif (match) {\n\t\t\tthis.index = start + match.index;\n\t\t\treturn this.template.slice(start, this.index);\n\t\t}\n\t\tthis.index = this.template.length;\n\t\treturn this.template.slice(start);\n\t}\n\trequire_whitespace() {\n\t\tif (!regex_whitespace.test(this.template[this.index])) {\n\t\t\tthis.error({\n\t\t\t\tcode: 'missing-whitespace',\n\t\t\t\tmessage: 'Expected whitespace'\n\t\t\t});\n\t\t}\n\t\tthis.allow_whitespace();\n\t}\n}\n\n/**\n * The parse function parses a component, returning only its abstract syntax tree.\n *\n * https://svelte.dev/docs/svelte-compiler#svelte-parse\n * @param {string} template\n * @param {import('../interfaces.js').ParserOptions} options\n * @returns {import('../interfaces.js').Ast}\n */\nexport default function parse(template, options = {}) {\n\tconst parser = new Parser(template, options);\n\t// TODO we may want to allow multiple <style> tags —\n\t// one scoped, one global. for now, only allow one\n\tif (parser.css.length > 1) {\n\t\tparser.error(parser_errors.duplicate_style, parser.css[1].start);\n\t}\n\tconst instance_scripts = parser.js.filter((script) => script.context === 'default');\n\tconst module_scripts = parser.js.filter((script) => script.context === 'module');\n\tif (instance_scripts.length > 1) {\n\t\tparser.error(parser_errors.invalid_script_instance, instance_scripts[1].start);\n\t}\n\tif (module_scripts.length > 1) {\n\t\tparser.error(parser_errors.invalid_script_module, module_scripts[1].start);\n\t}\n\treturn {\n\t\thtml: parser.html,\n\t\tcss: parser.css[0],\n\t\tinstance: instance_scripts[0],\n\t\tmodule: module_scripts[0]\n\t};\n}\n", "/**\n * @param {import(\"estree\").Node} node\n */\nexport function is_head(node) {\n\treturn (\n\t\tnode &&\n\t\tnode.type === 'MemberExpression' &&\n\t\tnode.object['name'] === '@_document' &&\n\t\tnode.property['name'] === 'head'\n\t);\n}\n", "import { b, x } from 'code-red';\nimport { is_head } from './wrappers/shared/is_head.js';\nimport { regex_double_quotes } from '../../utils/patterns.js';\nimport { flatten } from '../../utils/flatten.js';\n\nexport default class Block {\n\t/**\n\t * @typedef {Object} Bindings\n\t * @property {import('estree').Identifier} object\n\t * @property {import('estree').Identifier} property\n\t * @property {import('estree').Node} snippet\n\t * @property {string} store\n\t * @property {(node:import('estree').Node) => import('estree').Node} modifier\n\t */\n\t/**\n\t * @typedef {Object} BlockOptions\n\t * @property {Block} [parent]\n\t * @property {import('estree').Identifier} name\n\t * @property {string} type\n\t * @property {import('./Renderer.js').default} [renderer]\n\t * @property {string} [comment]\n\t * @property {import('estree').Identifier} [key]\n\t * @property {Map<string,Bindings>} [bindings]\n\t * @property {Set<string>} [dependencies]\n\t */\n\n\t/** @type {Block} */\n\tparent;\n\n\t/** @type {import('./Renderer.js').default} */\n\trenderer;\n\n\t/** @type {import('estree').Identifier} */\n\tname;\n\n\t/** @type {string} */\n\ttype;\n\n\t/** @type {string} */\n\tcomment;\n\n\t/** @type {import('./wrappers/shared/Wrapper.js').default[]} */\n\twrappers;\n\n\t/** @type {import('estree').Identifier} */\n\tkey;\n\n\t/** @type {import('estree').Identifier} */\n\tfirst;\n\n\t/** @type {Set<string>} */\n\tdependencies = new Set();\n\n\t/** @type {Map<string, Bindings>} */\n\tbindings;\n\n\t/** @type {Set<string>} */\n\tbinding_group_initialised = new Set();\n\n\t/** @type {Set<import('./Renderer.js').BindingGroup>} */\n\tbinding_groups = new Set();\n\t/**\n\t * @type {{\n\t * \t\tdeclarations: Array<import('estree').Node | import('estree').Node[]>;\n\t * \t\tinit: Array<import('estree').Node | import('estree').Node[]>;\n\t * \t\tcreate: Array<import('estree').Node | import('estree').Node[]>;\n\t * \t\tclaim: Array<import('estree').Node | import('estree').Node[]>;\n\t * \t\thydrate: Array<import('estree').Node | import('estree').Node[]>;\n\t * \t\tmount: Array<import('estree').Node | import('estree').Node[]>;\n\t * \t\tmeasure: Array<import('estree').Node | import('estree').Node[]>;\n\t * \t\trestore_measurements: Array<import('estree').Node | import('estree').Node[]>;\n\t * \t\tfix: Array<import('estree').Node | import('estree').Node[]>;\n\t * \t\tanimate: Array<import('estree').Node | import('estree').Node[]>;\n\t * \t\tintro: Array<import('estree').Node | import('estree').Node[]>;\n\t * \t\tupdate: Array<import('estree').Node | import('estree').Node[]>;\n\t * \t\toutro: Array<import('estree').Node | import('estree').Node[]>;\n\t * \t\tdestroy: Array<import('estree').Node | import('estree').Node[]>;\n\t * \t}}\n\t */\n\tchunks;\n\n\t/** @type {import('estree').Node[]} */\n\tevent_listeners = [];\n\n\t/** @type {boolean} */\n\tmaintain_context;\n\n\t/** @type {boolean} */\n\thas_animation;\n\n\t/** @type {boolean} */\n\thas_intros;\n\n\t/** @type {boolean} */\n\thas_outros;\n\n\t/** @type {boolean} */\n\thas_intro_method; // could have the method without the transition, due to siblings\n\n\t/** @type {boolean} */\n\thas_outro_method;\n\n\t/** @type {number} */\n\toutros;\n\n\t/** @type {Map<string, import('estree').Identifier>} */\n\taliases;\n\n\t/** @type {Map<string, { id: import('estree').Identifier; init?: import('estree').Node }>} */\n\tvariables = new Map();\n\n\t/** @type {(name: string) => import('estree').Identifier} */\n\tget_unique_name;\n\t/** */\n\thas_update_method = false;\n\n\t/** @type {{ element_var: string; condition_expression?: any }} */\n\tautofocus;\n\n\t/** @param {BlockOptions} options */\n\tconstructor(options) {\n\t\tthis.parent = options.parent;\n\t\tthis.renderer = options.renderer;\n\t\tthis.name = options.name;\n\t\tthis.type = options.type;\n\t\tthis.comment = options.comment;\n\t\tthis.wrappers = [];\n\t\t// for keyed each blocks\n\t\tthis.key = options.key;\n\t\tthis.first = null;\n\t\tthis.bindings = options.bindings;\n\t\tthis.chunks = {\n\t\t\tdeclarations: [],\n\t\t\tinit: [],\n\t\t\tcreate: [],\n\t\t\tclaim: [],\n\t\t\thydrate: [],\n\t\t\tmount: [],\n\t\t\tmeasure: [],\n\t\t\trestore_measurements: [],\n\t\t\tfix: [],\n\t\t\tanimate: [],\n\t\t\tintro: [],\n\t\t\tupdate: [],\n\t\t\toutro: [],\n\t\t\tdestroy: []\n\t\t};\n\t\tthis.has_animation = false;\n\t\tthis.has_intro_method = false; // a block could have an intro method but not intro transitions, e.g. if a sibling block has intros\n\t\tthis.has_outro_method = false;\n\t\tthis.outros = 0;\n\t\tthis.get_unique_name = this.renderer.component.get_unique_name_maker();\n\t\tthis.aliases = new Map();\n\t\tif (this.key) this.aliases.set('key', this.get_unique_name('key'));\n\t}\n\n\tassign_variable_names() {\n\t\t/** @type {Set<string>} */\n\t\tconst seen = new Set();\n\n\t\t/** @type {Set<string>} */\n\t\tconst dupes = new Set();\n\t\tlet i = this.wrappers.length;\n\t\twhile (i--) {\n\t\t\tconst wrapper = this.wrappers[i];\n\t\t\tif (!wrapper.var) continue;\n\t\t\tif (seen.has(wrapper.var.name)) {\n\t\t\t\tdupes.add(wrapper.var.name);\n\t\t\t}\n\t\t\tseen.add(wrapper.var.name);\n\t\t}\n\t\tconst counts = new Map();\n\t\ti = this.wrappers.length;\n\t\twhile (i--) {\n\t\t\tconst wrapper = this.wrappers[i];\n\t\t\tif (!wrapper.var) continue;\n\t\t\tlet suffix = '';\n\t\t\tif (dupes.has(wrapper.var.name)) {\n\t\t\t\tconst i = counts.get(wrapper.var.name) || 0;\n\t\t\t\tcounts.set(wrapper.var.name, i + 1);\n\t\t\t\tsuffix = i;\n\t\t\t}\n\t\t\twrapper.var.name = this.get_unique_name(wrapper.var.name + suffix).name;\n\t\t}\n\t}\n\n\t/** @param {Set<string>} dependencies */\n\tadd_dependencies(dependencies) {\n\t\tdependencies.forEach((dependency) => {\n\t\t\tthis.dependencies.add(dependency);\n\t\t});\n\t\tthis.has_update_method = true;\n\t\tif (this.parent) {\n\t\t\tthis.parent.add_dependencies(dependencies);\n\t\t}\n\t}\n\n\t/**\n\t * @param {import('estree').Identifier} id\n\t * @param {import('estree').Node} render_statement\n\t * @param {import('estree').Node} claim_statement\n\t * @param {import('estree').Node} parent_node\n\t * @param {boolean} [no_detach]\n\t */\n\tadd_element(id, render_statement, claim_statement, parent_node, no_detach) {\n\t\tthis.add_variable(id);\n\t\tthis.chunks.create.push(b`${id} = ${render_statement};`);\n\t\tif (this.renderer.options.hydratable) {\n\t\t\tthis.chunks.claim.push(b`${id} = ${claim_statement || render_statement};`);\n\t\t}\n\t\tif (parent_node) {\n\t\t\tthis.chunks.mount.push(b`@append(${parent_node}, ${id});`);\n\t\t\tif (is_head(parent_node) && !no_detach) this.chunks.destroy.push(b`@detach(${id});`);\n\t\t} else {\n\t\t\tthis.chunks.mount.push(b`@insert(#target, ${id}, #anchor);`);\n\t\t\tif (!no_detach) this.chunks.destroy.push(b`if (detaching) @detach(${id});`);\n\t\t}\n\t}\n\n\t/** @param {boolean} [local] */\n\tadd_intro(local) {\n\t\tthis.has_intros = this.has_intro_method = true;\n\t\tif (!local && this.parent) this.parent.add_intro();\n\t}\n\n\t/** @param {boolean} [local] */\n\tadd_outro(local) {\n\t\tthis.has_outros = this.has_outro_method = true;\n\t\tthis.outros += 1;\n\t\tif (!local && this.parent) this.parent.add_outro();\n\t}\n\n\tadd_animation() {\n\t\tthis.has_animation = true;\n\t}\n\n\t/**\n\t * @param {import('estree').Identifier} id\n\t * @param {import('estree').Node} [init]\n\t */\n\tadd_variable(id, init) {\n\t\tif (this.variables.has(id.name)) {\n\t\t\tthrow new Error(`Variable '${id.name}' already initialised with a different value`);\n\t\t}\n\t\tthis.variables.set(id.name, { id, init });\n\t}\n\n\t/** @param {string} name */\n\talias(name) {\n\t\tif (!this.aliases.has(name)) {\n\t\t\tthis.aliases.set(name, this.get_unique_name(name));\n\t\t}\n\t\treturn this.aliases.get(name);\n\t}\n\n\t/** @param {BlockOptions} options */\n\tchild(options) {\n\t\treturn new Block(Object.assign({}, this, { key: null }, options, { parent: this }));\n\t}\n\n\t/** @param {any} [key] */\n\tget_contents(key) {\n\t\tconst { dev } = this.renderer.options;\n\t\tif (this.has_outros) {\n\t\t\tthis.add_variable({ type: 'Identifier', name: '#current' });\n\t\t\tif (this.chunks.intro.length > 0) {\n\t\t\t\tthis.chunks.intro.push(b`#current = true;`);\n\t\t\t\tthis.chunks.mount.push(b`#current = true;`);\n\t\t\t}\n\t\t\tif (this.chunks.outro.length > 0) {\n\t\t\t\tthis.chunks.outro.push(b`#current = false;`);\n\t\t\t}\n\t\t}\n\t\tif (this.autofocus) {\n\t\t\tif (this.autofocus.condition_expression) {\n\t\t\t\tthis.chunks.mount.push(\n\t\t\t\t\tb`if (${this.autofocus.condition_expression}) ${this.autofocus.element_var}.focus();`\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\tthis.chunks.mount.push(b`${this.autofocus.element_var}.focus();`);\n\t\t\t}\n\t\t}\n\t\tthis.render_binding_groups();\n\t\tthis.render_listeners();\n\n\t\t/** @type {Record<string, any>} */\n\t\tconst properties = {};\n\t\tconst noop = x`@noop`;\n\t\tproperties.key = key;\n\t\tif (this.first) {\n\t\t\tproperties.first = x`null`;\n\t\t\tthis.chunks.hydrate.push(b`this.first = ${this.first};`);\n\t\t}\n\t\tif (this.chunks.create.length === 0 && this.chunks.hydrate.length === 0) {\n\t\t\tproperties.create = noop;\n\t\t} else {\n\t\t\tconst hydrate =\n\t\t\t\tthis.chunks.hydrate.length > 0 &&\n\t\t\t\t(this.renderer.options.hydratable ? b`this.h();` : this.chunks.hydrate);\n\t\t\tproperties.create = x`function #create() {\n\t\t\t\t${this.chunks.create}\n\t\t\t\t${hydrate}\n\t\t\t}`;\n\t\t}\n\t\tif (this.renderer.options.hydratable || this.chunks.claim.length > 0) {\n\t\t\tif (this.chunks.claim.length === 0 && this.chunks.hydrate.length === 0) {\n\t\t\t\tproperties.claim = noop;\n\t\t\t} else {\n\t\t\t\tproperties.claim = x`function #claim(#nodes) {\n\t\t\t\t\t${this.chunks.claim}\n\t\t\t\t\t${this.renderer.options.hydratable && this.chunks.hydrate.length > 0 && b`this.h();`}\n\t\t\t\t}`;\n\t\t\t}\n\t\t}\n\t\tif (this.renderer.options.hydratable && this.chunks.hydrate.length > 0) {\n\t\t\tproperties.hydrate = x`function #hydrate() {\n\t\t\t\t${this.chunks.hydrate}\n\t\t\t}`;\n\t\t}\n\t\tif (this.chunks.mount.length === 0) {\n\t\t\tproperties.mount = noop;\n\t\t} else if (this.event_listeners.length === 0) {\n\t\t\tproperties.mount = x`function #mount(#target, #anchor) {\n\t\t\t\t${this.chunks.mount}\n\t\t\t}`;\n\t\t} else {\n\t\t\tproperties.mount = x`function #mount(#target, #anchor) {\n\t\t\t\t${this.chunks.mount}\n\t\t\t}`;\n\t\t}\n\t\tif (this.has_update_method || this.maintain_context) {\n\t\t\tif (this.chunks.update.length === 0 && !this.maintain_context) {\n\t\t\t\tproperties.update = noop;\n\t\t\t} else {\n\t\t\t\tconst ctx = this.maintain_context ? x`#new_ctx` : x`#ctx`;\n\n\t\t\t\t/** @type {import('estree').Identifier | import('estree').ArrayPattern} */\n\t\t\t\tlet dirty = { type: 'Identifier', name: '#dirty' };\n\t\t\t\tif (!this.renderer.context_overflow && !this.parent) {\n\t\t\t\t\tdirty = { type: 'ArrayPattern', elements: [dirty] };\n\t\t\t\t}\n\t\t\t\tproperties.update = x`function #update(${ctx}, ${dirty}) {\n\t\t\t\t\t${this.maintain_context && b`#ctx = ${ctx};`}\n\t\t\t\t\t${this.chunks.update}\n\t\t\t\t}`;\n\t\t\t}\n\t\t}\n\t\tif (this.has_animation) {\n\t\t\tproperties.measure = x`function #measure() {\n\t\t\t\t${this.chunks.measure}\n\t\t\t}`;\n\t\t\tif (this.chunks.restore_measurements.length) {\n\t\t\t\tproperties.restore_measurements = x`function #restore_measurements(#measurement) {\n\t\t\t\t\t${this.chunks.restore_measurements}\n\t\t\t\t}`;\n\t\t\t}\n\t\t\tproperties.fix = x`function #fix() {\n\t\t\t\t${this.chunks.fix}\n\t\t\t}`;\n\t\t\tproperties.animate = x`function #animate() {\n\t\t\t\t${this.chunks.animate}\n\t\t\t}`;\n\t\t}\n\t\tif (this.has_intro_method || this.has_outro_method) {\n\t\t\tif (this.chunks.intro.length === 0) {\n\t\t\t\tproperties.intro = noop;\n\t\t\t} else {\n\t\t\t\tproperties.intro = x`function #intro(#local) {\n\t\t\t\t\t${this.has_outros && b`if (#current) return;`}\n\t\t\t\t\t${this.chunks.intro}\n\t\t\t\t}`;\n\t\t\t}\n\t\t\tif (this.chunks.outro.length === 0) {\n\t\t\t\tproperties.outro = noop;\n\t\t\t} else {\n\t\t\t\tproperties.outro = x`function #outro(#local) {\n\t\t\t\t\t${this.chunks.outro}\n\t\t\t\t}`;\n\t\t\t}\n\t\t}\n\t\tif (this.chunks.destroy.length === 0) {\n\t\t\tproperties.destroy = noop;\n\t\t} else {\n\t\t\tconst dispose_elements = [];\n\t\t\t// Coalesce if blocks with the same condition\n\t\t\tconst others = flatten(this.chunks.destroy).filter(\n\t\t\t\t/** @param {import('estree').Node} node */\n\t\t\t\t(node) => {\n\t\t\t\t\tif (\n\t\t\t\t\t\tnode.type === 'IfStatement' &&\n\t\t\t\t\t\tnode.test.type === 'Identifier' &&\n\t\t\t\t\t\tnode.test.name === 'detaching'\n\t\t\t\t\t) {\n\t\t\t\t\t\tdispose_elements.push(node.consequent);\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t);\n\n\t\t\tproperties.destroy = x`function #destroy(detaching) {\n\t\t\t\t${dispose_elements.length ? b`if (detaching) { ${dispose_elements} }` : null}\n\t\t\t\t${others}\n\t\t\t}`;\n\t\t}\n\t\tif (!this.renderer.component.compile_options.dev) {\n\t\t\t// allow shorthand names\n\t\t\tfor (const name in properties) {\n\t\t\t\tconst property = properties[name];\n\t\t\t\tif (property) property.id = null;\n\t\t\t}\n\t\t}\n\n\t\t/** @type {any} */\n\t\tconst return_value = x`{\n\t\t\tkey: ${properties.key},\n\t\t\tfirst: ${properties.first},\n\t\t\tc: ${properties.create},\n\t\t\tl: ${properties.claim},\n\t\t\th: ${properties.hydrate},\n\t\t\tm: ${properties.mount},\n\t\t\tp: ${properties.update},\n\t\t\tr: ${properties.measure},\n\t\t\ts: ${properties.restore_measurements},\n\t\t\tf: ${properties.fix},\n\t\t\ta: ${properties.animate},\n\t\t\ti: ${properties.intro},\n\t\t\to: ${properties.outro},\n\t\t\td: ${properties.destroy}\n\t\t}`;\n\t\tconst block = dev && this.get_unique_name('block');\n\t\tconst body = b`\n\t\t\t${this.chunks.declarations}\n\n\t\t\t${Array.from(this.variables.values()).map(({ id, init }) => {\n\t\t\t\treturn init ? b`let ${id} = ${init}` : b`let ${id}`;\n\t\t\t})}\n\n\t\t\t${this.chunks.init}\n\n\t\t\t${\n\t\t\t\tdev\n\t\t\t\t\t? b`\n\t\t\t\t\tconst ${block} = ${return_value};\n\t\t\t\t\t@dispatch_dev(\"SvelteRegisterBlock\", {\n\t\t\t\t\t\tblock: ${block},\n\t\t\t\t\t\tid: ${this.name || 'create_fragment'}.name,\n\t\t\t\t\t\ttype: \"${this.type}\",\n\t\t\t\t\t\tsource: \"${this.comment ? this.comment.replace(regex_double_quotes, '\\\\\"') : ''}\",\n\t\t\t\t\t\tctx: #ctx\n\t\t\t\t\t});\n\t\t\t\t\treturn ${block};`\n\t\t\t\t\t: b`\n\t\t\t\t\treturn ${return_value};`\n\t\t\t}\n\t\t`;\n\t\treturn body;\n\t}\n\n\t/** @returns {boolean} */\n\thas_content() {\n\t\treturn (\n\t\t\t!!this.first ||\n\t\t\tthis.event_listeners.length > 0 ||\n\t\t\tthis.chunks.intro.length > 0 ||\n\t\t\tthis.chunks.outro.length > 0 ||\n\t\t\tthis.chunks.create.length > 0 ||\n\t\t\tthis.chunks.hydrate.length > 0 ||\n\t\t\tthis.chunks.claim.length > 0 ||\n\t\t\tthis.chunks.mount.length > 0 ||\n\t\t\tthis.chunks.update.length > 0 ||\n\t\t\tthis.chunks.destroy.length > 0 ||\n\t\t\tthis.has_animation\n\t\t);\n\t}\n\n\trender() {\n\t\tconst key = this.key && this.get_unique_name('key');\n\n\t\t/** @type {any[]} */\n\t\tconst args = [x`#ctx`];\n\t\tif (key) args.unshift(key);\n\t\tconst fn = b`function ${this.name}(${args}) {\n\t\t\t${this.get_contents(key)}\n\t\t}`;\n\t\treturn this.comment\n\t\t\t? b`\n\t\t\t\t// ${this.comment}\n\t\t\t\t${fn}`\n\t\t\t: fn;\n\t}\n\n\t/** @param {string} chunk */\n\trender_listeners(chunk = '') {\n\t\tif (this.event_listeners.length > 0) {\n\t\t\tthis.add_variable({ type: 'Identifier', name: '#mounted' });\n\t\t\tthis.chunks.destroy.push(b`#mounted = false`);\n\n\t\t\t/** @type {import('estree').Identifier} */\n\t\t\tconst dispose = {\n\t\t\t\ttype: 'Identifier',\n\t\t\t\tname: `#dispose${chunk}`\n\t\t\t};\n\t\t\tthis.add_variable(dispose);\n\t\t\tif (this.event_listeners.length === 1) {\n\t\t\t\tthis.chunks.mount.push(b`\n\t\t\t\t\t\tif (!#mounted) {\n\t\t\t\t\t\t\t${dispose} = ${this.event_listeners[0]};\n\t\t\t\t\t\t\t#mounted = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t`);\n\t\t\t\tthis.chunks.destroy.push(b`${dispose}();`);\n\t\t\t} else {\n\t\t\t\tthis.chunks.mount.push(b`\n\t\t\t\t\tif (!#mounted) {\n\t\t\t\t\t\t${dispose} = [\n\t\t\t\t\t\t\t${this.event_listeners}\n\t\t\t\t\t\t];\n\t\t\t\t\t\t#mounted = true;\n\t\t\t\t\t}\n\t\t\t\t`);\n\t\t\t\tthis.chunks.destroy.push(b`@run_all(${dispose});`);\n\t\t\t}\n\t\t}\n\t}\n\trender_binding_groups() {\n\t\tfor (const binding_group of this.binding_groups) {\n\t\t\tbinding_group.render(this);\n\t\t}\n\t}\n}\n", "import { x } from 'code-red';\n\n/**\n * @template {import('../../../../interfaces.js').TemplateNode} [NodeType=import('../../../../interfaces.js').TemplateNode]\n */\nexport default class Wrapper {\n\t/** @type {import('../../Renderer.js').default} */\n\trenderer;\n\n\t/** @type {Wrapper} */\n\tparent;\n\n\t/** @type {NodeType} */\n\tnode;\n\n\t/** @type {Wrapper | null} */\n\tprev;\n\n\t/** @type {Wrapper | null} */\n\tnext;\n\n\t/** @type {import('estree').Identifier} */\n\tvar;\n\n\t/**\n\t * @param {import('../../Renderer.js').default} renderer\n\t * @param {import('../../Block.js').default} block\n\t * @param {Wrapper} parent\n\t * @param {NodeType} node\n\t */\n\tconstructor(renderer, block, parent, node) {\n\t\tthis.node = node;\n\t\t// make these non-enumerable so that they can be logged sensibly\n\t\t// (TODO in dev only?)\n\t\tObject.defineProperties(this, {\n\t\t\trenderer: {\n\t\t\t\tvalue: renderer\n\t\t\t},\n\t\t\tparent: {\n\t\t\t\tvalue: parent\n\t\t\t}\n\t\t});\n\t\tblock.wrappers.push(this);\n\t}\n\n\t/**\n\t * @param {import('../../Block.js').default} block\n\t * @param {import('estree').Identifier} parent_node\n\t * @param {import('estree').Identifier} parent_nodes\n\t */\n\tget_or_create_anchor(block, parent_node, parent_nodes) {\n\t\t// TODO use this in EachBlock and IfBlock — tricky because\n\t\t// children need to be created first\n\t\tconst needs_anchor = this.next\n\t\t\t? !this.next.is_dom_node()\n\t\t\t: !parent_node || !this.parent.is_dom_node();\n\t\tconst anchor = needs_anchor\n\t\t\t? block.get_unique_name(`${this.var.name}_anchor`)\n\t\t\t: (this.next && this.next.var) || { type: 'Identifier', name: 'null' };\n\t\tif (needs_anchor) {\n\t\t\tblock.add_element(\n\t\t\t\tanchor,\n\t\t\t\tx`@empty()`,\n\t\t\t\tparent_nodes && x`@empty()`,\n\t\t\t\t/** @type {import('estree').Identifier} */ (parent_node)\n\t\t\t);\n\t\t}\n\t\treturn anchor;\n\t}\n\n\t/**\n\t * @param {import('estree').Identifier} anchor\n\t * @returns {import('estree').Identifier}\n\t */\n\tget_update_mount_node(anchor) {\n\t\treturn /** @type {import('estree').Identifier} */ (\n\t\t\tthis.parent && this.parent.is_dom_node() ? this.parent.var : x`${anchor}.parentNode`\n\t\t);\n\t}\n\tis_dom_node() {\n\t\treturn (\n\t\t\tthis.node.type === 'Element' || this.node.type === 'Text' || this.node.type === 'MustacheTag'\n\t\t);\n\t}\n\n\t/**\n\t * @param {import('../../Block.js').default} _block\n\t * @param {import('estree').Identifier} _parent_node\n\t * @param {import('estree').Identifier} _parent_nodes\n\t * @param {Record<string, any>} _data\n\t */\n\trender(_block, _parent_node, _parent_nodes, _data = undefined) {\n\t\tthrow Error('Wrapper class is not renderable');\n\t}\n}\n", "import { regex_whitespace_characters } from '../../../../utils/patterns.js';\n\n/**\n * @param {import('../../../nodes/interfaces.js').INode} node\n * @param {import('../../../Component.js').default} component\n */\nexport default function create_debugging_comment(node, component) {\n\tconst { locate, source } = component;\n\tlet c = node.start;\n\tif (node.type === 'ElseBlock') {\n\t\twhile (source[c - 1] !== '{') c -= 1;\n\t\twhile (source[c - 1] === '{') c -= 1;\n\t}\n\n\t/** @type {number} */\n\tlet d;\n\tif (node.type === 'InlineComponent' || node.type === 'Element' || node.type === 'SlotTemplate') {\n\t\tif (node.children.length) {\n\t\t\td = node.children[0].start;\n\t\t\twhile (source[d - 1] !== '>') d -= 1;\n\t\t} else {\n\t\t\td = node.start;\n\t\t\twhile (source[d] !== '>') d += 1;\n\t\t\td += 1;\n\t\t}\n\t} else if (node.type === 'Text' || node.type === 'Comment') {\n\t\td = node.end;\n\t} else {\n\t\t// @ts-ignore\n\t\td = node.expression ? node.expression.node.end : c;\n\t\twhile (source[d] !== '}' && d <= source.length) d += 1;\n\t\twhile (source[d] === '}') d += 1;\n\t}\n\tconst start = locate(c);\n\tconst loc = `(${start.line}:${start.column})`;\n\treturn `${loc} ${source.slice(c, d)}`.replace(regex_whitespace_characters, ' ');\n}\n", "/**\n * @template {string} Type\n * @template {import('../interfaces.js').INode} [Parent=import('../interfaces.js').INode]\n */\nexport default class Node {\n\t/**\n\t * @readonly\n\t * @type {number}\n\t */\n\tstart;\n\n\t/**\n\t * @readonly\n\t * @type {number}\n\t */\n\tend;\n\n\t/**\n\t * @readonly\n\t * @type {import('../../Component.js').default}\n\t */\n\tcomponent;\n\n\t/**\n\t * @readonly\n\t * @type {Parent}\n\t */\n\tparent;\n\n\t/**\n\t * @readonly\n\t * @type {Type}\n\t */\n\ttype;\n\n\t/** @type {import('../interfaces.js').INode} */\n\tprev;\n\n\t/** @type {import('../interfaces.js').INode} */\n\tnext;\n\n\t/** @type {boolean} */\n\tcan_use_innerhtml;\n\n\t/** @type {boolean} */\n\tis_static_content;\n\n\t/** @type {string} */\n\tvar;\n\n\t/** @type {import('../Attribute.js').default[]} */\n\tattributes = [];\n\n\t/**\n\t * @param {import('../../Component.js').default} component\n\t * @param {Node} parent\n\t * @param {any} _scope\n\t * @param {import('../../../interfaces.js').TemplateNode} info\n\t */\n\tconstructor(component, parent, _scope, info) {\n\t\tthis.start = info.start;\n\t\tthis.end = info.end;\n\t\tthis.type = /** @type {Type} */ (info.type);\n\t\t// this makes properties non-enumerable, which makes logging\n\t\t// bearable. might have a performance cost. TODO remove in prod?\n\t\tObject.defineProperties(this, {\n\t\t\tcomponent: {\n\t\t\t\tvalue: component\n\t\t\t},\n\t\t\tparent: {\n\t\t\t\tvalue: parent\n\t\t\t}\n\t\t});\n\t\tthis.can_use_innerhtml = true;\n\t\tthis.is_static_content = true;\n\t}\n\tcannot_use_innerhtml() {\n\t\tif (this.can_use_innerhtml !== false) {\n\t\t\tthis.can_use_innerhtml = false;\n\t\t\tif (this.parent) this.parent.cannot_use_innerhtml();\n\t\t}\n\t}\n\tnot_static_content() {\n\t\tthis.is_static_content = false;\n\t\tif (this.parent) this.parent.not_static_content();\n\t}\n\n\t/** @param {RegExp} selector */\n\tfind_nearest(selector) {\n\t\tif (selector.test(this.type)) return this;\n\t\tif (this.parent) return this.parent.find_nearest(selector);\n\t}\n\n\t/** @param {string} name */\n\tget_static_attribute_value(name) {\n\t\tconst attribute = this.attributes.find(\n\t\t\t/** @param {import('../Attribute.js').default} attr */\n\t\t\t(attr) => attr.type === 'Attribute' && attr.name.toLowerCase() === name\n\t\t);\n\t\tif (!attribute) return null;\n\t\tif (attribute.is_true) return true;\n\t\tif (attribute.chunks.length === 0) return '';\n\t\tif (attribute.chunks.length === 1 && attribute.chunks[0].type === 'Text') {\n\t\t\treturn /** @type {import('../Text.js').default} */ (attribute.chunks[0]).data;\n\t\t}\n\t\treturn null;\n\t}\n\n\t/** @param {string} type */\n\thas_ancestor(type) {\n\t\treturn this.parent ? this.parent.type === type || this.parent.has_ancestor(type) : false;\n\t}\n}\n", "/**\n * @internal\n */\nexport default {\n\ttag_option_deprecated: {\n\t\tcode: 'tag-option-deprecated',\n\t\tmessage: \"'tag' option is deprecated — use 'customElement' instead\"\n\t},\n\tunused_export_let: /**\n\t * @param {string} component\n\t * @param {string} property\n\t */ (component, property) => ({\n\t\tcode: 'unused-export-let',\n\t\tmessage: `${component} has unused export property '${property}'. If it is for external reference only, please consider using \\`export const ${property}\\``\n\t}),\n\tmodule_script_reactive_declaration: {\n\t\tcode: 'module-script-reactive-declaration',\n\t\tmessage: '$: has no effect in a module script'\n\t},\n\tnon_top_level_reactive_declaration: {\n\t\tcode: 'non-top-level-reactive-declaration',\n\t\tmessage: '$: has no effect outside of the top-level'\n\t},\n\tmodule_script_variable_reactive_declaration: /** @param {string[]} names */ (names) => ({\n\t\tcode: 'module-script-reactive-declaration',\n\t\tmessage: `${names.map((name) => `\"${name}\"`).join(', ')} ${\n\t\t\tnames.length > 1 ? 'are' : 'is'\n\t\t} declared in a module script and will not be reactive`\n\t}),\n\tmissing_declaration: /**\n\t * @param {string} name\n\t * @param {boolean} has_script\n\t */ (name, has_script) => ({\n\t\tcode: 'missing-declaration',\n\t\tmessage:\n\t\t\t`'${name}' is not defined` +\n\t\t\t(has_script\n\t\t\t\t? ''\n\t\t\t\t: `. Consider adding a <script> block with 'export let ${name}' to declare a prop`)\n\t}),\n\tmissing_custom_element_compile_options: {\n\t\tcode: 'missing-custom-element-compile-options',\n\t\tmessage:\n\t\t\t\"The 'customElement' option is used when generating a custom element. Did you forget the 'customElement: true' compile option?\"\n\t},\n\tcss_unused_selector: /** @param {string} selector */ (selector) => ({\n\t\tcode: 'css-unused-selector',\n\t\tmessage: `Unused CSS selector \"${selector}\"`\n\t}),\n\tempty_block: {\n\t\tcode: 'empty-block',\n\t\tmessage: 'Empty block'\n\t},\n\treactive_component: /** @param {string} name */ (name) => ({\n\t\tcode: 'reactive-component',\n\t\tmessage: `<${name}/> will not be reactive if ${name} changes. Use <svelte:component this={${name}}/> if you want this reactivity.`\n\t}),\n\tcomponent_name_lowercase: /** @param {string} name */ (name) => ({\n\t\tcode: 'component-name-lowercase',\n\t\tmessage: `<${name}> will be treated as an HTML element unless it begins with a capital letter`\n\t}),\n\tavoid_is: {\n\t\tcode: 'avoid-is',\n\t\tmessage: \"The 'is' attribute is not supported cross-browser and should be avoided\"\n\t},\n\tinvalid_html_attribute: /**\n\t * @param {string} name\n\t * @param {string} suggestion\n\t */ (name, suggestion) => ({\n\t\tcode: 'invalid-html-attribute',\n\t\tmessage: `'${name}' is not a valid HTML attribute. Did you mean '${suggestion}'?`\n\t}),\n\ta11y_aria_attributes: /** @param {string} name */ (name) => ({\n\t\tcode: 'a11y-aria-attributes',\n\t\tmessage: `A11y: <${name}> should not have aria-* attributes`\n\t}),\n\ta11y_incorrect_attribute_type: /**\n\t * @param {import('aria-query').ARIAPropertyDefinition} schema\n\t * @param {string} attribute\n\t */ (schema, attribute) => {\n\t\tlet message;\n\t\tswitch (schema.type) {\n\t\t\tcase 'boolean':\n\t\t\t\tmessage = `The value of '${attribute}' must be exactly one of true or false`;\n\t\t\t\tbreak;\n\t\t\tcase 'id':\n\t\t\t\tmessage = `The value of '${attribute}' must be a string that represents a DOM element ID`;\n\t\t\t\tbreak;\n\t\t\tcase 'idlist':\n\t\t\t\tmessage = `The value of '${attribute}' must be a space-separated list of strings that represent DOM element IDs`;\n\t\t\t\tbreak;\n\t\t\tcase 'tristate':\n\t\t\t\tmessage = `The value of '${attribute}' must be exactly one of true, false, or mixed`;\n\t\t\t\tbreak;\n\t\t\tcase 'token':\n\t\t\t\tmessage = `The value of '${attribute}' must be exactly one of ${(schema.values || []).join(\n\t\t\t\t\t', '\n\t\t\t\t)}`;\n\t\t\t\tbreak;\n\t\t\tcase 'tokenlist':\n\t\t\t\tmessage = `The value of '${attribute}' must be a space-separated list of one or more of ${(\n\t\t\t\t\tschema.values || []\n\t\t\t\t).join(', ')}`;\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tmessage = `The value of '${attribute}' must be of type ${schema.type}`;\n\t\t}\n\t\treturn {\n\t\t\tcode: 'a11y-incorrect-aria-attribute-type',\n\t\t\tmessage: `A11y: ${message}`\n\t\t};\n\t},\n\ta11y_unknown_aria_attribute: /**\n\t * @param {string} attribute\n\t * @param {string} [suggestion]\n\t */ (attribute, suggestion) => ({\n\t\tcode: 'a11y-unknown-aria-attribute',\n\t\tmessage:\n\t\t\t`A11y: Unknown aria attribute 'aria-${attribute}'` +\n\t\t\t(suggestion ? ` (did you mean '${suggestion}'?)` : '')\n\t}),\n\ta11y_hidden: /** @param {string} name */ (name) => ({\n\t\tcode: 'a11y-hidden',\n\t\tmessage: `A11y: <${name}> element should not be hidden`\n\t}),\n\ta11y_misplaced_role: /** @param {string} name */ (name) => ({\n\t\tcode: 'a11y-misplaced-role',\n\t\tmessage: `A11y: <${name}> should not have role attribute`\n\t}),\n\ta11y_unknown_role: /**\n\t * @param {string | boolean} role\n\t * @param {string} [suggestion]\n\t */ (role, suggestion) => ({\n\t\tcode: 'a11y-unknown-role',\n\t\tmessage: `A11y: Unknown role '${role}'` + (suggestion ? ` (did you mean '${suggestion}'?)` : '')\n\t}),\n\ta11y_no_abstract_role: /** @param {string | boolean} role */ (role) => ({\n\t\tcode: 'a11y-no-abstract-role',\n\t\tmessage: `A11y: Abstract role '${role}' is forbidden`\n\t}),\n\ta11y_no_redundant_roles: /** @param {string | boolean} role */ (role) => ({\n\t\tcode: 'a11y-no-redundant-roles',\n\t\tmessage: `A11y: Redundant role '${role}'`\n\t}),\n\ta11y_no_static_element_interactions: /**\n\t * @param {string} element\n\t * @param {string[]} handlers\n\t */ (element, handlers) => ({\n\t\tcode: 'a11y-no-static-element-interactions',\n\t\tmessage: `A11y: <${element}> with ${handlers.join(', ')} ${\n\t\t\thandlers.length === 1 ? 'handler' : 'handlers'\n\t\t} must have an ARIA role`\n\t}),\n\ta11y_no_interactive_element_to_noninteractive_role: /**\n\t * @param {string | boolean} role\n\t * @param {string} element\n\t */ (role, element) => ({\n\t\tcode: 'a11y-no-interactive-element-to-noninteractive-role',\n\t\tmessage: `A11y: <${element}> cannot have role '${role}'`\n\t}),\n\ta11y_no_noninteractive_element_interactions: /** @param {string} element */ (element) => ({\n\t\tcode: 'a11y-no-noninteractive-element-interactions',\n\t\tmessage: `A11y: Non-interactive element <${element}> should not be assigned mouse or keyboard event listeners.`\n\t}),\n\ta11y_no_noninteractive_element_to_interactive_role: /**\n\t * @param {string | boolean} role\n\t * @param {string} element\n\t */ (role, element) => ({\n\t\tcode: 'a11y-no-noninteractive-element-to-interactive-role',\n\t\tmessage: `A11y: Non-interactive element <${element}> cannot have interactive role '${role}'`\n\t}),\n\ta11y_role_has_required_aria_props: /**\n\t * @param {string} role\n\t * @param {string[]} props\n\t */ (role, props) => ({\n\t\tcode: 'a11y-role-has-required-aria-props',\n\t\tmessage: `A11y: Elements with the ARIA role \"${role}\" must have the following attributes defined: ${props\n\t\t\t.map((name) => `\"${name}\"`)\n\t\t\t.join(', ')}`\n\t}),\n\ta11y_role_supports_aria_props: /**\n\t * @param {string} attribute\n\t * @param {string} role\n\t * @param {boolean} is_implicit\n\t * @param {string} name\n\t */ (attribute, role, is_implicit, name) => {\n\t\tlet message = `The attribute '${attribute}' is not supported by the role '${role}'.`;\n\t\tif (is_implicit) {\n\t\t\tmessage += ` This role is implicit on the element <${name}>.`;\n\t\t}\n\t\treturn {\n\t\t\tcode: 'a11y-role-supports-aria-props',\n\t\t\tmessage: `A11y: ${message}`\n\t\t};\n\t},\n\ta11y_accesskey: {\n\t\tcode: 'a11y-accesskey',\n\t\tmessage: 'A11y: Avoid using accesskey'\n\t},\n\ta11y_autofocus: {\n\t\tcode: 'a11y-autofocus',\n\t\tmessage: 'A11y: Avoid using autofocus'\n\t},\n\ta11y_misplaced_scope: {\n\t\tcode: 'a11y-misplaced-scope',\n\t\tmessage: 'A11y: The scope attribute should only be used with <th> elements'\n\t},\n\ta11y_positive_tabindex: {\n\t\tcode: 'a11y-positive-tabindex',\n\t\tmessage: 'A11y: avoid tabindex values above zero'\n\t},\n\ta11y_invalid_attribute: /**\n\t * @param {string} href_attribute\n\t * @param {string} href_value\n\t */ (href_attribute, href_value) => ({\n\t\tcode: 'a11y-invalid-attribute',\n\t\tmessage: `A11y: '${href_value}' is not a valid ${href_attribute} attribute`\n\t}),\n\ta11y_missing_attribute: /**\n\t * @param {string} name\n\t * @param {string} article\n\t * @param {string} sequence\n\t */ (name, article, sequence) => ({\n\t\tcode: 'a11y-missing-attribute',\n\t\tmessage: `A11y: <${name}> element should have ${article} ${sequence} attribute`\n\t}),\n\ta11y_autocomplete_valid: /**\n\t * @param {null | true | string} type\n\t * @param {null | true | string} value\n\t */ (type, value) => ({\n\t\tcode: 'a11y-autocomplete-valid',\n\t\tmessage: `A11y: The value '${value}' is not supported by the attribute 'autocomplete' on element <input type=\"${\n\t\t\ttype || '...'\n\t\t}\">`\n\t}),\n\ta11y_img_redundant_alt: {\n\t\tcode: 'a11y-img-redundant-alt',\n\t\tmessage: 'A11y: Screenreaders already announce <img> elements as an image.'\n\t},\n\ta11y_interactive_supports_focus: /** @param {string} role */ (role) => ({\n\t\tcode: 'a11y-interactive-supports-focus',\n\t\tmessage: `A11y: Elements with the '${role}' interactive role must have a tabindex value.`\n\t}),\n\ta11y_label_has_associated_control: {\n\t\tcode: 'a11y-label-has-associated-control',\n\t\tmessage: 'A11y: A form label must be associated with a control.'\n\t},\n\ta11y_media_has_caption: {\n\t\tcode: 'a11y-media-has-caption',\n\t\tmessage: 'A11y: <video> elements must have a <track kind=\"captions\">'\n\t},\n\ta11y_distracting_elements: /** @param {string} name */ (name) => ({\n\t\tcode: 'a11y-distracting-elements',\n\t\tmessage: `A11y: Avoid <${name}> elements`\n\t}),\n\ta11y_structure_immediate: {\n\t\tcode: 'a11y-structure',\n\t\tmessage: 'A11y: <figcaption> must be an immediate child of <figure>'\n\t},\n\ta11y_structure_first_or_last: {\n\t\tcode: 'a11y-structure',\n\t\tmessage: 'A11y: <figcaption> must be first or last child of <figure>'\n\t},\n\ta11y_mouse_events_have_key_events: /**\n\t * @param {string} event\n\t * @param {string} accompanied_by\n\t */ (event, accompanied_by) => ({\n\t\tcode: 'a11y-mouse-events-have-key-events',\n\t\tmessage: `A11y: on:${event} must be accompanied by on:${accompanied_by}`\n\t}),\n\ta11y_click_events_have_key_events: {\n\t\tcode: 'a11y-click-events-have-key-events',\n\t\tmessage:\n\t\t\t'A11y: visible, non-interactive elements with an on:click event must be accompanied by a keyboard event handler. Consider whether an interactive element such as <button type=\"button\"> or <a> might be more appropriate. See https://svelte.dev/docs/accessibility-warnings#a11y-click-events-have-key-events for more details.'\n\t},\n\ta11y_missing_content: /** @param {string} name */ (name) => ({\n\t\tcode: 'a11y-missing-content',\n\t\tmessage: `A11y: <${name}> element should have child content`\n\t}),\n\ta11y_no_noninteractive_tabindex: {\n\t\tcode: 'a11y-no-noninteractive-tabindex',\n\t\tmessage: 'A11y: noninteractive element cannot have nonnegative tabIndex value'\n\t},\n\ta11y_aria_activedescendant_has_tabindex: {\n\t\tcode: 'a11y-aria-activedescendant-has-tabindex',\n\t\tmessage: 'A11y: Elements with attribute aria-activedescendant should have tabindex value'\n\t},\n\tredundant_event_modifier_for_touch: {\n\t\tcode: 'redundant-event-modifier',\n\t\tmessage: \"Touch event handlers that don't use the 'event' object are passive by default\"\n\t},\n\tredundant_event_modifier_passive: {\n\t\tcode: 'redundant-event-modifier',\n\t\tmessage: 'The passive modifier only works with wheel and touch events'\n\t},\n\tinvalid_rest_eachblock_binding: /** @param {string} rest_element_name */ (rest_element_name) => ({\n\t\tcode: 'invalid-rest-eachblock-binding',\n\t\tmessage: `The rest operator (...) will create a new object and binding '${rest_element_name}' with the original object will not work`\n\t}),\n\tavoid_mouse_events_on_document: {\n\t\tcode: 'avoid-mouse-events-on-document',\n\t\tmessage:\n\t\t\t'Mouse enter/leave events on the document are not supported in all browsers and should be avoided'\n\t},\n\tillegal_attribute_character: {\n\t\tcode: 'illegal-attribute-character',\n\t\tmessage:\n\t\t\t\"Attributes should not contain ':' characters to prevent ambiguity with Svelte directives\"\n\t}\n};\n", "import Node from './Node.js';\nimport compiler_warnings from '../../compiler_warnings.js';\n\nconst regex_non_whitespace_characters = /[^ \\r\\n\\f\\v\\t]/;\n\n/**\n * @template {string} Type\n * @extends Node<Type>\n */\nexport default class AbstractBlock extends Node {\n\t/** @type {import('../../render_dom/Block.js').default} */\n\tblock;\n\n\t/** @type {import('../interfaces.js').INode[]} */\n\tchildren;\n\n\t/**\n\t * @param {import('../../Component.js').default} component\n\t * @param {any} parent\n\t * @param {any} scope\n\t * @param {any} info\n\t */\n\tconstructor(component, parent, scope, info) {\n\t\tsuper(component, parent, scope, info);\n\t}\n\twarn_if_empty_block() {\n\t\tif (!this.children || this.children.length > 1) return;\n\t\tconst child = this.children[0];\n\t\tif (!child || (child.type === 'Text' && !regex_non_whitespace_characters.test(child.data))) {\n\t\t\tthis.component.warn(this, compiler_warnings.empty_block);\n\t\t}\n\t}\n}\n", "/**\n * @param {import('estree').Node} node\n */\nexport default function flatten_reference(node) {\n\t/** @type {any[]} */\n\tconst nodes = [];\n\t/** @type {string[]} */\n\tconst parts = [];\n\n\twhile (node.type === 'MemberExpression') {\n\t\tnodes.unshift(node.property);\n\n\t\tif (!node.computed) {\n\t\t\tparts.unshift(/** @type {import('estree').Identifier} */ (node.property).name);\n\t\t} else {\n\t\t\tconst computed_property = to_string(node.property);\n\t\t\tif (computed_property) {\n\t\t\t\tparts.unshift(`[${computed_property}]`);\n\t\t\t}\n\t\t}\n\t\tnode = node.object;\n\t}\n\n\tconst name =\n\t\tnode.type === 'Identifier' ? node.name : node.type === 'ThisExpression' ? 'this' : null;\n\n\tnodes.unshift(node);\n\n\tparts.unshift(name);\n\n\treturn { name, nodes, parts };\n}\n\n/**\n * @param {import('estree').Node} node\n */\nfunction to_string(node) {\n\tswitch (node.type) {\n\t\tcase 'Literal':\n\t\t\treturn String(node.value);\n\t\tcase 'Identifier':\n\t\t\treturn node.name;\n\t}\n}\n", "import { analyze, Scope, extract_names, extract_identifiers } from 'periscopic';\n\n/**\n * @param {import('estree').Node} expression\n */\nexport function create_scopes(expression) {\n\treturn analyze(expression);\n}\n\nexport { Scope, extract_names, extract_identifiers };\n", "/**\n * @param {import('estree').Node} node\n */\nexport default function get_object(node) {\n\twhile (node.type === 'MemberExpression') node = node.object;\n\treturn /** @type {import('estree').Identifier} */ (node);\n}\n", "export const reserved_keywords = new Set(['$$props', '$$restProps', '$$slots']);\n\n/** @param {string} name */\nexport function is_reserved_keyword(name) {\n\treturn reserved_keywords.has(name);\n}\n", "import { is_reserved_keyword } from '../../../utils/reserved_keywords.js';\n\n/** @param {import('../../../../interfaces.js').Var} variable */\nexport default function is_dynamic(variable) {\n\tif (variable) {\n\t\t// Only variables declared in the instance script tags should be considered dynamic\n\t\tconst is_declared_in_reactive_context = !variable.module && !variable.global;\n\n\t\tif (is_declared_in_reactive_context && (variable.mutated || variable.reassigned)) return true; // dynamic internal state\n\t\tif (is_declared_in_reactive_context && variable.writable && variable.export_name) return true; // writable props\n\t\tif (is_reserved_keyword(variable.name)) return true;\n\t}\n\treturn false;\n}\n", "export function nodes_match(a, b, ignoreKeys = []) {\n\tif (!!a !== !!b) return false;\n\tif (Array.isArray(a) !== Array.isArray(b)) return false;\n\n\tif (a && typeof a === 'object') {\n\t\tif (Array.isArray(a)) {\n\t\t\tif (a.length !== b.length) return false;\n\t\t\treturn a.every((child, i) => nodes_match(child, b[i]));\n\t\t}\n\n\t\tconst a_keys = Object.keys(a)\n\t\t\t.sort()\n\t\t\t.filter((key) => !ignoreKeys.includes(key));\n\t\tconst b_keys = Object.keys(b)\n\t\t\t.sort()\n\t\t\t.filter((key) => !ignoreKeys.includes(key));\n\n\t\tif (a_keys.length !== b_keys.length) return false;\n\n\t\tlet i = a_keys.length;\n\t\twhile (i--) {\n\t\t\tconst key = a_keys[i];\n\t\t\tif (b_keys[i] !== key) return false;\n\n\t\t\tif (key === 'start' || key === 'end') continue;\n\n\t\t\tif (!nodes_match(a[key], b[key])) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\n\t\treturn true;\n\t}\n\n\treturn a === b;\n}\n", "import { nodes_match } from '../../utils/nodes_match.js';\nimport { x } from 'code-red';\n\n/**\n * @param {import('./Renderer.js').default} renderer\n * @param {import('periscopic').Scope} scope\n * @param {import('estree').Node} node\n * @param {Set<string>} names\n * @param {boolean} main_execution_context\n * @returns {any}\n */\nexport function invalidate(renderer, scope, node, names, main_execution_context = false) {\n\tconst { component } = renderer;\n\tconst [head, ...tail] = /** @type {import('../../interfaces.js').Var[]} */ (\n\t\tArray.from(names)\n\t\t\t.filter((name) => {\n\t\t\t\tconst owner = scope.find_owner(name);\n\t\t\t\treturn !owner || owner === component.instance_scope;\n\t\t\t})\n\t\t\t.map((name) => component.var_lookup.get(name))\n\t\t\t.filter((variable) => {\n\t\t\t\treturn (\n\t\t\t\t\tvariable &&\n\t\t\t\t\t!variable.hoistable &&\n\t\t\t\t\t!variable.global &&\n\t\t\t\t\t!variable.module &&\n\t\t\t\t\t(variable.referenced ||\n\t\t\t\t\t\tvariable.subscribable ||\n\t\t\t\t\t\tvariable.is_reactive_dependency ||\n\t\t\t\t\t\tvariable.export_name ||\n\t\t\t\t\t\tvariable.name[0] === '$')\n\t\t\t\t);\n\t\t\t})\n\t);\n\n\t/**\n\t * @param {import('../../interfaces.js').Var} variable\n\t * @param {import('estree').Expression} [node]\n\t */\n\tfunction get_invalidated(variable, node) {\n\t\tif (main_execution_context && !variable.subscribable && variable.name[0] !== '$') {\n\t\t\treturn node;\n\t\t}\n\t\treturn renderer_invalidate(renderer, variable.name, undefined, main_execution_context);\n\t}\n\tif (!head) {\n\t\treturn node;\n\t}\n\tcomponent.has_reactive_assignments = true;\n\tif (\n\t\tnode.type === 'AssignmentExpression' &&\n\t\tnode.operator === '=' &&\n\t\tnodes_match(node.left, node.right, ['trailingComments', 'leadingComments']) &&\n\t\ttail.length === 0\n\t) {\n\t\treturn get_invalidated(head, node);\n\t}\n\tconst is_store_value = head.name[0] === '$' && head.name[1] !== '$';\n\tconst extra_args = tail.map((variable) => get_invalidated(variable)).filter(Boolean);\n\tif (is_store_value) {\n\t\treturn x`@set_store_value(${head.name.slice(1)}, ${node}, ${head.name}, ${extra_args})`;\n\t}\n\n\tlet invalidate;\n\tif (!main_execution_context) {\n\t\tconst pass_value =\n\t\t\textra_args.length > 0 ||\n\t\t\t(node.type === 'AssignmentExpression' && node.left.type !== 'Identifier') ||\n\t\t\t(node.type === 'UpdateExpression' && (!node.prefix || node.argument.type !== 'Identifier'));\n\t\tif (pass_value) {\n\t\t\textra_args.unshift({\n\t\t\t\ttype: 'Identifier',\n\t\t\t\tname: head.name\n\t\t\t});\n\t\t}\n\t\tinvalidate = x`$$invalidate(${\n\t\t\trenderer.context_lookup.get(head.name).index\n\t\t}, ${node}, ${extra_args})`;\n\t} else {\n\t\t// skip `$$invalidate` if it is in the main execution context\n\t\tinvalidate = extra_args.length ? [node, ...extra_args] : node;\n\t}\n\tif (head.subscribable && head.reassigned) {\n\t\tconst subscribe = `$$subscribe_${head.name}`;\n\t\tinvalidate = x`${subscribe}(${invalidate})`;\n\t}\n\treturn invalidate;\n}\n\n/**\n * @param {import('./Renderer.js').default} renderer\n * @param {string} name\n * @param {any} [value]\n * @param {boolean} [main_execution_context]\n * @returns {import('estree').Node}\n */\nexport function renderer_invalidate(renderer, name, value, main_execution_context = false) {\n\tconst variable = renderer.component.var_lookup.get(name);\n\tif (variable && variable.subscribable && (variable.reassigned || variable.export_name)) {\n\t\tif (main_execution_context) {\n\t\t\treturn x`${`$$subscribe_${name}`}(${value || name})`;\n\t\t} else {\n\t\t\tconst member = renderer.context_lookup.get(name);\n\t\t\treturn x`${`$$subscribe_${name}`}($$invalidate(${member.index}, ${value || name}))`;\n\t\t}\n\t}\n\tif (name[0] === '$' && name[1] !== '$') {\n\t\treturn x`${name.slice(1)}.set(${value || name})`;\n\t}\n\tif (\n\t\tvariable &&\n\t\t(variable.module ||\n\t\t\t(!variable.referenced &&\n\t\t\t\t!variable.is_reactive_dependency &&\n\t\t\t\t!variable.export_name &&\n\t\t\t\t!name.startsWith('$$')))\n\t) {\n\t\treturn value || name;\n\t}\n\tif (value) {\n\t\tif (main_execution_context) {\n\t\t\treturn x`${value}`;\n\t\t} else {\n\t\t\tconst member = renderer.context_lookup.get(name);\n\t\t\treturn x`$$invalidate(${member.index}, ${value})`;\n\t\t}\n\t}\n\tif (main_execution_context) return;\n\t// if this is a reactive declaration, invalidate dependencies recursively\n\tconst deps = new Set([name]);\n\tdeps.forEach((name) => {\n\t\tconst reactive_declarations = renderer.component.reactive_declarations.filter((x) =>\n\t\t\tx.assignees.has(name)\n\t\t);\n\t\treactive_declarations.forEach((declaration) => {\n\t\t\tdeclaration.dependencies.forEach((name) => {\n\t\t\t\tdeps.add(name);\n\t\t\t});\n\t\t});\n\t});\n\t// TODO ideally globals etc wouldn't be here in the first place\n\tconst filtered = Array.from(deps).filter((n) => renderer.context_lookup.has(n));\n\tif (!filtered.length) return null;\n\treturn filtered\n\t\t.map((n) => x`$$invalidate(${renderer.context_lookup.get(n).index}, ${n})`)\n\t\t.reduce((lhs, rhs) => x`${lhs}, ${rhs}`);\n}\n", "/**\n * @param {import('estree').Node} node\n * @param {import('estree').Node} replacement\n */\nexport default function replace_object(node, replacement) {\n\tif (node.type === 'Identifier') return replacement;\n\n\tconst ancestor = node;\n\tlet parent;\n\twhile (node.type === 'MemberExpression') {\n\t\tparent = node;\n\t\tnode = node.object;\n\t}\n\tparent.object = /** @type {any} */ (replacement);\n\treturn ancestor;\n}\n", "import { is_reserved_keyword } from '../../utils/reserved_keywords.js';\n\n/**\n * @param {import('../../Component.js').default} component\n * @param {import('./TemplateScope.js').default} scope\n * @param {string} name\n */\nexport default function is_contextual(component, scope, name) {\n\tif (is_reserved_keyword(name)) return true;\n\t// if it's a name below root scope, it's contextual\n\tif (!scope.is_top_level(name)) return true;\n\tconst variable = component.var_lookup.get(name);\n\t// hoistables, module declarations, and imports are non-contextual\n\tif (!variable || variable.hoistable) return false;\n\t// assume contextual\n\treturn true;\n}\n", "// adapted from klona v2.0.4 - https://github.com/lukeed/klona\n// (c) Luke Edwards, under MIT License\n\n// The sole modification is to skip function values in objects when cloning, so we don't break tests.\n\nexport function clone(val) {\n\tlet k, out, tmp;\n\n\tif (Array.isArray(val)) {\n\t\tout = Array((k = val.length));\n\t\twhile (k--) out[k] = (tmp = val[k]) && typeof tmp === 'object' ? clone(tmp) : tmp;\n\t\treturn out;\n\t}\n\n\tif (Object.prototype.toString.call(val) === '[object Object]') {\n\t\tout = {}; // null\n\t\tfor (k in val) {\n\t\t\tif (k === '__proto__') {\n\t\t\t\tObject.defineProperty(out, k, {\n\t\t\t\t\tvalue: clone(val[k]),\n\t\t\t\t\tconfigurable: true,\n\t\t\t\t\tenumerable: true,\n\t\t\t\t\twritable: true\n\t\t\t\t});\n\t\t\t} else if (typeof val[k] !== 'function') {\n\t\t\t\t// MODIFICATION: skip functions\n\t\t\t\tout[k] = (tmp = val[k]) && typeof tmp === 'object' ? clone(tmp) : tmp;\n\t\t\t}\n\t\t}\n\t\treturn out;\n\t}\n\n\treturn val;\n}\n", "// All compiler errors should be listed and accessed from here\n/**\n * @internal\n */\nexport default {\n\tinvalid_binding_elements: /**\n\t * @param {string} element\n\t * @param {string} binding\n\t */ (element, binding) => ({\n\t\tcode: 'invalid-binding',\n\t\tmessage: `'${binding}' is not a valid binding on <${element}> elements`\n\t}),\n\tinvalid_binding_element_with: /**\n\t * @param {string} elements\n\t * @param {string} binding\n\t */ (elements, binding) => ({\n\t\tcode: 'invalid-binding',\n\t\tmessage: `'${binding}' binding can only be used with ${elements}`\n\t}),\n\tinvalid_binding_on: /**\n\t * @param {string} binding\n\t * @param {string} element\n\t * @param {string} [post]\n\t */ (binding, element, post) => ({\n\t\tcode: 'invalid-binding',\n\t\tmessage: `'${binding}' is not a valid binding on ${element}` + (post || '')\n\t}),\n\tinvalid_binding_foreign: /** @param {string} binding */ (binding) => ({\n\t\tcode: 'invalid-binding',\n\t\tmessage: `'${binding}' is not a valid binding. Foreign elements only support bind:this`\n\t}),\n\tinvalid_binding_no_checkbox: /**\n\t * @param {string} binding\n\t * @param {boolean} is_radio\n\t */ (binding, is_radio) => ({\n\t\tcode: 'invalid-binding',\n\t\tmessage:\n\t\t\t`'${binding}' binding can only be used with <input type=\"checkbox\">` +\n\t\t\t(is_radio ? ' — for <input type=\"radio\">, use \\'group\\' binding' : '')\n\t}),\n\tinvalid_binding: /** @param {string} binding */ (binding) => ({\n\t\tcode: 'invalid-binding',\n\t\tmessage: `'${binding}' is not a valid binding`\n\t}),\n\tinvalid_binding_window: /** @param {string[]} parts */ (parts) => ({\n\t\tcode: 'invalid-binding',\n\t\tmessage: `Bindings on <svelte:window> must be to top-level properties, e.g. '${\n\t\t\tparts[parts.length - 1]\n\t\t}' rather than '${parts.join('.')}'`\n\t}),\n\tinvalid_binding_let: {\n\t\tcode: 'invalid-binding',\n\t\tmessage: 'Cannot bind to a variable declared with the let: directive'\n\t},\n\tinvalid_binding_await: {\n\t\tcode: 'invalid-binding',\n\t\tmessage: 'Cannot bind to a variable declared with {#await ... then} or {:catch} blocks'\n\t},\n\tinvalid_binding_const: {\n\t\tcode: 'invalid-binding',\n\t\tmessage: 'Cannot bind to a variable declared with {@const ...}'\n\t},\n\tinvalid_binding_writable: {\n\t\tcode: 'invalid-binding',\n\t\tmessage: 'Cannot bind to a variable which is not writable'\n\t},\n\tbinding_undeclared: /** @param {string} name */ (name) => ({\n\t\tcode: 'binding-undeclared',\n\t\tmessage: `${name} is not declared`\n\t}),\n\tinvalid_type: {\n\t\tcode: 'invalid-type',\n\t\tmessage: \"'type' attribute cannot be dynamic if input uses two-way binding\"\n\t},\n\tmissing_type: {\n\t\tcode: 'missing-type',\n\t\tmessage: \"'type' attribute must be specified\"\n\t},\n\tdynamic_multiple_attribute: {\n\t\tcode: 'dynamic-multiple-attribute',\n\t\tmessage: \"'multiple' attribute cannot be dynamic if select uses two-way binding\"\n\t},\n\tmissing_contenteditable_attribute: {\n\t\tcode: 'missing-contenteditable-attribute',\n\t\tmessage:\n\t\t\t\"'contenteditable' attribute is required for textContent, innerHTML and innerText two-way bindings\"\n\t},\n\tdynamic_contenteditable_attribute: {\n\t\tcode: 'dynamic-contenteditable-attribute',\n\t\tmessage: \"'contenteditable' attribute cannot be dynamic if element uses two-way binding\"\n\t},\n\tinvalid_event_modifier_combination: /**\n\t * @param {string} modifier1\n\t * @param {string} modifier2\n\t */ (modifier1, modifier2) => ({\n\t\tcode: 'invalid-event-modifier',\n\t\tmessage: `The '${modifier1}' and '${modifier2}' modifiers cannot be used together`\n\t}),\n\tinvalid_event_modifier_legacy: /** @param {string} modifier */ (modifier) => ({\n\t\tcode: 'invalid-event-modifier',\n\t\tmessage: `The '${modifier}' modifier cannot be used in legacy mode`\n\t}),\n\tinvalid_event_modifier: /** @param {string} valid */ (valid) => ({\n\t\tcode: 'invalid-event-modifier',\n\t\tmessage: `Valid event modifiers are ${valid}`\n\t}),\n\tinvalid_event_modifier_component: {\n\t\tcode: 'invalid-event-modifier',\n\t\tmessage: \"Event modifiers other than 'once' can only be used on DOM elements\"\n\t},\n\ttextarea_duplicate_value: {\n\t\tcode: 'textarea-duplicate-value',\n\t\tmessage:\n\t\t\t'A <textarea> can have either a value attribute or (equivalently) child content, but not both'\n\t},\n\tillegal_attribute: /** @param {string} name */ (name) => ({\n\t\tcode: 'illegal-attribute',\n\t\tmessage: `'${name}' is not a valid attribute name`\n\t}),\n\tinvalid_slot_attribute: {\n\t\tcode: 'invalid-slot-attribute',\n\t\tmessage: 'slot attribute cannot have a dynamic value'\n\t},\n\tduplicate_slot_attribute: /** @param {string} name */ (name) => ({\n\t\tcode: 'duplicate-slot-attribute',\n\t\tmessage: `Duplicate '${name}' slot`\n\t}),\n\tinvalid_slotted_content: {\n\t\tcode: 'invalid-slotted-content',\n\t\tmessage:\n\t\t\t\"Element with a slot='...' attribute must be a child of a component or a descendant of a custom element\"\n\t},\n\tinvalid_attribute_head: {\n\t\tcode: 'invalid-attribute',\n\t\tmessage: '<svelte:head> should not have any attributes or directives'\n\t},\n\tinvalid_action: {\n\t\tcode: 'invalid-action',\n\t\tmessage: 'Actions can only be applied to DOM elements, not components'\n\t},\n\tinvalid_animation: {\n\t\tcode: 'invalid-animation',\n\t\tmessage: 'Animations can only be applied to DOM elements, not components'\n\t},\n\tinvalid_class: {\n\t\tcode: 'invalid-class',\n\t\tmessage: 'Classes can only be applied to DOM elements, not components'\n\t},\n\tinvalid_transition: {\n\t\tcode: 'invalid-transition',\n\t\tmessage: 'Transitions can only be applied to DOM elements, not components'\n\t},\n\tinvalid_let: {\n\t\tcode: 'invalid-let',\n\t\tmessage: 'let directive value must be an identifier or an object/array pattern'\n\t},\n\tinvalid_slot_directive: {\n\t\tcode: 'invalid-slot-directive',\n\t\tmessage: '<slot> cannot have directives'\n\t},\n\tdynamic_slot_name: {\n\t\tcode: 'dynamic-slot-name',\n\t\tmessage: '<slot> name cannot be dynamic'\n\t},\n\tinvalid_slot_name: {\n\t\tcode: 'invalid-slot-name',\n\t\tmessage: 'default is a reserved word — it cannot be used as a slot name'\n\t},\n\tinvalid_slot_attribute_value_missing: {\n\t\tcode: 'invalid-slot-attribute',\n\t\tmessage: 'slot attribute value is missing'\n\t},\n\tinvalid_slotted_content_fragment: {\n\t\tcode: 'invalid-slotted-content',\n\t\tmessage: '<svelte:fragment> must be a child of a component'\n\t},\n\tillegal_attribute_title: {\n\t\tcode: 'illegal-attribute',\n\t\tmessage: '<title> cannot have attributes'\n\t},\n\tillegal_structure_title: {\n\t\tcode: 'illegal-structure',\n\t\tmessage: '<title> can only contain text and {tags}'\n\t},\n\tduplicate_transition: /**\n\t * @param {string} directive\n\t * @param {string} parent_directive\n\t */ (directive, parent_directive) => {\n\t\t/** @param {string} _directive */\n\t\tfunction describe(_directive) {\n\t\t\treturn _directive === 'transition' ? \"a 'transition'\" : `an '${_directive}'`;\n\t\t}\n\t\tconst message =\n\t\t\tdirective === parent_directive\n\t\t\t\t? `An element can only have one '${directive}' directive`\n\t\t\t\t: `An element cannot have both ${describe(parent_directive)} directive and ${describe(\n\t\t\t\t\t\tdirective\n\t\t\t\t  )} directive`;\n\t\treturn {\n\t\t\tcode: 'duplicate-transition',\n\t\t\tmessage\n\t\t};\n\t},\n\tcontextual_store: {\n\t\tcode: 'contextual-store',\n\t\tmessage:\n\t\t\t'Stores must be declared at the top level of the component (this may change in a future version of Svelte)'\n\t},\n\tdefault_export: {\n\t\tcode: 'default-export',\n\t\tmessage: 'A component cannot have a default export'\n\t},\n\tillegal_declaration: {\n\t\tcode: 'illegal-declaration',\n\t\tmessage: 'The $ prefix is reserved, and cannot be used for variable and import names'\n\t},\n\tillegal_subscription: {\n\t\tcode: 'illegal-subscription',\n\t\tmessage: 'Cannot reference store value inside <script context=\"module\">'\n\t},\n\tillegal_global: /** @param {string} name */ (name) => ({\n\t\tcode: 'illegal-global',\n\t\tmessage: `${name} is an illegal variable name`\n\t}),\n\tillegal_variable_declaration: {\n\t\tcode: 'illegal-variable-declaration',\n\t\tmessage: 'Cannot declare same variable name which is imported inside <script context=\"module\">'\n\t},\n\tcyclical_reactive_declaration: /** @param {string[]} cycle */ (cycle) => ({\n\t\tcode: 'cyclical-reactive-declaration',\n\t\tmessage: `Cyclical dependency detected: ${cycle.join(' → ')}`\n\t}),\n\tinvalid_tag_property: {\n\t\tcode: 'invalid-tag-property',\n\t\tmessage: \"tag name must be two or more words joined by the '-' character\"\n\t},\n\tinvalid_customElement_attribute: {\n\t\tcode: 'invalid-customElement-attribute',\n\t\tmessage:\n\t\t\t\"'customElement' must be a string literal defining a valid custom element name or an object of the form \" +\n\t\t\t\"{ tag: string; shadow?: 'open' | 'none'; props?: { [key: string]: { attribute?: string; reflect?: boolean; type: .. } } }\"\n\t},\n\tinvalid_tag_attribute: {\n\t\tcode: 'invalid-tag-attribute',\n\t\tmessage: \"'tag' must be a string literal\"\n\t},\n\tinvalid_shadow_attribute: {\n\t\tcode: 'invalid-shadow-attribute',\n\t\tmessage: \"'shadow' must be either 'open' or 'none'\"\n\t},\n\tinvalid_props_attribute: {\n\t\tcode: 'invalid-props-attribute',\n\t\tmessage:\n\t\t\t\"'props' must be a statically analyzable object literal of the form \" +\n\t\t\t\"'{ [key: string]: { attribute?: string; reflect?: boolean; type?: 'String' | 'Boolean' | 'Number' | 'Array' | 'Object' }'\"\n\t},\n\tinvalid_namespace_property: /**\n\t * @param {string} namespace\n\t * @param {string} [suggestion]\n\t */ (namespace, suggestion) => ({\n\t\tcode: 'invalid-namespace-property',\n\t\tmessage:\n\t\t\t`Invalid namespace '${namespace}'` + (suggestion ? ` (did you mean '${suggestion}'?)` : '')\n\t}),\n\tinvalid_namespace_attribute: {\n\t\tcode: 'invalid-namespace-attribute',\n\t\tmessage: \"The 'namespace' attribute must be a string literal representing a valid namespace\"\n\t},\n\tinvalid_attribute_value: /** @param {string} name */ (name) => ({\n\t\tcode: `invalid-${name}-value`,\n\t\tmessage: `${name} attribute must be true or false`\n\t}),\n\tinvalid_options_attribute_unknown: /** @param {string} name */ (name) => ({\n\t\tcode: 'invalid-options-attribute',\n\t\tmessage: `<svelte:options> unknown attribute '${name}'`\n\t}),\n\tinvalid_options_attribute: {\n\t\tcode: 'invalid-options-attribute',\n\t\tmessage:\n\t\t\t\"<svelte:options> can only have static 'tag', 'namespace', 'accessors', 'immutable' and 'preserveWhitespace' attributes\"\n\t},\n\tcss_invalid_global: {\n\t\tcode: 'css-invalid-global',\n\t\tmessage: ':global(...) can be at the start or end of a selector sequence, but not in the middle'\n\t},\n\tcss_invalid_global_selector: {\n\t\tcode: 'css-invalid-global-selector',\n\t\tmessage: ':global(...) must contain a single selector'\n\t},\n\tcss_invalid_global_selector_position: {\n\t\tcode: 'css-invalid-global-selector-position',\n\t\tmessage:\n\t\t\t':global(...) not at the start of a selector sequence should not contain type or universal selectors'\n\t},\n\tcss_invalid_selector: /** @param {string} selector */ (selector) => ({\n\t\tcode: 'css-invalid-selector',\n\t\tmessage: `Invalid selector \"${selector}\"`\n\t}),\n\tduplicate_animation: {\n\t\tcode: 'duplicate-animation',\n\t\tmessage: \"An element can only have one 'animate' directive\"\n\t},\n\tinvalid_animation_immediate: {\n\t\tcode: 'invalid-animation',\n\t\tmessage:\n\t\t\t'An element that uses the animate directive must be the immediate child of a keyed each block'\n\t},\n\tinvalid_animation_key: {\n\t\tcode: 'invalid-animation',\n\t\tmessage:\n\t\t\t'An element that uses the animate directive must be used inside a keyed each block. Did you forget to add a key to your each block?'\n\t},\n\tinvalid_animation_sole: {\n\t\tcode: 'invalid-animation',\n\t\tmessage:\n\t\t\t'An element that uses the animate directive must be the sole child of a keyed each block'\n\t},\n\tinvalid_animation_dynamic_element: {\n\t\tcode: 'invalid-animation',\n\t\tmessage: '<svelte:element> cannot have a animate directive'\n\t},\n\tinvalid_directive_value: {\n\t\tcode: 'invalid-directive-value',\n\t\tmessage:\n\t\t\t'Can only bind to an identifier (e.g. `foo`) or a member expression (e.g. `foo.bar` or `foo[baz]`)'\n\t},\n\tinvalid_const_placement: {\n\t\tcode: 'invalid-const-placement',\n\t\tmessage:\n\t\t\t'{@const} must be the immediate child of {#if}, {:else if}, {:else}, {#each}, {:then}, {:catch}, <svelte:fragment> or <Component>'\n\t},\n\tinvalid_const_declaration: /** @param {string} name */ (name) => ({\n\t\tcode: 'invalid-const-declaration',\n\t\tmessage: `'${name}' has already been declared`\n\t}),\n\tinvalid_const_update: /** @param {string} name */ (name) => ({\n\t\tcode: 'invalid-const-update',\n\t\tmessage: `'${name}' is declared using {@const ...} and is read-only`\n\t}),\n\tcyclical_const_tags: /** @param {string[]} cycle */ (cycle) => ({\n\t\tcode: 'cyclical-const-tags',\n\t\tmessage: `Cyclical dependency detected: ${cycle.join(' → ')}`\n\t}),\n\tinvalid_component_style_directive: {\n\t\tcode: 'invalid-component-style-directive',\n\t\tmessage: 'Style directives cannot be used on components'\n\t},\n\tinvalid_var_declaration: {\n\t\tcode: 'invalid_var_declaration',\n\t\tmessage: '\"var\" scope should not extend outside the reactive block'\n\t},\n\tinvalid_style_directive_modifier: /** @param {string} valid */ (valid) => ({\n\t\tcode: 'invalid-style-directive-modifier',\n\t\tmessage: `Valid modifiers for style directives are: ${valid}`\n\t})\n};\n", "import { walk } from 'estree-walker';\nimport is_reference from 'is-reference';\nimport flatten_reference from '../../utils/flatten_reference.js';\nimport { create_scopes, extract_names } from '../../utils/scope.js';\nimport { sanitize } from '../../../utils/names.js';\nimport get_object from '../../utils/get_object.js';\nimport is_dynamic from '../../render_dom/wrappers/shared/is_dynamic.js';\nimport { b } from 'code-red';\nimport { invalidate } from '../../render_dom/invalidate.js';\nimport { is_reserved_keyword } from '../../utils/reserved_keywords.js';\nimport replace_object from '../../utils/replace_object.js';\nimport is_contextual from './is_contextual.js';\nimport { clone } from '../../../utils/clone.js';\nimport compiler_errors from '../../compiler_errors.js';\n\nconst regex_contains_term_function_expression = /FunctionExpression/;\n\nexport default class Expression {\n\t/** @type {'Expression'} */\n\ttype = 'Expression';\n\n\t/** @type {import('../../Component.js').default} */\n\tcomponent;\n\n\t/** @type {import('../interfaces.js').INode} */\n\towner;\n\n\t/** @type {import('estree').Node} */\n\tnode;\n\n\t/** @type {Set<string>} */\n\treferences = new Set();\n\n\t/**\n\t * Dependencies declared in the script block\n\t * @type {Set<string>}\n\t */\n\tdependencies = new Set();\n\n\t/**\n\t * Dependencies declared in the HTML-like template section\n\t * @type {Set<string>}\n\t */\n\tcontextual_dependencies = new Set();\n\n\t/** @type {import('./TemplateScope.js').default} */\n\ttemplate_scope;\n\n\t/** @type {import('../../utils/scope.js').Scope} */\n\tscope;\n\n\t/** @type {WeakMap<import('estree').Node, import('../../utils/scope.js').Scope>} */\n\tscope_map;\n\n\t/** @type {Array<import('estree').Node | import('estree').Node[]>} */\n\tdeclarations = [];\n\n\t/** @type {boolean} */\n\tuses_context = false;\n\n\t/** @type {import('estree').Node} */\n\tmanipulated;\n\n\t/**\n\t * @param {import('../../Component.js').default} component  *\n\t * @param {import('../interfaces.js').INode} owner  *\n\t * @param {import('./TemplateScope.js').default} template_scope  *\n\t * @param {import('estree').Node} info  *\n\t * @param {boolean} [lazy]  undefined\n\t */\n\tconstructor(component, owner, template_scope, info, lazy) {\n\t\t// TODO revert to direct property access in prod?\n\t\tObject.defineProperties(this, {\n\t\t\tcomponent: {\n\t\t\t\tvalue: component\n\t\t\t}\n\t\t});\n\t\tthis.node = info;\n\t\tthis.template_scope = template_scope;\n\t\tthis.owner = owner;\n\t\tconst { dependencies, contextual_dependencies, references } = this;\n\t\tlet { map, scope } = create_scopes(info);\n\t\tthis.scope = scope;\n\t\tthis.scope_map = map;\n\t\tconst expression = this;\n\t\tlet function_expression;\n\n\t\t// discover dependencies, but don't change the code yet\n\t\twalk(info, {\n\t\t\t/**\n\t\t\t * @param {any} node\n\t\t\t * @param {import('estree').Node} parent\n\t\t\t * @param {string} key\n\t\t\t */\n\t\t\tenter(node, parent, key) {\n\t\t\t\t// don't manipulate shorthand props twice\n\t\t\t\tif (key === 'key' && /** @type {import('estree').Property} */ (parent).shorthand) return;\n\t\t\t\t// don't manipulate `import.meta`, `new.target`\n\t\t\t\tif (node.type === 'MetaProperty') return this.skip();\n\t\t\t\tif (map.has(node)) {\n\t\t\t\t\tscope = map.get(node);\n\t\t\t\t}\n\t\t\t\tif (!function_expression && regex_contains_term_function_expression.test(node.type)) {\n\t\t\t\t\tfunction_expression = node;\n\t\t\t\t}\n\t\t\t\tif (is_reference(node, parent)) {\n\t\t\t\t\tconst { name, nodes } = flatten_reference(node);\n\t\t\t\t\treferences.add(name);\n\t\t\t\t\tif (scope.has(name)) return;\n\t\t\t\t\tif (name[0] === '$') {\n\t\t\t\t\t\tconst store_name = name.slice(1);\n\t\t\t\t\t\tif (template_scope.names.has(store_name) || scope.has(store_name)) {\n\t\t\t\t\t\t\treturn component.error(node, compiler_errors.contextual_store);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (template_scope.is_let(name)) {\n\t\t\t\t\t\tif (!lazy) {\n\t\t\t\t\t\t\tcontextual_dependencies.add(name);\n\t\t\t\t\t\t\tdependencies.add(name);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if (template_scope.names.has(name)) {\n\t\t\t\t\t\texpression.uses_context = true;\n\t\t\t\t\t\tcontextual_dependencies.add(name);\n\t\t\t\t\t\tconst owner = template_scope.get_owner(name);\n\t\t\t\t\t\tconst is_index = owner.type === 'EachBlock' && owner.key && name === owner.index;\n\t\t\t\t\t\tif (!lazy || is_index) {\n\t\t\t\t\t\t\ttemplate_scope.dependencies_for_name\n\t\t\t\t\t\t\t\t.get(name)\n\t\t\t\t\t\t\t\t.forEach((name) => dependencies.add(name));\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (!lazy) {\n\t\t\t\t\t\t\tconst variable = component.var_lookup.get(name);\n\t\t\t\t\t\t\tif (!variable || !variable.imported || variable.mutated || variable.reassigned) {\n\t\t\t\t\t\t\t\tdependencies.add(name);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tcomponent.add_reference(node, name);\n\t\t\t\t\t\tcomponent.warn_if_undefined(name, nodes[0], template_scope, owner);\n\t\t\t\t\t}\n\t\t\t\t\tthis.skip();\n\t\t\t\t}\n\t\t\t\t// track any assignments from template expressions as mutable\n\t\t\t\tlet names;\n\t\t\t\tlet deep = false;\n\t\t\t\tif (function_expression) {\n\t\t\t\t\tif (node.type === 'AssignmentExpression') {\n\t\t\t\t\t\tdeep = node.left.type === 'MemberExpression';\n\t\t\t\t\t\tnames = extract_names(deep ? get_object(node.left) : node.left);\n\t\t\t\t\t} else if (node.type === 'UpdateExpression') {\n\t\t\t\t\t\tdeep = node.argument.type === 'MemberExpression';\n\t\t\t\t\t\tnames = extract_names(get_object(node.argument));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (names) {\n\t\t\t\t\tnames.forEach((name) => {\n\t\t\t\t\t\tif (template_scope.names.has(name)) {\n\t\t\t\t\t\t\tif (template_scope.is_const(name)) {\n\t\t\t\t\t\t\t\tcomponent.error(node, compiler_errors.invalid_const_update(name));\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\ttemplate_scope.dependencies_for_name.get(name).forEach((name) => {\n\t\t\t\t\t\t\t\tconst variable = component.var_lookup.get(name);\n\t\t\t\t\t\t\t\tif (variable) variable[deep ? 'mutated' : 'reassigned'] = true;\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tconst each_block = template_scope.get_owner(name);\n\t\t\t\t\t\t\t/** @type {import('../EachBlock.js').default} */ (each_block).has_binding = true;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tcomponent.add_reference(node, name);\n\t\t\t\t\t\t\tconst variable = component.var_lookup.get(name);\n\t\t\t\t\t\t\tif (variable) {\n\t\t\t\t\t\t\t\tvariable[deep ? 'mutated' : 'reassigned'] = true;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tconst declaration = scope.find_owner(name)?.declarations.get(name);\n\t\t\t\t\t\t\tif (declaration) {\n\t\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t\t/** @type {import('estree').VariableDeclaration} */ (declaration).kind ===\n\t\t\t\t\t\t\t\t\t\t'const' &&\n\t\t\t\t\t\t\t\t\t!deep\n\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\tcomponent.error(node, {\n\t\t\t\t\t\t\t\t\t\tcode: 'assignment-to-const',\n\t\t\t\t\t\t\t\t\t\tmessage: 'You are assigning to a const'\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else if (variable && variable.writable === false && !deep) {\n\t\t\t\t\t\t\t\tcomponent.error(node, {\n\t\t\t\t\t\t\t\t\tcode: 'assignment-to-const',\n\t\t\t\t\t\t\t\t\tmessage: 'You are assigning to a const'\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t},\n\n\t\t\t/** @type {import('estree-walker').SyncHandler} */\n\t\t\tleave(node) {\n\t\t\t\tif (map.has(node)) {\n\t\t\t\t\tscope = scope.parent;\n\t\t\t\t}\n\t\t\t\tif (node === function_expression) {\n\t\t\t\t\tfunction_expression = null;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\tdynamic_dependencies() {\n\t\treturn Array.from(this.dependencies).filter((name) => {\n\t\t\tif (this.template_scope.is_let(name)) return true;\n\t\t\tif (is_reserved_keyword(name)) return true;\n\t\t\tconst variable = this.component.var_lookup.get(name);\n\t\t\treturn is_dynamic(variable);\n\t\t});\n\t}\n\tdynamic_contextual_dependencies() {\n\t\treturn Array.from(this.contextual_dependencies).filter((name) => {\n\t\t\treturn Array.from(this.template_scope.dependencies_for_name.get(name)).some(\n\t\t\t\t(variable_name) => {\n\t\t\t\t\tconst variable = this.component.var_lookup.get(variable_name);\n\t\t\t\t\treturn is_dynamic(variable);\n\t\t\t\t}\n\t\t\t);\n\t\t});\n\t}\n\t// TODO move this into a render-dom wrapper?\n\n\t/**\n\t * @param {import('../../render_dom/Block.js').default} [block]\n\t * @param {string | void} [ctx]\n\t */\n\tmanipulate(block, ctx) {\n\t\t// TODO ideally we wouldn't end up calling this method\n\t\t// multiple times\n\t\tif (this.manipulated) return this.manipulated;\n\t\tconst { component, declarations, scope_map: map, template_scope, owner } = this;\n\t\tlet scope = this.scope;\n\n\t\t/** @type {import('estree').FunctionExpression | import('estree').ArrowFunctionExpression | null} */\n\t\tlet function_expression;\n\n\t\t/** @type {Set<string>} */\n\t\tlet dependencies;\n\n\t\t/** @type {Set<string>} */\n\t\tlet contextual_dependencies;\n\t\tconst node = walk(this.node, {\n\t\t\t/** @type {import('estree-walker').SyncHandler} */\n\t\t\tenter(node, parent) {\n\t\t\t\tif (node.type === 'Property' && node.shorthand) {\n\t\t\t\t\tnode.value = clone(node.value);\n\t\t\t\t\tnode.shorthand = false;\n\t\t\t\t}\n\t\t\t\tif (map.has(node)) {\n\t\t\t\t\tscope = map.get(node);\n\t\t\t\t}\n\t\t\t\tif (node.type === 'Identifier' && is_reference(node, parent)) {\n\t\t\t\t\tconst { name } = flatten_reference(node);\n\t\t\t\t\tif (scope.has(name)) return;\n\t\t\t\t\tif (function_expression) {\n\t\t\t\t\t\tif (template_scope.names.has(name)) {\n\t\t\t\t\t\t\tcontextual_dependencies.add(name);\n\t\t\t\t\t\t\ttemplate_scope.dependencies_for_name.get(name).forEach((dependency) => {\n\t\t\t\t\t\t\t\tdependencies.add(dependency);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tdependencies.add(name);\n\t\t\t\t\t\t\tcomponent.add_reference(node, name); // TODO is this redundant/misplaced?\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if (is_contextual(component, template_scope, name)) {\n\t\t\t\t\t\tconst reference = block.renderer.reference(node, ctx);\n\t\t\t\t\t\tthis.replace(reference);\n\t\t\t\t\t}\n\t\t\t\t\tthis.skip();\n\t\t\t\t}\n\t\t\t\tif (!function_expression) {\n\t\t\t\t\tif (node.type === 'AssignmentExpression') {\n\t\t\t\t\t\t// TODO should this be a warning/error? `<p>{foo = 1}</p>`\n\t\t\t\t\t}\n\t\t\t\t\tif (node.type === 'FunctionExpression' || node.type === 'ArrowFunctionExpression') {\n\t\t\t\t\t\tfunction_expression = node;\n\t\t\t\t\t\tdependencies = new Set();\n\t\t\t\t\t\tcontextual_dependencies = new Set();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\n\t\t\t/** @type {import('estree-walker').SyncHandler} */\n\t\t\tleave(node, parent) {\n\t\t\t\tif (map.has(node)) scope = scope.parent;\n\t\t\t\tif (node === function_expression) {\n\t\t\t\t\tconst id = component.get_unique_name(sanitize(get_function_name(node, owner)));\n\t\t\t\t\tconst declaration = b`const ${id} = ${node}`;\n\t\t\t\t\tconst extract_functions = () => {\n\t\t\t\t\t\tconst deps = Array.from(contextual_dependencies);\n\t\t\t\t\t\tconst function_expression = /** @type {import('estree').FunctionExpression} */ (node);\n\t\t\t\t\t\tconst has_args = function_expression.params.length > 0;\n\t\t\t\t\t\tfunction_expression.params = [\n\t\t\t\t\t\t\t...deps.map(\n\t\t\t\t\t\t\t\t(name) => /** @type {import('estree').Identifier} */ ({ type: 'Identifier', name })\n\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t...function_expression.params\n\t\t\t\t\t\t];\n\t\t\t\t\t\tconst context_args = deps.map((name) => block.renderer.reference(name, ctx));\n\t\t\t\t\t\tcomponent.partly_hoisted.push(declaration);\n\t\t\t\t\t\tblock.renderer.add_to_context(id.name);\n\t\t\t\t\t\tconst callee = block.renderer.reference(id);\n\t\t\t\t\t\tthis.replace(id);\n\t\t\t\t\t\tconst func_declaration = has_args\n\t\t\t\t\t\t\t? b`function ${id}(...args) {\n\t\t\t\t\t\t\t\treturn ${callee}(${context_args}, ...args);\n\t\t\t\t\t\t\t}`\n\t\t\t\t\t\t\t: b`function ${id}() {\n\t\t\t\t\t\t\t\treturn ${callee}(${context_args});\n\t\t\t\t\t\t\t}`;\n\t\t\t\t\t\treturn { deps, func_declaration };\n\t\t\t\t\t};\n\t\t\t\t\tif (owner.type === 'ConstTag') {\n\t\t\t\t\t\t// we need a combo block/init recipe\n\t\t\t\t\t\tif (contextual_dependencies.size === 0) {\n\t\t\t\t\t\t\tlet child_scope = scope;\n\t\t\t\t\t\t\twalk(node, {\n\t\t\t\t\t\t\t\t/** @type {import('estree-walker').SyncHandler} */\n\t\t\t\t\t\t\t\tenter(node, parent) {\n\t\t\t\t\t\t\t\t\tif (map.has(node)) child_scope = map.get(node);\n\t\t\t\t\t\t\t\t\tif (node.type === 'Identifier' && is_reference(node, parent)) {\n\t\t\t\t\t\t\t\t\t\tif (child_scope.has(node.name)) return;\n\t\t\t\t\t\t\t\t\t\tthis.replace(block.renderer.reference(node, ctx));\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t},\n\n\t\t\t\t\t\t\t\t/** @param {import('estree').Node} node */\n\t\t\t\t\t\t\t\tleave(node) {\n\t\t\t\t\t\t\t\t\tif (map.has(node)) child_scope = child_scope.parent;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tconst { func_declaration } = extract_functions();\n\t\t\t\t\t\t\tthis.replace(func_declaration[0]);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if (dependencies.size === 0 && contextual_dependencies.size === 0) {\n\t\t\t\t\t\t// we can hoist this out of the component completely\n\t\t\t\t\t\tcomponent.fully_hoisted.push(declaration);\n\t\t\t\t\t\tthis.replace(id);\n\t\t\t\t\t\tcomponent.add_var(node, {\n\t\t\t\t\t\t\tname: id.name,\n\t\t\t\t\t\t\tinternal: true,\n\t\t\t\t\t\t\thoistable: true,\n\t\t\t\t\t\t\treferenced: true\n\t\t\t\t\t\t});\n\t\t\t\t\t} else if (contextual_dependencies.size === 0) {\n\t\t\t\t\t\t// function can be hoisted inside the component init\n\t\t\t\t\t\tcomponent.partly_hoisted.push(declaration);\n\t\t\t\t\t\tblock.renderer.add_to_context(id.name);\n\t\t\t\t\t\tthis.replace(block.renderer.reference(id));\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// we need a combo block/init recipe\n\t\t\t\t\t\tconst { deps, func_declaration } = extract_functions();\n\t\t\t\t\t\tif (owner.type === 'Attribute' && owner.parent.name === 'slot') {\n\t\t\t\t\t\t\t/** @type {Set<import('../interfaces.js').INode>} */\n\t\t\t\t\t\t\tconst dep_scopes = new Set(deps.map((name) => template_scope.get_owner(name)));\n\t\t\t\t\t\t\t// find the nearest scopes\n\n\t\t\t\t\t\t\t/** @type {import('../interfaces.js').INode} */\n\t\t\t\t\t\t\tlet node = owner.parent;\n\t\t\t\t\t\t\twhile (node && !dep_scopes.has(node)) {\n\t\t\t\t\t\t\t\tnode = node.parent;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tconst func_expression = func_declaration[0];\n\n\t\t\t\t\t\t\tif (node.type === 'SlotTemplate') {\n\t\t\t\t\t\t\t\t// <svelte:fragment let:data />\n\t\t\t\t\t\t\t\tthis.replace(func_expression);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t// {#each}, {#await}\n\t\t\t\t\t\t\t\tconst func_id = component.get_unique_name(id.name + '_func');\n\t\t\t\t\t\t\t\tblock.renderer.add_to_context(func_id.name, true);\n\t\t\t\t\t\t\t\t// rename #ctx -> child_ctx;\n\t\t\t\t\t\t\t\twalk(func_expression, {\n\t\t\t\t\t\t\t\t\t/** @param {import('estree').Node} node */\n\t\t\t\t\t\t\t\t\tenter(node) {\n\t\t\t\t\t\t\t\t\t\tif (node.type === 'Identifier' && node.name === '#ctx') {\n\t\t\t\t\t\t\t\t\t\t\tnode.name = 'child_ctx';\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t// add to get_xxx_context\n\t\t\t\t\t\t\t\t// child_ctx[x] = function () { ... }\n\t\t\t\t\t\t\t\t/** @type {import('../EachBlock.js').default} */ (\n\t\t\t\t\t\t\t\t\ttemplate_scope.get_owner(deps[0])\n\t\t\t\t\t\t\t\t).contexts.push({\n\t\t\t\t\t\t\t\t\ttype: 'DestructuredVariable',\n\t\t\t\t\t\t\t\t\tkey: func_id,\n\t\t\t\t\t\t\t\t\tmodifier: () => func_expression,\n\t\t\t\t\t\t\t\t\tdefault_modifier: (node) => node\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\tthis.replace(block.renderer.reference(func_id));\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tdeclarations.push(func_declaration);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tfunction_expression = null;\n\t\t\t\t\tdependencies = null;\n\t\t\t\t\tcontextual_dependencies = null;\n\t\t\t\t\tif (parent && parent.type === 'Property') {\n\t\t\t\t\t\tparent.method = false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (node.type === 'AssignmentExpression' || node.type === 'UpdateExpression') {\n\t\t\t\t\tconst assignee = node.type === 'AssignmentExpression' ? node.left : node.argument;\n\t\t\t\t\tconst object_name = get_object(assignee).name;\n\t\t\t\t\tif (scope.has(object_name)) return;\n\t\t\t\t\t// normally (`a = 1`, `b.c = 2`), there'll be a single name\n\t\t\t\t\t// (a or b). In destructuring cases (`[d, e] = [e, d]`) there\n\t\t\t\t\t// may be more, in which case we need to tack the extra ones\n\t\t\t\t\t// onto the initial function call\n\t\t\t\t\tconst names = new Set(extract_names(/** @type {import('estree').Node} */ (assignee)));\n\n\t\t\t\t\t/** @type {Set<string>} */\n\t\t\t\t\tconst traced = new Set();\n\t\t\t\t\tnames.forEach((name) => {\n\t\t\t\t\t\tconst dependencies = template_scope.dependencies_for_name.get(name);\n\t\t\t\t\t\tif (dependencies) {\n\t\t\t\t\t\t\tdependencies.forEach((name) => traced.add(name));\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\ttraced.add(name);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\tconst context = block.bindings.get(object_name);\n\t\t\t\t\tif (context) {\n\t\t\t\t\t\t// for `{#each array as item}`\n\t\t\t\t\t\t// replace `item = 1` to `each_array[each_index] = 1`, this allow us to mutate the array\n\t\t\t\t\t\t// rather than mutating the local `item` variable\n\t\t\t\t\t\tconst { snippet, object, property } = context;\n\n\t\t\t\t\t\t/** @type {any} */\n\t\t\t\t\t\tconst replaced = replace_object(assignee, snippet);\n\t\t\t\t\t\tif (node.type === 'AssignmentExpression') {\n\t\t\t\t\t\t\tnode.left = replaced;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tnode.argument = replaced;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tcontextual_dependencies.add(object.name);\n\t\t\t\t\t\tcontextual_dependencies.add(property.name);\n\t\t\t\t\t}\n\t\t\t\t\tthis.replace(invalidate(block.renderer, scope, node, traced));\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tif (declarations.length > 0) {\n\t\t\tblock.maintain_context = true;\n\t\t\tdeclarations.forEach((declaration) => {\n\t\t\t\tblock.chunks.init.push(declaration);\n\t\t\t});\n\t\t}\n\t\treturn (this.manipulated = /** @type {import('estree').Node} */ (node));\n\t}\n}\n\n/**\n * @param {import('estree').Node} _node\n * @param {import('../interfaces.js').INode} parent\n */\nfunction get_function_name(_node, parent) {\n\tif (parent.type === 'EventHandler') {\n\t\treturn `${parent.name}_handler`;\n\t}\n\tif (parent.type === 'Action') {\n\t\treturn `${parent.name}_function`;\n\t}\n\treturn 'func';\n}\n", "import { x } from 'code-red';\nimport { walk } from 'estree-walker';\nimport is_reference from 'is-reference';\nimport { clone } from '../../../utils/clone.js';\nimport flatten_reference from '../../utils/flatten_reference.js';\n/**\n * @param {{\n * \tcontexts: Context[];\n * \tnode: import('estree').Pattern;\n * \tmodifier?: DestructuredVariable['modifier'];\n * \tdefault_modifier?: DestructuredVariable['default_modifier'];\n * \tscope: import('./TemplateScope.js').default;\n * \tcomponent: import('../../Component.js').default;\n * \tcontext_rest_properties: Map<string, import('estree').Node>;\n * \tin_rest_element?: boolean;\n * }} params\n */\nexport function unpack_destructuring({\n\tcontexts,\n\tnode,\n\tmodifier = (node) => node,\n\tdefault_modifier = (node) => node,\n\tscope,\n\tcomponent,\n\tcontext_rest_properties,\n\tin_rest_element = false\n}) {\n\tif (!node) return;\n\tif (node.type === 'Identifier') {\n\t\tcontexts.push({\n\t\t\ttype: 'DestructuredVariable',\n\t\t\tkey: /** @type {import('estree').Identifier} */ (node),\n\t\t\tmodifier,\n\t\t\tdefault_modifier\n\t\t});\n\t\tif (in_rest_element) {\n\t\t\tcontext_rest_properties.set(node.name, node);\n\t\t}\n\t\tcomponent.used_names.add(node.name);\n\t} else if (node.type === 'ArrayPattern') {\n\t\tnode.elements.forEach((element, i) => {\n\t\t\tif (!element) {\n\t\t\t\treturn;\n\t\t\t} else if (element.type === 'RestElement') {\n\t\t\t\tunpack_destructuring({\n\t\t\t\t\tcontexts,\n\t\t\t\t\tnode: element.argument,\n\t\t\t\t\tmodifier: (node) =>\n\t\t\t\t\t\t/** @type {import('estree').Node} */ (x`${modifier(node)}.slice(${i})`),\n\t\t\t\t\tdefault_modifier,\n\t\t\t\t\tscope,\n\t\t\t\t\tcomponent,\n\t\t\t\t\tcontext_rest_properties,\n\t\t\t\t\tin_rest_element: true\n\t\t\t\t});\n\t\t\t} else if (element.type === 'AssignmentPattern') {\n\t\t\t\tconst n = contexts.length;\n\t\t\t\tmark_referenced(element.right, scope, component);\n\t\t\t\tunpack_destructuring({\n\t\t\t\t\tcontexts,\n\t\t\t\t\tnode: element.left,\n\t\t\t\t\tmodifier: (node) => x`${modifier(node)}[${i}]`,\n\t\t\t\t\tdefault_modifier: (node, to_ctx) =>\n\t\t\t\t\t\t/** @type {import('estree').Node} */ (\n\t\t\t\t\t\t\tx`${node} !== undefined ? ${node} : ${update_reference(\n\t\t\t\t\t\t\t\tcontexts,\n\t\t\t\t\t\t\t\tn,\n\t\t\t\t\t\t\t\telement.right,\n\t\t\t\t\t\t\t\tto_ctx\n\t\t\t\t\t\t\t)}`\n\t\t\t\t\t\t),\n\t\t\t\t\tscope,\n\t\t\t\t\tcomponent,\n\t\t\t\t\tcontext_rest_properties,\n\t\t\t\t\tin_rest_element\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tunpack_destructuring({\n\t\t\t\t\tcontexts,\n\t\t\t\t\tnode: element,\n\t\t\t\t\tmodifier: (node) => /** @type {import('estree').Node} */ (x`${modifier(node)}[${i}]`),\n\t\t\t\t\tdefault_modifier,\n\t\t\t\t\tscope,\n\t\t\t\t\tcomponent,\n\t\t\t\t\tcontext_rest_properties,\n\t\t\t\t\tin_rest_element\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t} else if (node.type === 'ObjectPattern') {\n\t\tconst used_properties = [];\n\t\tnode.properties.forEach((property) => {\n\t\t\tif (property.type === 'RestElement') {\n\t\t\t\tunpack_destructuring({\n\t\t\t\t\tcontexts,\n\t\t\t\t\tnode: property.argument,\n\t\t\t\t\tmodifier: (node) =>\n\t\t\t\t\t\t/** @type {import('estree').Node} */ (\n\t\t\t\t\t\t\tx`@object_without_properties(${modifier(node)}, [${used_properties}])`\n\t\t\t\t\t\t),\n\t\t\t\t\tdefault_modifier,\n\t\t\t\t\tscope,\n\t\t\t\t\tcomponent,\n\t\t\t\t\tcontext_rest_properties,\n\t\t\t\t\tin_rest_element: true\n\t\t\t\t});\n\t\t\t} else if (property.type === 'Property') {\n\t\t\t\tconst key = property.key;\n\t\t\t\tconst value = property.value;\n\n\t\t\t\t/** @type {(node: import('estree').Node) => import('estree').Node} */\n\t\t\t\tlet new_modifier;\n\t\t\t\tif (property.computed) {\n\t\t\t\t\t// e.g { [computedProperty]: ... }\n\t\t\t\t\tconst property_name = component.get_unique_name('computed_property');\n\t\t\t\t\tcontexts.push({\n\t\t\t\t\t\ttype: 'ComputedProperty',\n\t\t\t\t\t\tproperty_name,\n\t\t\t\t\t\tkey\n\t\t\t\t\t});\n\t\t\t\t\tnew_modifier = (node) => x`${modifier(node)}[${property_name}]`;\n\t\t\t\t\tused_properties.push(x`${property_name}`);\n\t\t\t\t} else if (key.type === 'Identifier') {\n\t\t\t\t\t// e.g. { someProperty: ... }\n\t\t\t\t\tconst property_name = key.name;\n\t\t\t\t\tnew_modifier = (node) => x`${modifier(node)}.${property_name}`;\n\t\t\t\t\tused_properties.push(x`\"${property_name}\"`);\n\t\t\t\t} else if (key.type === 'Literal') {\n\t\t\t\t\t// e.g. { \"property-in-quotes\": ... } or { 14: ... }\n\t\t\t\t\tconst property_name = key.value;\n\t\t\t\t\tnew_modifier = (node) => x`${modifier(node)}[\"${property_name}\"]`;\n\t\t\t\t\tused_properties.push(x`\"${property_name}\"`);\n\t\t\t\t}\n\t\t\t\tif (value.type === 'AssignmentPattern') {\n\t\t\t\t\t// e.g. { property = default } or { property: newName = default }\n\t\t\t\t\tconst n = contexts.length;\n\t\t\t\t\tmark_referenced(value.right, scope, component);\n\t\t\t\t\tunpack_destructuring({\n\t\t\t\t\t\tcontexts,\n\t\t\t\t\t\tnode: value.left,\n\t\t\t\t\t\tmodifier: new_modifier,\n\t\t\t\t\t\tdefault_modifier: (node, to_ctx) =>\n\t\t\t\t\t\t\t/** @type {import('estree').Node} */ (\n\t\t\t\t\t\t\t\tx`${node} !== undefined ? ${node} : ${update_reference(\n\t\t\t\t\t\t\t\t\tcontexts,\n\t\t\t\t\t\t\t\t\tn,\n\t\t\t\t\t\t\t\t\tvalue.right,\n\t\t\t\t\t\t\t\t\tto_ctx\n\t\t\t\t\t\t\t\t)}`\n\t\t\t\t\t\t\t),\n\t\t\t\t\t\tscope,\n\t\t\t\t\t\tcomponent,\n\t\t\t\t\t\tcontext_rest_properties,\n\t\t\t\t\t\tin_rest_element\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\t// e.g. { property } or { property: newName }\n\t\t\t\t\tunpack_destructuring({\n\t\t\t\t\t\tcontexts,\n\t\t\t\t\t\tnode: value,\n\t\t\t\t\t\tmodifier: new_modifier,\n\t\t\t\t\t\tdefault_modifier,\n\t\t\t\t\t\tscope,\n\t\t\t\t\t\tcomponent,\n\t\t\t\t\t\tcontext_rest_properties,\n\t\t\t\t\t\tin_rest_element\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n}\n\n/**\n * @param {Context[]} contexts\n * @param {number} n\n * @param {import('estree').Expression} expression\n * @param {(name: string) => import('estree').Node} to_ctx\n * @returns {import('estree').Node}\n */\nfunction update_reference(contexts, n, expression, to_ctx) {\n\t/** @param {import('estree').Identifier} node */\n\tconst find_from_context = (node) => {\n\t\tfor (let i = n; i < contexts.length; i++) {\n\t\t\tconst cur_context = contexts[i];\n\t\t\tif (cur_context.type !== 'DestructuredVariable') continue;\n\t\t\tconst { key } = cur_context;\n\t\t\tif (node.name === key.name) {\n\t\t\t\tthrow new Error(`Cannot access '${node.name}' before initialization`);\n\t\t\t}\n\t\t}\n\t\treturn to_ctx(node.name);\n\t};\n\tif (expression.type === 'Identifier') {\n\t\treturn find_from_context(expression);\n\t}\n\t// NOTE: avoid unnecessary deep clone?\n\texpression = /** @type {import('estree').Expression} */ (clone(expression));\n\twalk(expression, {\n\t\tenter(node, parent) {\n\t\t\tif (\n\t\t\t\tis_reference(\n\t\t\t\t\t/** @type {import('is-reference').NodeWithPropertyDefinition} */ (node),\n\t\t\t\t\t/** @type {import('is-reference').NodeWithPropertyDefinition} */ (parent)\n\t\t\t\t)\n\t\t\t) {\n\t\t\t\tthis.replace(find_from_context(/** @type {import('estree').Identifier} */ (node)));\n\t\t\t\tthis.skip();\n\t\t\t}\n\t\t}\n\t});\n\treturn expression;\n}\n\n/**\n * @param {import('estree').Node} node\n * @param {import('./TemplateScope.js').default} scope\n * @param {import('../../Component.js').default} component\n */\nfunction mark_referenced(node, scope, component) {\n\twalk(node, {\n\t\tenter(node, parent) {\n\t\t\tif (is_reference(node, parent)) {\n\t\t\t\tconst { name } = flatten_reference(node);\n\t\t\t\tif (!scope.is_let(name) && !scope.names.has(name)) {\n\t\t\t\t\tcomponent.add_reference(node, name);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t});\n}\n\n/** @typedef {DestructuredVariable | ComputedProperty} Context */\n\n/**\n * @typedef {Object} ComputedProperty\n * @property {'ComputedProperty'} type\n * @property {import('estree').Identifier} property_name\n * @property {import('estree').Expression|import('estree').PrivateIdentifier} key\n */\n\n/**\n * @typedef {Object} DestructuredVariable\n * @property {'DestructuredVariable'} type\n * @property {import('estree').Identifier} key\n * @property {string} [name]\n * @property {(node:import('estree').Node)=>import('estree').Node} modifier\n * @property {(node:import('estree').Node,to_ctx:(name:string)=>import('estree').Node)=>import('estree').Node} default_modifier\n */\n", "import Node from './shared/Node.js';\nimport Expression from './shared/Expression.js';\nimport { unpack_destructuring } from './shared/Context.js';\nimport { walk } from 'estree-walker';\nimport { extract_identifiers } from 'periscopic';\nimport is_reference from 'is-reference';\nimport get_object from '../utils/get_object.js';\nimport compiler_errors from '../compiler_errors.js';\n\nconst allowed_parents = new Set([\n\t'EachBlock',\n\t'CatchBlock',\n\t'ThenBlock',\n\t'InlineComponent',\n\t'SlotTemplate',\n\t'IfBlock',\n\t'ElseBlock'\n]);\n\n/** @extends Node<'ConstTag'> */\nexport default class ConstTag extends Node {\n\t/** @type {import('./shared/Expression.js').default} */\n\texpression;\n\n\t/** @type {import('./shared/Context.js').Context[]} */\n\tcontexts = [];\n\n\t/** @type {import('../../interfaces.js').ConstTag} */\n\tnode;\n\n\t/** @type {import('./shared/TemplateScope.js').default} */\n\tscope;\n\n\t/** @type {Map<string, import('estree').Node>} */\n\tcontext_rest_properties = new Map();\n\n\t/** @type {Set<string>} */\n\tassignees = new Set();\n\n\t/** @type {Set<string>} */\n\tdependencies = new Set();\n\n\t/**\n\t * @param {import('../Component.js').default} component\n\t * @param {import('./interfaces.js').INodeAllowConstTag} parent\n\t * @param {import('./shared/TemplateScope.js').default} scope\n\t * @param {import('../../interfaces.js').ConstTag} info\n\t */\n\tconstructor(component, parent, scope, info) {\n\t\tsuper(component, parent, scope, info);\n\t\tif (!allowed_parents.has(parent.type)) {\n\t\t\tcomponent.error(info, compiler_errors.invalid_const_placement);\n\t\t}\n\t\tthis.node = info;\n\t\tthis.scope = scope;\n\t\tconst { assignees, dependencies } = this;\n\t\textract_identifiers(info.expression.left).forEach(({ name }) => {\n\t\t\tassignees.add(name);\n\t\t\tconst owner = this.scope.get_owner(name);\n\t\t\tif (owner === parent) {\n\t\t\t\tcomponent.error(info, compiler_errors.invalid_const_declaration(name));\n\t\t\t}\n\t\t});\n\t\twalk(info.expression.right, {\n\t\t\t/**\n\t\t\t * @type {import('estree-walker').SyncHandler}\n\t\t\t */\n\t\t\tenter(node, parent) {\n\t\t\t\tif (\n\t\t\t\t\tis_reference(\n\t\t\t\t\t\t/** @type {import('is-reference').NodeWithPropertyDefinition} */ (node),\n\t\t\t\t\t\t/** @type {import('is-reference').NodeWithPropertyDefinition} */ (parent)\n\t\t\t\t\t)\n\t\t\t\t) {\n\t\t\t\t\tconst identifier = get_object(node);\n\t\t\t\t\tconst { name } = identifier;\n\t\t\t\t\tdependencies.add(name);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\n\tparse_expression() {\n\t\tunpack_destructuring({\n\t\t\tcontexts: this.contexts,\n\t\t\tnode: this.node.expression.left,\n\t\t\tscope: this.scope,\n\t\t\tcomponent: this.component,\n\t\t\tcontext_rest_properties: this.context_rest_properties\n\t\t});\n\t\tthis.expression = new Expression(this.component, this, this.scope, this.node.expression.right);\n\t\tthis.contexts.forEach((context) => {\n\t\t\tif (context.type !== 'DestructuredVariable') return;\n\t\t\tconst owner = this.scope.get_owner(context.key.name);\n\t\t\tif (owner && owner.type === 'ConstTag' && owner.parent === this.parent) {\n\t\t\t\tthis.component.error(\n\t\t\t\t\tthis.node,\n\t\t\t\t\tcompiler_errors.invalid_const_declaration(context.key.name)\n\t\t\t\t);\n\t\t\t}\n\t\t\tthis.scope.add(context.key.name, this.expression.dependencies, this);\n\t\t});\n\t}\n}\n", "import map_children from './shared/map_children.js';\nimport AbstractBlock from './shared/AbstractBlock.js';\n\n/** @extends AbstractBlock<'PendingBlock'> */\nexport default class PendingBlock extends AbstractBlock {\n\t/**\n\t * @param {import('../Component.js').default} component\n\t * @param {import('./shared/Node.js').default} parent\n\t * @param {import('./shared/TemplateScope.js').default} scope\n\t * @param {import('../../interfaces.js').TemplateNode} info\n\t */\n\tconstructor(component, parent, scope, info) {\n\t\tsuper(component, parent, scope, info);\n\t\tthis.children = map_children(component, parent, scope, info.children);\n\t\tif (!info.skip) {\n\t\t\tthis.warn_if_empty_block();\n\t\t}\n\t}\n}\n", "import AbstractBlock from './shared/AbstractBlock.js';\nimport get_const_tags from './shared/get_const_tags.js';\n\n/** @extends AbstractBlock<'CatchBlock'> */\nexport default class CatchBlock extends AbstractBlock {\n\t/** @type {import('./shared/TemplateScope.js').default} */\n\tscope;\n\n\t/** @type {import('./ConstTag.js').default[]} */\n\tconst_tags;\n\n\t/**\n\t * @param {import('../Component.js').default} component\n\t * @param {import('./AwaitBlock.js').default} parent\n\t * @param {import('./shared/TemplateScope.js').default} scope\n\t * @param {import('../../interfaces.js').TemplateNode} info\n\t */\n\tconstructor(component, parent, scope, info) {\n\t\tsuper(component, parent, scope, info);\n\t\tthis.scope = scope.child();\n\t\tif (parent.catch_node) {\n\t\t\tparent.catch_contexts.forEach((context) => {\n\t\t\t\tif (context.type !== 'DestructuredVariable') return;\n\t\t\t\tthis.scope.add(context.key.name, parent.expression.dependencies, this);\n\t\t\t});\n\t\t}\n\t\t[this.const_tags, this.children] = get_const_tags(info.children, component, this, parent);\n\t\tif (!info.skip) {\n\t\t\tthis.warn_if_empty_block();\n\t\t}\n\t}\n}\n", "import Node from './shared/Node.js';\nimport PendingBlock from './PendingBlock.js';\nimport ThenBlock from './ThenBlock.js';\nimport CatchBlock from './CatchBlock.js';\nimport Expression from './shared/Expression.js';\nimport { unpack_destructuring } from './shared/Context.js';\n\n/** @extends Node<'AwaitBlock'> */\nexport default class AwaitBlock extends Node {\n\t/** @type {import('./shared/Expression.js').default} */\n\texpression;\n\n\t/** @type {import('./shared/Context.js').Context[]} */\n\tthen_contexts;\n\n\t/** @type {import('./shared/Context.js').Context[]} */\n\tcatch_contexts;\n\n\t/** @type {import('estree').Node | null} */\n\tthen_node;\n\n\t/** @type {import('estree').Node | null} */\n\tcatch_node;\n\n\t/** @type {import('./PendingBlock.js').default} */\n\tpending;\n\n\t/** @type {import('./ThenBlock.js').default} */\n\tthen;\n\n\t/** @type {import('./CatchBlock.js').default} */\n\tcatch;\n\n\t/** @type {Map<string, import('estree').Node>} */\n\tcontext_rest_properties = new Map();\n\n\t/**\n\t * @param {import('../Component.js').default} component\n\t * @param {import('./shared/Node.js').default} parent\n\t * @param {import('./shared/TemplateScope.js').default} scope\n\t * @param {import('../../interfaces.js').TemplateNode} info\n\t */\n\tconstructor(component, parent, scope, info) {\n\t\tsuper(component, parent, scope, info);\n\t\tthis.cannot_use_innerhtml();\n\t\tthis.not_static_content();\n\t\tthis.expression = new Expression(component, this, scope, info.expression);\n\t\tthis.then_node = info.value;\n\t\tthis.catch_node = info.error;\n\t\tif (this.then_node) {\n\t\t\tthis.then_contexts = [];\n\t\t\tunpack_destructuring({\n\t\t\t\tcontexts: this.then_contexts,\n\t\t\t\tnode: info.value,\n\t\t\t\tscope,\n\t\t\t\tcomponent,\n\t\t\t\tcontext_rest_properties: this.context_rest_properties\n\t\t\t});\n\t\t}\n\t\tif (this.catch_node) {\n\t\t\tthis.catch_contexts = [];\n\t\t\tunpack_destructuring({\n\t\t\t\tcontexts: this.catch_contexts,\n\t\t\t\tnode: info.error,\n\t\t\t\tscope,\n\t\t\t\tcomponent,\n\t\t\t\tcontext_rest_properties: this.context_rest_properties\n\t\t\t});\n\t\t}\n\t\tthis.pending = new PendingBlock(component, this, scope, info.pending);\n\t\tthis.then = new ThenBlock(component, this, scope, info.then);\n\t\tthis.catch = new CatchBlock(component, this, scope, info.catch);\n\t}\n}\n", "import Node from './shared/Node.js';\nimport Expression from './shared/Expression.js';\nimport { sanitize } from '../../utils/names.js';\n\nconst regex_contains_term_function_expression = /FunctionExpression/;\n\n/** @extends Node<'EventHandler'> */\nexport default class EventHandler extends Node {\n\t/** @type {string} */\n\tname;\n\n\t/** @type {Set<string>} */\n\tmodifiers;\n\n\t/** @type {import('./shared/Expression.js').default} */\n\texpression;\n\n\t/** @type {import('estree').Identifier} */\n\thandler_name;\n\t/** */\n\tuses_context = false;\n\t/** */\n\tcan_make_passive = false;\n\n\t/**\n\t * @param {import('../Component.js').default} component\n\t * @param {import('./shared/Node.js').default} parent\n\t * @param {import('./shared/TemplateScope.js').default} template_scope\n\t * @param {import('../../interfaces.js').TemplateNode} info\n\t */\n\tconstructor(component, parent, template_scope, info) {\n\t\tsuper(component, parent, template_scope, info);\n\t\tthis.name = info.name;\n\t\tthis.modifiers = new Set(info.modifiers);\n\t\tif (info.expression) {\n\t\t\tthis.expression = new Expression(component, this, template_scope, info.expression);\n\t\t\tthis.uses_context = this.expression.uses_context;\n\t\t\tif (\n\t\t\t\tregex_contains_term_function_expression.test(info.expression.type) &&\n\t\t\t\tinfo.expression.params.length === 0\n\t\t\t) {\n\t\t\t\t// TODO make this detection more accurate — if `event.preventDefault` isn't called, and\n\t\t\t\t// `event` is passed to another function, we can make it passive\n\t\t\t\tthis.can_make_passive = true;\n\t\t\t} else if (info.expression.type === 'Identifier') {\n\t\t\t\tlet node = component.node_for_declaration.get(info.expression.name);\n\t\t\t\tif (node) {\n\t\t\t\t\tif (node.type === 'VariableDeclaration') {\n\t\t\t\t\t\t// for `const handleClick = () => {...}`, we want the [arrow] function expression node\n\t\t\t\t\t\tconst declarator = node.declarations.find(\n\t\t\t\t\t\t\t(d) => /** @type {import('estree').Identifier} */ (d.id).name === info.expression.name\n\t\t\t\t\t\t);\n\t\t\t\t\t\tnode = declarator && declarator.init;\n\t\t\t\t\t}\n\t\t\t\t\tif (\n\t\t\t\t\t\tnode &&\n\t\t\t\t\t\t(node.type === 'FunctionExpression' ||\n\t\t\t\t\t\t\tnode.type === 'FunctionDeclaration' ||\n\t\t\t\t\t\t\tnode.type === 'ArrowFunctionExpression') &&\n\t\t\t\t\t\tnode.params.length === 0\n\t\t\t\t\t) {\n\t\t\t\t\t\tthis.can_make_passive = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tthis.handler_name = component.get_unique_name(`${sanitize(this.name)}_handler`);\n\t\t}\n\t}\n\n\t/** @returns {boolean} */\n\tget reassigned() {\n\t\tif (!this.expression) {\n\t\t\treturn false;\n\t\t}\n\t\tconst node = this.expression.node;\n\t\tif (regex_contains_term_function_expression.test(node.type)) {\n\t\t\treturn false;\n\t\t}\n\t\treturn this.expression.dynamic_dependencies().length > 0;\n\t}\n}\n", "import Node from './shared/Node.js';\nimport Expression from './shared/Expression.js';\n\n/** @extends Node<'Action'> */\nexport default class Action extends Node {\n\t/** @type {string} */\n\tname;\n\n\t/** @type {import('./shared/Expression.js').default} */\n\texpression;\n\n\t/** @type {boolean} */\n\tuses_context;\n\n\t/** @type {import('./shared/TemplateScope.js').default} */\n\ttemplate_scope;\n\n\t/**\n\t * @param {import('../Component.js').default} component  *\n\t * @param {import('./shared/Node.js').default} parent  *\n\t * @param {import('./shared/TemplateScope.js').default} scope  *\n\t * @param {import('../../interfaces.js').Directive} info  undefined\n\t */\n\tconstructor(component, parent, scope, info) {\n\t\tsuper(component, parent, scope, info);\n\t\tconst object = info.name.split('.')[0];\n\t\tcomponent.warn_if_undefined(object, info, scope);\n\t\tthis.name = info.name;\n\t\tcomponent.add_reference(/** @type {any} */ (this), object);\n\t\tthis.expression = info.expression\n\t\t\t? new Expression(component, this, scope, info.expression)\n\t\t\t: null;\n\t\tthis.template_scope = scope;\n\t\tthis.uses_context = this.expression && this.expression.uses_context;\n\t}\n}\n", "import Node from './shared/Node.js';\nimport EventHandler from './EventHandler.js';\nimport Action from './Action.js';\n\n/** @extends Node<'Body'> */\nexport default class Body extends Node {\n\t/** @type {import('./EventHandler.js').default[]} */\n\thandlers = [];\n\n\t/** @type {import('./Action.js').default[]} */\n\tactions = [];\n\n\t/**\n\t * @param {import('../Component.js').default} component\n\t * @param {import('./shared/Node.js').default} parent\n\t * @param {import('./shared/TemplateScope.js').default} scope\n\t * @param {import('../../interfaces.js').Element} info\n\t */\n\tconstructor(component, parent, scope, info) {\n\t\tsuper(component, parent, scope, info);\n\t\tinfo.attributes.forEach((node) => {\n\t\t\tif (node.type === 'EventHandler') {\n\t\t\t\tthis.handlers.push(new EventHandler(component, this, scope, node));\n\t\t\t} else if (node.type === 'Action') {\n\t\t\t\tthis.actions.push(new Action(component, this, scope, node));\n\t\t\t} else {\n\t\t\t\t// TODO there shouldn't be anything else here...\n\t\t\t}\n\t\t});\n\t}\n}\n", "import Node from './shared/Node.js';\n\n/** @extends Node<'Comment'> */\nexport default class Comment extends Node {\n\t/** @type {string} */\n\tdata;\n\n\t/** @type {string[]} */\n\tignores;\n\n\t/**\n\t * @param {import('../Component.js').default} component\n\t * @param {import('./shared/Node.js').default} parent\n\t * @param {import('./shared/TemplateScope.js').default} scope\n\t * @param {import('../../interfaces.js').TemplateNode} info\n\t */\n\tconstructor(component, parent, scope, info) {\n\t\tsuper(component, parent, scope, info);\n\t\tthis.data = info.data;\n\t\tthis.ignores = info.ignores;\n\t}\n}\n", "import AbstractBlock from './shared/AbstractBlock.js';\nimport get_const_tags from './shared/get_const_tags.js';\n\n/** @extends AbstractBlock<'ElseBlock'> */\nexport default class ElseBlock extends AbstractBlock {\n\t/** @type {import('./shared/TemplateScope.js').default} */\n\tscope;\n\n\t/** @type {import('./ConstTag.js').default[]} */\n\tconst_tags;\n\n\t/**\n\t * @param {import('../Component.js').default} component\n\t * @param {import('./shared/Node.js').default} parent\n\t * @param {import('./shared/TemplateScope.js').default} scope\n\t * @param {import('../../interfaces.js').TemplateNode} info\n\t */\n\tconstructor(component, parent, scope, info) {\n\t\tsuper(component, parent, scope, info);\n\t\tthis.scope = scope.child();\n\t\t[this.const_tags, this.children] = get_const_tags(info.children, component, this, this);\n\t\tthis.warn_if_empty_block();\n\t}\n}\n", "import ElseBlock from './ElseBlock.js';\nimport Expression from './shared/Expression.js';\nimport AbstractBlock from './shared/AbstractBlock.js';\nimport { unpack_destructuring } from './shared/Context.js';\nimport compiler_errors from '../compiler_errors.js';\nimport get_const_tags from './shared/get_const_tags.js';\n\n/** @extends AbstractBlock<'EachBlock'> */\nexport default class EachBlock extends AbstractBlock {\n\t/** @type {import('./shared/Expression.js').default} */\n\texpression;\n\n\t/** @type {import('estree').Node} */\n\tcontext_node;\n\n\t/** @type {string} */\n\titerations;\n\n\t/** @type {string} */\n\tindex;\n\n\t/** @type {string} */\n\tcontext;\n\n\t/** @type {import('./shared/Expression.js').default} */\n\tkey;\n\n\t/** @type {import('./shared/TemplateScope.js').default} */\n\tscope;\n\n\t/** @type {import('./shared/Context.js').Context[]} */\n\tcontexts;\n\n\t/** @type {import('./ConstTag.js').default[]} */\n\tconst_tags;\n\n\t/** @type {boolean} */\n\thas_animation;\n\t/** */\n\thas_binding = false;\n\t/** */\n\thas_index_binding = false;\n\n\t/** @type {Map<string, import('estree').Node>} */\n\tcontext_rest_properties;\n\n\t/** @type {import('./ElseBlock.js').default} */\n\telse;\n\n\t/**\n\t * @param {import('../Component.js').default} component\n\t * @param {import('estree').Node} parent\n\t * @param {import('./shared/TemplateScope.js').default} scope\n\t * @param {import('../../interfaces.js').TemplateNode} info\n\t */\n\tconstructor(component, parent, scope, info) {\n\t\tsuper(component, parent, scope, info);\n\t\tthis.cannot_use_innerhtml();\n\t\tthis.not_static_content();\n\t\tthis.expression = new Expression(component, this, scope, info.expression);\n\t\tthis.context = info.context.name || 'each'; // TODO this is used to facilitate binding; currently fails with destructuring\n\t\tthis.context_node = info.context;\n\t\tthis.index = info.index;\n\t\tthis.scope = scope.child();\n\t\tthis.context_rest_properties = new Map();\n\t\tthis.contexts = [];\n\t\tunpack_destructuring({\n\t\t\tcontexts: this.contexts,\n\t\t\tnode: info.context,\n\t\t\tscope,\n\t\t\tcomponent,\n\t\t\tcontext_rest_properties: this.context_rest_properties\n\t\t});\n\t\tthis.contexts.forEach((context) => {\n\t\t\tif (context.type !== 'DestructuredVariable') return;\n\t\t\tthis.scope.add(context.key.name, this.expression.dependencies, this);\n\t\t});\n\t\tif (this.index) {\n\t\t\t// index can only change if this is a keyed each block\n\t\t\tconst dependencies = info.key ? this.expression.dependencies : new Set([]);\n\t\t\tthis.scope.add(this.index, dependencies, this);\n\t\t}\n\t\tthis.key = info.key ? new Expression(component, this, this.scope, info.key) : null;\n\t\tthis.has_animation = false;\n\t\t[this.const_tags, this.children] = get_const_tags(info.children, component, this, this);\n\t\tif (this.has_animation) {\n\t\t\tthis.children = this.children.filter(\n\t\t\t\t(child) => !is_empty_node(child) && !is_comment_node(child)\n\t\t\t);\n\t\t\tif (this.children.length !== 1) {\n\t\t\t\tconst child = this.children.find(\n\t\t\t\t\t(child) => !!(/** @type {import('./Element.js').default} */ (child).animation)\n\t\t\t\t);\n\t\t\t\tcomponent.error(\n\t\t\t\t\t/** @type {import('./Element.js').default} */ (child).animation,\n\t\t\t\t\tcompiler_errors.invalid_animation_sole\n\t\t\t\t);\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t\tthis.warn_if_empty_block();\n\t\tthis.else = info.else ? new ElseBlock(component, this, this.scope, info.else) : null;\n\t}\n}\n\n/** @param {import('./interfaces.js').INode} node */\nfunction is_empty_node(node) {\n\treturn node.type === 'Text' && node.data.trim() === '';\n}\n\n/** @param {import('./interfaces.js').INode} node */\nfunction is_comment_node(node) {\n\treturn node.type === 'Comment';\n}\n", "import Node from './shared/Node.js';\nimport get_object from '../utils/get_object.js';\nimport Expression from './shared/Expression.js';\nimport { regex_dimensions, regex_box_size } from '../../utils/patterns.js';\nimport { clone } from '../../utils/clone.js';\nimport compiler_errors from '../compiler_errors.js';\nimport compiler_warnings from '../compiler_warnings.js';\n\n// TODO this should live in a specific binding\nconst read_only_media_attributes = new Set([\n\t'duration',\n\t'buffered',\n\t'seekable',\n\t'played',\n\t'seeking',\n\t'ended',\n\t'videoHeight',\n\t'videoWidth',\n\t'naturalWidth',\n\t'naturalHeight',\n\t'readyState'\n]);\n\n/** @extends Node<'Binding'> */\nexport default class Binding extends Node {\n\t/** @type {string} */\n\tname;\n\n\t/** @type {import('./shared/Expression.js').default} */\n\texpression;\n\n\t/** @type {import('estree').Node} */\n\traw_expression; // TODO exists only for bind:this — is there a more elegant solution?\n\n\t/** @type {boolean} */\n\tis_contextual;\n\n\t/** @type {boolean} */\n\tis_readonly;\n\n\t/**\n\t * @param {import('../Component.js').default} component\n\t * @param {import('./Element.js').default | import('./InlineComponent.js').default | import('./Window.js').default | import('./Document.js').default} parent\n\t * @param {import('./shared/TemplateScope.js').default} scope\n\t * @param {import('../../interfaces.js').TemplateNode} info\n\t */\n\tconstructor(component, parent, scope, info) {\n\t\tsuper(component, parent, scope, info);\n\t\tif (info.expression.type !== 'Identifier' && info.expression.type !== 'MemberExpression') {\n\t\t\tcomponent.error(info, compiler_errors.invalid_directive_value);\n\t\t\treturn;\n\t\t}\n\t\tthis.name = info.name;\n\t\tthis.expression = new Expression(component, this, scope, info.expression);\n\t\tthis.raw_expression = clone(info.expression);\n\t\tconst { name } = get_object(this.expression.node);\n\t\tthis.is_contextual = Array.from(this.expression.references).some((name) =>\n\t\t\tscope.names.has(name)\n\t\t);\n\t\tif (this.is_contextual) this.validate_binding_rest_properties(scope);\n\t\t// make sure we track this as a mutable ref\n\t\tif (scope.is_let(name)) {\n\t\t\tcomponent.error(this, compiler_errors.invalid_binding_let);\n\t\t\treturn;\n\t\t} else if (scope.names.has(name)) {\n\t\t\tif (scope.is_await(name)) {\n\t\t\t\tcomponent.error(this, compiler_errors.invalid_binding_await);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (scope.is_const(name)) {\n\t\t\t\tcomponent.error(this, compiler_errors.invalid_binding_const);\n\t\t\t}\n\t\t\tscope.dependencies_for_name.get(name).forEach((name) => {\n\t\t\t\tconst variable = component.var_lookup.get(name);\n\t\t\t\tif (variable) {\n\t\t\t\t\tvariable.mutated = true;\n\t\t\t\t}\n\t\t\t});\n\t\t} else {\n\t\t\tconst variable = component.var_lookup.get(name);\n\t\t\tif (!variable || variable.global) {\n\t\t\t\tcomponent.error(\n\t\t\t\t\t/** @type {any} */ (this.expression.node),\n\t\t\t\t\tcompiler_errors.binding_undeclared(name)\n\t\t\t\t);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvariable[this.expression.node.type === 'MemberExpression' ? 'mutated' : 'reassigned'] = true;\n\t\t\tif (info.expression.type === 'Identifier' && !variable.writable) {\n\t\t\t\tcomponent.error(\n\t\t\t\t\t/** @type {any} */ (this.expression.node),\n\t\t\t\t\tcompiler_errors.invalid_binding_writable\n\t\t\t\t);\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t\tconst type = parent.get_static_attribute_value('type');\n\t\tthis.is_readonly =\n\t\t\tregex_dimensions.test(this.name) ||\n\t\t\tregex_box_size.test(this.name) ||\n\t\t\t(is_element(parent) &&\n\t\t\t\t((parent.is_media_node() && read_only_media_attributes.has(this.name)) ||\n\t\t\t\t\t(parent.name === 'input' && type === 'file'))) /* TODO others? */;\n\t}\n\tis_readonly_media_attribute() {\n\t\treturn read_only_media_attributes.has(this.name);\n\t}\n\n\t/** @param {import('./shared/TemplateScope.js').default} scope */\n\tvalidate_binding_rest_properties(scope) {\n\t\tthis.expression.references.forEach((name) => {\n\t\t\tconst each_block = scope.get_owner(name);\n\t\t\tif (each_block && each_block.type === 'EachBlock') {\n\t\t\t\tconst rest_node = each_block.context_rest_properties.get(name);\n\t\t\t\tif (rest_node) {\n\t\t\t\t\tthis.component.warn(\n\t\t\t\t\t\t/** @type {any} */ (rest_node),\n\t\t\t\t\t\tcompiler_warnings.invalid_rest_eachblock_binding(name)\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n}\n\n/**\n * @param {import('./shared/Node.js').default} node\n * @returns {node is import('./Element.js').default}\n */\nfunction is_element(node) {\n\treturn !!(/** @type {any} */ (node).is_media_node);\n}\n", "import Node from './shared/Node.js';\nimport Binding from './Binding.js';\nimport EventHandler from './EventHandler.js';\nimport fuzzymatch from '../../utils/fuzzymatch.js';\nimport Action from './Action.js';\nimport list from '../../utils/list.js';\nimport compiler_warnings from '../compiler_warnings.js';\nimport compiler_errors from '../compiler_errors.js';\n\nconst valid_bindings = ['fullscreenElement', 'visibilityState'];\n\n/** @extends Node<'Document'> */\nexport default class Document extends Node {\n\t/** @type {import('./EventHandler.js').default[]} */\n\thandlers = [];\n\n\t/** @type {import('./Binding.js').default[]} */\n\tbindings = [];\n\n\t/** @type {import('./Action.js').default[]} */\n\tactions = [];\n\n\t/**\n\t * @param {import('../Component.js').default} component\n\t * @param {import('./shared/Node.js').default} parent\n\t * @param {import('./shared/TemplateScope.js').default} scope\n\t * @param {import('../../interfaces.js').Element} info\n\t */\n\tconstructor(component, parent, scope, info) {\n\t\tsuper(component, parent, scope, info);\n\t\tinfo.attributes.forEach((node) => {\n\t\t\tif (node.type === 'EventHandler') {\n\t\t\t\tthis.handlers.push(new EventHandler(component, this, scope, node));\n\t\t\t} else if (node.type === 'Binding') {\n\t\t\t\tif (!~valid_bindings.indexOf(node.name)) {\n\t\t\t\t\tconst match = fuzzymatch(node.name, valid_bindings);\n\t\t\t\t\tif (match) {\n\t\t\t\t\t\treturn component.error(\n\t\t\t\t\t\t\tnode,\n\t\t\t\t\t\t\tcompiler_errors.invalid_binding_on(\n\t\t\t\t\t\t\t\tnode.name,\n\t\t\t\t\t\t\t\t'<svelte:document>',\n\t\t\t\t\t\t\t\t` (did you mean '${match}'?)`\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t);\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn component.error(\n\t\t\t\t\t\t\tnode,\n\t\t\t\t\t\t\tcompiler_errors.invalid_binding_on(\n\t\t\t\t\t\t\t\tnode.name,\n\t\t\t\t\t\t\t\t'<svelte:document>',\n\t\t\t\t\t\t\t\t` — valid bindings are ${list(valid_bindings)}`\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tthis.bindings.push(new Binding(component, this, scope, node));\n\t\t\t} else if (node.type === 'Action') {\n\t\t\t\tthis.actions.push(new Action(component, this, scope, node));\n\t\t\t} else {\n\t\t\t\t// TODO there shouldn't be anything else here...\n\t\t\t}\n\t\t});\n\t\tthis.validate();\n\t}\n\n\t/** @private */\n\tvalidate() {\n\t\tconst handlers_map = new Set();\n\t\tthis.handlers.forEach((handler) => handlers_map.add(handler.name));\n\t\tif (handlers_map.has('mouseenter') || handlers_map.has('mouseleave')) {\n\t\t\tthis.component.warn(this, compiler_warnings.avoid_mouse_events_on_document);\n\t\t}\n\t}\n}\n", "/**\n * @param {string} data\n * @returns {import('estree').Literal}\n */\nexport function string_literal(data) {\n\treturn {\n\t\ttype: 'Literal',\n\t\tvalue: data\n\t};\n}\n/**\n * @param {string} data\n * @param {{ only_escape_at_symbol?: boolean }} [options]\n */\nexport function escape(data, { only_escape_at_symbol = false } = {}) {\n\treturn data.replace(only_escape_at_symbol ? /@+/g : /(@+|#+)/g, (match) => {\n\t\treturn match + match[0];\n\t});\n}\n\nconst escaped = {\n\t'\"': '&quot;',\n\t\"'\": '&#39;',\n\t'&': '&amp;',\n\t'<': '&lt;',\n\t'>': '&gt;'\n};\n\nconst regex_html_characters_to_escape = /[\"'&<>]/g;\n\nexport function escape_html(html) {\n\treturn String(html).replace(regex_html_characters_to_escape, (match) => escaped[match]);\n}\n\nconst regex_template_characters_to_escape = /(\\${|`|\\\\)/g;\n\nexport function escape_template(str) {\n\treturn str.replace(regex_template_characters_to_escape, '\\\\$1');\n}\n", "/**\n * @template T\n * @param {Set<T>} a\n * @param {Set<T> | T[]} b\n */\nexport default function add_to_set(a, b) {\n\t// @ts-ignore\n\tb.forEach((item) => {\n\t\ta.add(item);\n\t});\n}\n", "import { string_literal } from '../utils/stringify.js';\nimport add_to_set from '../utils/add_to_set.js';\nimport Node from './shared/Node.js';\nimport Expression from './shared/Expression.js';\nimport { x } from 'code-red';\nimport compiler_warnings from '../compiler_warnings.js';\n\n/** @extends Node<'Attribute' | 'Spread', import('./Element.js').default> */\nexport default class Attribute extends Node {\n\t/** @type {import('./shared/TemplateScope.js').default} */\n\tscope;\n\n\t/** @type {string} */\n\tname;\n\n\t/** @type {boolean} */\n\tis_spread;\n\n\t/** @type {boolean} */\n\tis_true;\n\n\t/** @type {boolean} */\n\tis_static;\n\n\t/** @type {import('./shared/Expression.js').default} */\n\texpression;\n\n\t/** @type {Array<import('./Text.js').default | import('./shared/Expression.js').default>} */\n\tchunks;\n\n\t/** @type {Set<string>} */\n\tdependencies;\n\n\t/**\n\t * @param {import('../Component.js').default} component\n\t * @param {import('./shared/Node.js').default} parent\n\t * @param {import('./shared/TemplateScope.js').default} scope\n\t * @param {import('../../interfaces.js').TemplateNode} info\n\t */\n\tconstructor(component, parent, scope, info) {\n\t\tsuper(component, parent, scope, info);\n\t\tthis.scope = scope;\n\n\t\tif (info.type === 'Spread') {\n\t\t\tthis.name = null;\n\t\t\tthis.is_spread = true;\n\t\t\tthis.is_true = false;\n\t\t\tthis.expression = new Expression(component, this, scope, info.expression);\n\t\t\tthis.dependencies = this.expression.dependencies;\n\t\t\tthis.chunks = null;\n\t\t\tthis.is_static = false;\n\t\t} else {\n\t\t\tthis.name = info.name;\n\t\t\tthis.is_true = info.value === true;\n\t\t\tthis.is_static = true;\n\t\t\tthis.dependencies = new Set();\n\t\t\tthis.chunks = this.is_true\n\t\t\t\t? []\n\t\t\t\t: info.value.map((node) => {\n\t\t\t\t\t\tif (node.type === 'Text') return node;\n\t\t\t\t\t\tthis.is_static = false;\n\t\t\t\t\t\tconst expression = new Expression(component, this, scope, node.expression);\n\t\t\t\t\t\tadd_to_set(this.dependencies, expression.dependencies);\n\t\t\t\t\t\treturn expression;\n\t\t\t\t  });\n\t\t}\n\n\t\tif (this.dependencies.size > 0) {\n\t\t\tparent.cannot_use_innerhtml();\n\t\t\tparent.not_static_content();\n\t\t}\n\n\t\t// TODO Svelte 5: Think about moving this into the parser and make it an error\n\t\tif (\n\t\t\tthis.name &&\n\t\t\tthis.name.includes(':') &&\n\t\t\t!this.name.startsWith('xmlns:') &&\n\t\t\t!this.name.startsWith('xlink:') &&\n\t\t\t!this.name.startsWith('xml:')\n\t\t) {\n\t\t\tcomponent.warn(this, compiler_warnings.illegal_attribute_character);\n\t\t}\n\t}\n\tget_dependencies() {\n\t\tif (this.is_spread) return this.expression.dynamic_dependencies();\n\n\t\t/** @type {Set<string>} */\n\t\tconst dependencies = new Set();\n\t\tthis.chunks.forEach((chunk) => {\n\t\t\tif (chunk.type === 'Expression') {\n\t\t\t\tadd_to_set(dependencies, chunk.dynamic_dependencies());\n\t\t\t}\n\t\t});\n\t\treturn Array.from(dependencies);\n\t}\n\n\t/** @param {any} block */\n\tget_value(block) {\n\t\tif (this.is_true) return x`true`;\n\t\tif (this.chunks.length === 0) return x`\"\"`;\n\t\tif (this.chunks.length === 1) {\n\t\t\treturn this.chunks[0].type === 'Text'\n\t\t\t\t? string_literal(/** @type {import('./Text.js').default} */ (this.chunks[0]).data)\n\t\t\t\t: /** @type {import('./shared/Expression.js').default} */ (this.chunks[0]).manipulate(\n\t\t\t\t\t\tblock\n\t\t\t\t  );\n\t\t}\n\t\tlet expression = this.chunks\n\t\t\t.map(\n\t\t\t\t/** @param {any} chunk */ (chunk) =>\n\t\t\t\t\tchunk.type === 'Text' ? string_literal(chunk.data) : chunk.manipulate(block)\n\t\t\t)\n\t\t\t.reduce((lhs, rhs) => x`${lhs} + ${rhs}`);\n\t\tif (this.chunks[0].type !== 'Text') {\n\t\t\texpression = x`\"\" + ${expression}`;\n\t\t}\n\t\treturn expression;\n\t}\n\tget_static_value() {\n\t\tif (!this.is_static) return null;\n\t\treturn this.is_true\n\t\t\t? true\n\t\t\t: this.chunks[0]\n\t\t\t? // method should be called only when `is_static = true`\n\t\t\t  /** @type {import('./Text.js').default} */ (this.chunks[0]).data\n\t\t\t: '';\n\t}\n\tshould_cache() {\n\t\treturn this.is_static\n\t\t\t? false\n\t\t\t: this.chunks.length === 1\n\t\t\t? // @ts-ignore todo: probably error\n\t\t\t  this.chunks[0].node.type !== 'Identifier' || this.scope.names.has(this.chunks[0].node.name)\n\t\t\t: true;\n\t}\n}\n", "import Node from './shared/Node.js';\nimport Expression from './shared/Expression.js';\nimport compiler_errors from '../compiler_errors.js';\n\n/** @extends Node<'Transition'> */\nexport default class Transition extends Node {\n\t/** @type {string} */\n\tname;\n\n\t/** @type {string} */\n\tdirective;\n\n\t/** @type {import('./shared/Expression.js').default} */\n\texpression;\n\n\t/** @type {boolean} */\n\tis_local;\n\n\t/**\n\t * @param {import('../Component.js').default} component\n\t * @param {import('./Element.js').default} parent\n\t * @param {import('./shared/TemplateScope.js').default} scope\n\t * @param {import('../../interfaces.js').TemplateNode} info\n\t */\n\tconstructor(component, parent, scope, info) {\n\t\tsuper(component, parent, scope, info);\n\t\tcomponent.warn_if_undefined(info.name, info, scope);\n\t\tthis.name = info.name;\n\t\tcomponent.add_reference(/** @type {any} */ (this), info.name.split('.')[0]);\n\t\tthis.directive = info.intro && info.outro ? 'transition' : info.intro ? 'in' : 'out';\n\t\tthis.is_local = !info.modifiers.includes('global');\n\t\tif ((info.intro && parent.intro) || (info.outro && parent.outro)) {\n\t\t\tconst parent_transition = parent.intro || parent.outro;\n\t\t\tcomponent.error(\n\t\t\t\tinfo,\n\t\t\t\tcompiler_errors.duplicate_transition(this.directive, parent_transition.directive)\n\t\t\t);\n\t\t\treturn;\n\t\t}\n\t\tthis.expression = info.expression\n\t\t\t? new Expression(component, this, scope, info.expression)\n\t\t\t: null;\n\t}\n}\n", "import Node from './shared/Node.js';\nimport Expression from './shared/Expression.js';\nimport compiler_errors from '../compiler_errors.js';\n\n/** @extends Node<'Animation'> */\nexport default class Animation extends Node {\n\t/** @type {string} */\n\tname;\n\n\t/** @type {import('./shared/Expression.js').default} */\n\texpression;\n\n\t/**\n\t * @param {import('../Component.js').default} component  *\n\t * @param {import('./Element.js').default} parent  *\n\t * @param {import('./shared/TemplateScope.js').default} scope  *\n\t * @param {import('../../interfaces.js').TemplateNode} info  undefined\n\t */\n\tconstructor(component, parent, scope, info) {\n\t\tsuper(component, parent, scope, info);\n\t\tcomponent.warn_if_undefined(info.name, info, scope);\n\t\tthis.name = info.name;\n\t\tcomponent.add_reference(/** @type {any} */ (this), info.name.split('.')[0]);\n\t\tif (parent.animation) {\n\t\t\tcomponent.error(this, compiler_errors.duplicate_animation);\n\t\t\treturn;\n\t\t}\n\t\tconst block = parent.parent;\n\t\tif (!block || block.type !== 'EachBlock') {\n\t\t\t// TODO can we relax the 'immediate child' rule?\n\t\t\tcomponent.error(this, compiler_errors.invalid_animation_immediate);\n\t\t\treturn;\n\t\t}\n\t\tif (!block.key) {\n\t\t\tcomponent.error(this, compiler_errors.invalid_animation_key);\n\t\t\treturn;\n\t\t}\n\t\t/** @type {import('./EachBlock.js').default} */ (block).has_animation = true;\n\t\tthis.expression = info.expression\n\t\t\t? new Expression(component, this, scope, info.expression, true)\n\t\t\t: null;\n\t}\n}\n", "import Node from './shared/Node.js';\nimport Expression from './shared/Expression.js';\n\n/** @extends Node<'Class'> */\nexport default class Class extends Node {\n\t/** @type {string} */\n\tname;\n\n\t/** @type {import('./shared/Expression.js').default} */\n\texpression;\n\n\t/**\n\t * @param {import('../Component.js').default} component\n\t * @param {import('./shared/Node.js').default} parent\n\t * @param {import('./shared/TemplateScope.js').default} scope\n\t * @param {import('../../interfaces.js').TemplateNode} info\n\t */\n\tconstructor(component, parent, scope, info) {\n\t\tsuper(component, parent, scope, info);\n\t\tthis.name = info.name;\n\t\tthis.expression = info.expression\n\t\t\t? new Expression(component, this, scope, info.expression)\n\t\t\t: null;\n\t}\n}\n", "/**\n * Transforms a list of Text and MustacheTags into a TemplateLiteral expression.\n * Start/End positions on the elements of the expression are not set.\n * @param {Array<import('../../interfaces.js').Text | import('../../interfaces.js').MustacheTag>} value\n * @returns {import('estree').TemplateLiteral}\n */\nexport function nodes_to_template_literal(value) {\n\t/**\n\t * @type {import('estree').TemplateLiteral}\n\t */\n\tconst literal = {\n\t\ttype: 'TemplateLiteral',\n\t\texpressions: [],\n\t\tquasis: []\n\t};\n\n\t/**\n\t * @type {import('estree').TemplateElement}\n\t */\n\tlet quasi = {\n\t\ttype: 'TemplateElement',\n\t\tvalue: { raw: '', cooked: null },\n\t\ttail: false\n\t};\n\tvalue.forEach((node) => {\n\t\tif (node.type === 'Text') {\n\t\t\tquasi.value.raw += node.raw;\n\t\t} else if (node.type === 'MustacheTag') {\n\t\t\tliteral.quasis.push(quasi);\n\t\t\tliteral.expressions.push(/** @type {any} */ (node.expression));\n\t\t\tquasi = {\n\t\t\t\ttype: 'TemplateElement',\n\t\t\t\tvalue: { raw: '', cooked: null },\n\t\t\t\ttail: false\n\t\t\t};\n\t\t}\n\t});\n\tquasi.tail = true;\n\tliteral.quasis.push(quasi);\n\treturn literal;\n}\n", "import list from '../../utils/list.js';\nimport compiler_errors from '../compiler_errors.js';\nimport { nodes_to_template_literal } from '../utils/nodes_to_template_literal.js';\nimport Expression from './shared/Expression.js';\nimport Node from './shared/Node.js';\n\nconst valid_modifiers = new Set(['important']);\n\n/** @extends Node<'StyleDirective'> */\nexport default class StyleDirective extends Node {\n\t/** @type {string} */\n\tname;\n\n\t/** @type {Set<string>} */\n\tmodifiers;\n\n\t/** @type {import('./shared/Expression.js').default} */\n\texpression;\n\n\t/** @type {boolean} */\n\tshould_cache;\n\n\t/**\n\t * @param {import('../Component.js').default} component\n\t * @param {import('./shared/Node.js').default} parent\n\t * @param {import('./shared/TemplateScope.js').default} scope\n\t * @param {import('../../interfaces.js').TemplateNode} info\n\t */\n\tconstructor(component, parent, scope, info) {\n\t\tsuper(component, parent, scope, info);\n\t\tthis.name = info.name;\n\t\tthis.modifiers = new Set(info.modifiers);\n\t\tfor (const modifier of this.modifiers) {\n\t\t\tif (!valid_modifiers.has(modifier)) {\n\t\t\t\tcomponent.error(\n\t\t\t\t\tthis,\n\t\t\t\t\tcompiler_errors.invalid_style_directive_modifier(list([...valid_modifiers]))\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t\t// Convert the value array to an expression so it's easier to handle\n\t\t// the StyleDirective going forward.\n\t\tif (info.value === true || (info.value.length === 1 && info.value[0].type === 'MustacheTag')) {\n\t\t\tconst identifier =\n\t\t\t\tinfo.value === true\n\t\t\t\t\t? {\n\t\t\t\t\t\t\ttype: 'Identifier',\n\t\t\t\t\t\t\tstart: info.end - info.name.length,\n\t\t\t\t\t\t\tend: info.end,\n\t\t\t\t\t\t\tname: info.name\n\t\t\t\t\t  }\n\t\t\t\t\t: info.value[0].expression;\n\t\t\tthis.expression = new Expression(component, this, scope, identifier);\n\t\t\tthis.should_cache = false;\n\t\t} else {\n\t\t\tconst raw_expression = nodes_to_template_literal(info.value);\n\t\t\tthis.expression = new Expression(component, this, scope, raw_expression);\n\t\t\tthis.should_cache = raw_expression.expressions.length > 0;\n\t\t}\n\t}\n\tget important() {\n\t\treturn this.modifiers.has('important');\n\t}\n}\n", "import Node from './shared/Node.js';\nimport { regex_non_whitespace_character } from '../../utils/patterns.js';\n\n// Whitespace inside one of these elements will not result in\n// a whitespace node being created in any circumstances. (This\n// list is almost certainly very incomplete)\nconst elements_without_text = new Set(['audio', 'datalist', 'dl', 'optgroup', 'select', 'video']);\nconst regex_ends_with_svg = /svg$/;\nconst regex_non_whitespace_characters = /[\\S\\u00A0]/;\n\n/** @extends Node<'Text'> */\nexport default class Text extends Node {\n\t/** @type {string} */\n\tdata;\n\n\t/** @type {boolean} */\n\tsynthetic;\n\n\t/**\n\t * @param {import('../Component.js').default} component\n\t * @param {import('./interfaces.js').INode} parent\n\t * @param {import('./shared/TemplateScope.js').default} scope\n\t * @param {import('../../interfaces.js').TemplateNode} info\n\t */\n\tconstructor(component, parent, scope, info) {\n\t\tsuper(component, parent, scope, info);\n\t\tthis.data = info.data;\n\t\tthis.synthetic = info.synthetic || false;\n\t}\n\tshould_skip() {\n\t\tif (regex_non_whitespace_character.test(this.data)) return false;\n\t\tconst parent_element = this.find_nearest(/(?:Element|InlineComponent|SlotTemplate|Head)/);\n\t\tif (!parent_element) return false;\n\t\tif (parent_element.type === 'Head') return true;\n\t\tif (parent_element.type === 'InlineComponent')\n\t\t\treturn parent_element.children.length === 1 && this === parent_element.children[0];\n\t\t// svg namespace exclusions\n\t\tif (regex_ends_with_svg.test(parent_element.namespace)) {\n\t\t\tif (this.prev && this.prev.type === 'Element' && this.prev.name === 'tspan') return false;\n\t\t}\n\t\treturn parent_element.namespace || elements_without_text.has(parent_element.name);\n\t}\n\n\t/** @returns {boolean} */\n\tkeep_space() {\n\t\tif (this.component.component_options.preserveWhitespace) return true;\n\t\treturn this.within_pre();\n\t}\n\n\t/** @returns {boolean} */\n\twithin_pre() {\n\t\tlet node = this.parent;\n\t\twhile (node) {\n\t\t\tif (node.type === 'Element' && node.name === 'pre') {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\tnode = node.parent;\n\t\t}\n\t\treturn false;\n\t}\n\n\t/** @returns {boolean} */\n\tuse_space() {\n\t\tif (this.component.compile_options.preserveWhitespace) return false;\n\t\tif (regex_non_whitespace_characters.test(this.data)) return false;\n\t\treturn !this.within_pre();\n\t}\n}\n", "// The `foreign` namespace covers all DOM implementations that aren't HTML5.\n// It opts out of HTML5-specific a11y checks and case-insensitive attribute names.\nexport const foreign = 'https://svelte.dev/docs/special-elements#svelte-options';\nexport const html = 'http://www.w3.org/1999/xhtml';\nexport const mathml = 'http://www.w3.org/1998/Math/MathML';\nexport const svg = 'http://www.w3.org/2000/svg';\nexport const xlink = 'http://www.w3.org/1999/xlink';\nexport const xml = 'http://www.w3.org/XML/1998/namespace';\nexport const xmlns = 'http://www.w3.org/2000/xmlns';\n\nexport const valid_namespaces = [\n\t'foreign',\n\t'html',\n\t'mathml',\n\t'svg',\n\t'xlink',\n\t'xml',\n\t'xmlns',\n\tforeign,\n\thtml,\n\tmathml,\n\tsvg,\n\txlink,\n\txml,\n\txmlns\n];\n\nexport const namespaces = /** @type {const} */ ({ foreign, html, mathml, svg, xlink, xml, xmlns });\n", "// Utilities for managing contenteditable nodes\n\n/** @typedef {import('../nodes/Attribute.js').default} Attribute */\n/** @typedef {import('../nodes/Element.js').default} Element */\n\nexport const CONTENTEDITABLE_BINDINGS = ['textContent', 'innerHTML', 'innerText'];\n\n/**\n * Returns true if node is an 'input' or 'textarea'.\n * @param {Element} node The element to be checked\n */\nfunction is_input_or_textarea(node) {\n\treturn node.name === 'textarea' || node.name === 'input';\n}\n\n/**\n * Check if a given attribute is 'contenteditable'.\n * @param {Attribute} attribute A node.attribute\n */\nfunction is_attr_contenteditable(attribute) {\n\treturn attribute.name === 'contenteditable';\n}\n\n/**\n * Check if any of a node's attributes are 'contentenditable'.\n * @param {Element} node The element to be checked\n */\nexport function has_contenteditable_attr(node) {\n\treturn node.attributes.some(is_attr_contenteditable);\n}\n\n/**\n * Returns true if node is not textarea or input, but has 'contenteditable' attribute.\n * @param {Element} node The element to be tested\n */\nexport function is_contenteditable(node) {\n\treturn !is_input_or_textarea(node) && has_contenteditable_attr(node);\n}\n\n/**\n * Returns true if a given binding/node is contenteditable.\n * @param {string} name A binding or node name to be checked\n */\nexport function is_name_contenteditable(name) {\n\treturn CONTENTEDITABLE_BINDINGS.includes(name);\n}\n\n/**\n * Returns the contenteditable attribute from the node (if it exists).\n * @param {Element} node The element to get the attribute from\n */\nexport function get_contenteditable_attr(node) {\n\treturn node.attributes.find(is_attr_contenteditable);\n}\n", "// https://github.com/darkskyapp/string-hash/blob/master/index.js\n\nconst regex_return_characters = /\\r/g;\n\n/**\n * @param {string} str\n * @returns {string}\n */\nexport default function hash(str) {\n\tstr = str.replace(regex_return_characters, '');\n\tlet hash = 5381;\n\tlet i = str.length;\n\n\twhile (i--) hash = ((hash << 5) - hash) ^ str.charCodeAt(i);\n\treturn (hash >>> 0).toString(36);\n}\n", "import Node from './shared/Node.js';\nimport { walk } from 'estree-walker';\nimport compiler_errors from '../compiler_errors.js';\n\nconst applicable = new Set(['Identifier', 'ObjectExpression', 'ArrayExpression', 'Property']);\n\n/** @extends Node<'Let'> */\nexport default class Let extends Node {\n\t/** @type {import('estree').Identifier} */\n\tname;\n\n\t/** @type {import('estree').Identifier} */\n\tvalue;\n\n\t/** @type {string[]} */\n\tnames = [];\n\n\t/**\n\t * @param {import('../Component.js').default} component\n\t * @param {import('./shared/Node.js').default} parent\n\t * @param {import('./shared/TemplateScope.js').default} scope\n\t * @param {import('../../interfaces.js').TemplateNode} info\n\t */\n\tconstructor(component, parent, scope, info) {\n\t\tsuper(component, parent, scope, info);\n\t\tthis.name = { type: 'Identifier', name: info.name };\n\t\tconst { names } = this;\n\t\tif (info.expression) {\n\t\t\tthis.value = info.expression;\n\t\t\twalk(info.expression, {\n\t\t\t\t/** @param {import('estree').Identifier | import('estree').BasePattern} node */\n\t\t\t\tenter(node) {\n\t\t\t\t\tif (!applicable.has(node.type)) {\n\t\t\t\t\t\treturn component.error(/** @type {any} */ (node), compiler_errors.invalid_let);\n\t\t\t\t\t}\n\t\t\t\t\tif (node.type === 'Identifier') {\n\t\t\t\t\t\tnames.push(/** @type {import('estree').Identifier} */ (node).name);\n\t\t\t\t\t}\n\t\t\t\t\t// slightly unfortunate hack\n\t\t\t\t\tif (node.type === 'ArrayExpression') {\n\t\t\t\t\t\tnode.type = 'ArrayPattern';\n\t\t\t\t\t}\n\t\t\t\t\tif (node.type === 'ObjectExpression') {\n\t\t\t\t\t\tnode.type = 'ObjectPattern';\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t} else {\n\t\t\tnames.push(this.name.name);\n\t\t}\n\t}\n}\n", "import { is_html, is_svg, is_void } from '../../../shared/utils/names.js';\nimport Node from './shared/Node.js';\nimport { walk } from 'estree-walker';\nimport Attribute from './Attribute.js';\nimport Binding from './Binding.js';\nimport EventHandler from './EventHandler.js';\nimport Transition from './Transition.js';\nimport Animation from './Animation.js';\nimport Action from './Action.js';\nimport Class from './Class.js';\nimport StyleDirective from './StyleDirective.js';\nimport Text from './Text.js';\nimport { namespaces } from '../../utils/namespaces.js';\nimport map_children from './shared/map_children.js';\nimport {\n\tis_name_contenteditable,\n\tget_contenteditable_attr,\n\thas_contenteditable_attr\n} from '../utils/contenteditable.js';\nimport {\n\tregex_dimensions,\n\tregex_starts_with_newline,\n\tregex_non_whitespace_character,\n\tregex_box_size\n} from '../../utils/patterns.js';\nimport fuzzymatch from '../../utils/fuzzymatch.js';\nimport list from '../../utils/list.js';\nimport hash from '../utils/hash.js';\nimport Let from './Let.js';\nimport Expression from './shared/Expression.js';\nimport { string_literal } from '../utils/stringify.js';\nimport compiler_warnings from '../compiler_warnings.js';\nimport compiler_errors from '../compiler_errors.js';\nimport { roles, aria } from 'aria-query';\nimport {\n\tis_interactive_element,\n\tis_non_interactive_element,\n\tis_non_interactive_roles,\n\tis_presentation_role,\n\tis_interactive_roles,\n\tis_hidden_from_screen_reader,\n\tis_semantic_role_element,\n\tis_abstract_role,\n\tis_static_element,\n\thas_disabled_attribute,\n\tis_valid_autocomplete\n} from '../utils/a11y.js';\n\nconst aria_attributes =\n\t'activedescendant atomic autocomplete busy checked colcount colindex colspan controls current describedby description details disabled dropeffect errormessage expanded flowto grabbed haspopup hidden invalid keyshortcuts label labelledby level live modal multiline multiselectable orientation owns placeholder posinset pressed readonly relevant required roledescription rowcount rowindex rowspan selected setsize sort valuemax valuemin valuenow valuetext'.split(\n\t\t' '\n\t);\nconst aria_attribute_set = new Set(aria_attributes);\nconst aria_roles = roles.keys();\nconst aria_role_set = new Set(aria_roles);\nconst a11y_required_attributes = {\n\ta: ['href'],\n\tarea: ['alt', 'aria-label', 'aria-labelledby'],\n\t// html-has-lang\n\thtml: ['lang'],\n\t// iframe-has-title\n\tiframe: ['title'],\n\timg: ['alt'],\n\tobject: ['title', 'aria-label', 'aria-labelledby']\n};\nconst a11y_distracting_elements = new Set(['blink', 'marquee']);\nconst a11y_required_content = new Set([\n\t// anchor-has-content\n\t'a',\n\t// heading-has-content\n\t'h1',\n\t'h2',\n\t'h3',\n\t'h4',\n\t'h5',\n\t'h6'\n]);\nconst a11y_labelable = new Set([\n\t'button',\n\t'input',\n\t'keygen',\n\t'meter',\n\t'output',\n\t'progress',\n\t'select',\n\t'textarea'\n]);\nconst a11y_interactive_handlers = new Set([\n\t// Keyboard events\n\t'keypress',\n\t'keydown',\n\t'keyup',\n\t// Click events\n\t'click',\n\t'contextmenu',\n\t'dblclick',\n\t'drag',\n\t'dragend',\n\t'dragenter',\n\t'dragexit',\n\t'dragleave',\n\t'dragover',\n\t'dragstart',\n\t'drop',\n\t'mousedown',\n\t'mouseenter',\n\t'mouseleave',\n\t'mousemove',\n\t'mouseout',\n\t'mouseover',\n\t'mouseup'\n]);\nconst a11y_recommended_interactive_handlers = new Set([\n\t'click',\n\t'mousedown',\n\t'mouseup',\n\t'keypress',\n\t'keydown',\n\t'keyup'\n]);\nconst a11y_nested_implicit_semantics = new Map([\n\t['header', 'banner'],\n\t['footer', 'contentinfo']\n]);\nconst a11y_implicit_semantics = new Map([\n\t['a', 'link'],\n\t['area', 'link'],\n\t['article', 'article'],\n\t['aside', 'complementary'],\n\t['body', 'document'],\n\t['button', 'button'],\n\t['datalist', 'listbox'],\n\t['dd', 'definition'],\n\t['dfn', 'term'],\n\t['dialog', 'dialog'],\n\t['details', 'group'],\n\t['dt', 'term'],\n\t['fieldset', 'group'],\n\t['figure', 'figure'],\n\t['form', 'form'],\n\t['h1', 'heading'],\n\t['h2', 'heading'],\n\t['h3', 'heading'],\n\t['h4', 'heading'],\n\t['h5', 'heading'],\n\t['h6', 'heading'],\n\t['hr', 'separator'],\n\t['img', 'img'],\n\t['li', 'listitem'],\n\t['link', 'link'],\n\t['main', 'main'],\n\t['menu', 'list'],\n\t['meter', 'progressbar'],\n\t['nav', 'navigation'],\n\t['ol', 'list'],\n\t['option', 'option'],\n\t['optgroup', 'group'],\n\t['output', 'status'],\n\t['progress', 'progressbar'],\n\t['section', 'region'],\n\t['summary', 'button'],\n\t['table', 'table'],\n\t['tbody', 'rowgroup'],\n\t['textarea', 'textbox'],\n\t['tfoot', 'rowgroup'],\n\t['thead', 'rowgroup'],\n\t['tr', 'row'],\n\t['ul', 'list']\n]);\nconst menuitem_type_to_implicit_role = new Map([\n\t['command', 'menuitem'],\n\t['checkbox', 'menuitemcheckbox'],\n\t['radio', 'menuitemradio']\n]);\nconst input_type_to_implicit_role = new Map([\n\t['button', 'button'],\n\t['image', 'button'],\n\t['reset', 'button'],\n\t['submit', 'button'],\n\t['checkbox', 'checkbox'],\n\t['radio', 'radio'],\n\t['range', 'slider'],\n\t['number', 'spinbutton'],\n\t['email', 'textbox'],\n\t['search', 'searchbox'],\n\t['tel', 'textbox'],\n\t['text', 'textbox'],\n\t['url', 'textbox']\n]);\n/**\n * Exceptions to the rule which follows common A11y conventions\n * TODO make this configurable by the user\n */\nconst a11y_non_interactive_element_to_interactive_role_exceptions = {\n\tul: ['listbox', 'menu', 'menubar', 'radiogroup', 'tablist', 'tree', 'treegrid'],\n\tol: ['listbox', 'menu', 'menubar', 'radiogroup', 'tablist', 'tree', 'treegrid'],\n\tli: ['menuitem', 'option', 'row', 'tab', 'treeitem'],\n\ttable: ['grid'],\n\ttd: ['gridcell'],\n\tfieldset: ['radiogroup', 'presentation']\n};\nconst combobox_if_list = new Set(['email', 'search', 'tel', 'text', 'url']);\n\n/** @param {Map<string, import('./Attribute.js').default>} attribute_map */\nfunction input_implicit_role(attribute_map) {\n\tconst type_attribute = attribute_map.get('type');\n\tif (!type_attribute || !type_attribute.is_static) return;\n\tconst type = /** @type {string} */ (type_attribute.get_static_value());\n\tconst list_attribute_exists = attribute_map.has('list');\n\tif (list_attribute_exists && combobox_if_list.has(type)) {\n\t\treturn 'combobox';\n\t}\n\treturn input_type_to_implicit_role.get(type);\n}\n\n/** @param {Map<string, import('./Attribute.js').default>} attribute_map */\nfunction menuitem_implicit_role(attribute_map) {\n\tconst type_attribute = attribute_map.get('type');\n\tif (!type_attribute || !type_attribute.is_static) return;\n\tconst type = /** @type {string} */ (type_attribute.get_static_value());\n\treturn menuitem_type_to_implicit_role.get(type);\n}\n\n/**\n * @param {string} name\n * @param {Map<string, import('./Attribute.js').default>} attribute_map\n * @returns {string}\n */\nfunction get_implicit_role(name, attribute_map) {\n\tif (name === 'menuitem') {\n\t\treturn menuitem_implicit_role(attribute_map);\n\t} else if (name === 'input') {\n\t\treturn input_implicit_role(attribute_map);\n\t} else {\n\t\treturn a11y_implicit_semantics.get(name);\n\t}\n}\nconst invisible_elements = new Set(['meta', 'html', 'script', 'style']);\nconst valid_modifiers = new Set([\n\t'preventDefault',\n\t'stopPropagation',\n\t'stopImmediatePropagation',\n\t'capture',\n\t'once',\n\t'passive',\n\t'nonpassive',\n\t'self',\n\t'trusted'\n]);\nconst passive_events = new Set(['wheel', 'touchstart', 'touchmove', 'touchend', 'touchcancel']);\nconst react_attributes = new Map([\n\t['className', 'class'],\n\t['htmlFor', 'for']\n]);\nconst attributes_to_compact_whitespace = ['class', 'style'];\n\n/**\n * @param {import('./interfaces.js').INode} parent\n * @param {string[]} elements\n */\nfunction is_parent(parent, elements) {\n\tlet check = false;\n\twhile (parent) {\n\t\tconst parent_name = /** @type {Element} */ (parent).name;\n\t\tif (elements.includes(parent_name)) {\n\t\t\tcheck = true;\n\t\t\tbreak;\n\t\t}\n\t\tif (parent.type === 'Element') {\n\t\t\tbreak;\n\t\t}\n\t\tparent = parent.parent;\n\t}\n\treturn check;\n}\n\n/**\n * @param {Element} parent\n * @param {Element} element\n * @param {string} explicit_namespace\n */\nfunction get_namespace(parent, element, explicit_namespace) {\n\tconst parent_element = parent.find_nearest(/^Element/);\n\tif (!parent_element) {\n\t\treturn explicit_namespace || (is_svg(element.name) ? namespaces.svg : null);\n\t}\n\tif (parent_element.namespace !== namespaces.foreign) {\n\t\tif (is_svg(element.name.toLowerCase())) return namespaces.svg;\n\t\tif (parent_element.name.toLowerCase() === 'foreignobject') return null;\n\t}\n\treturn parent_element.namespace;\n}\n\n/**\n * @param {import('aria-query').ARIAPropertyDefinition} schema\n * @param {string | boolean} value\n * @returns {boolean}\n */\nfunction is_valid_aria_attribute_value(schema, value) {\n\tswitch (schema.type) {\n\t\tcase 'boolean':\n\t\t\treturn typeof value === 'boolean';\n\t\tcase 'string':\n\t\tcase 'id':\n\t\t\treturn typeof value === 'string';\n\t\tcase 'tristate':\n\t\t\treturn typeof value === 'boolean' || value === 'mixed';\n\t\tcase 'integer':\n\t\tcase 'number':\n\t\t\treturn typeof value !== 'boolean' && isNaN(Number(value)) === false;\n\t\tcase 'token': // single token\n\t\t\treturn (\n\t\t\t\t(schema.values || []).indexOf(typeof value === 'string' ? value.toLowerCase() : value) > -1\n\t\t\t);\n\t\tcase 'idlist': // if list of ids, split each\n\t\t\treturn (\n\t\t\t\ttypeof value === 'string' &&\n\t\t\t\tvalue.split(regex_any_repeated_whitespaces).every((id) => typeof id === 'string')\n\t\t\t);\n\t\tcase 'tokenlist': // if list of tokens, split each\n\t\t\treturn (\n\t\t\t\ttypeof value === 'string' &&\n\t\t\t\tvalue\n\t\t\t\t\t.split(regex_any_repeated_whitespaces)\n\t\t\t\t\t.every((token) => (schema.values || []).indexOf(token.toLowerCase()) > -1)\n\t\t\t);\n\t\tdefault:\n\t\t\treturn false;\n\t}\n}\nconst regex_any_repeated_whitespaces = /[\\s]+/g;\nconst regex_heading_tags = /^h[1-6]$/;\nconst regex_illegal_attribute_character = /(^[0-9-.])|[\\^$@%&#?!|()[\\]{}^*+~;]/;\n\n/** @extends Node<'Element'> */\nexport default class Element extends Node {\n\t/** @type {string} */\n\tname;\n\n\t/** @type {import('./shared/TemplateScope.js').default} */\n\tscope;\n\n\t/** @type {import('./Action.js').default[]} */\n\tactions = [];\n\n\t/** @type {import('./Binding.js').default[]} */\n\tbindings = [];\n\n\t/** @type {import('./Class.js').default[]} */\n\tclasses = [];\n\n\t/** @type {import('./StyleDirective.js').default[]} */\n\tstyles = [];\n\n\t/** @type {import('./EventHandler.js').default[]} */\n\thandlers = [];\n\n\t/** @type {import('./Let.js').default[]} */\n\tlets = [];\n\n\t/** @type {import('./Transition.js').default} */\n\tintro = null;\n\n\t/** @type {import('./Transition.js').default} */\n\toutro = null;\n\n\t/** @type {import('./Animation.js').default} */\n\tanimation = null;\n\n\t/** @type {import('./interfaces.js').INode[]} */\n\tchildren;\n\n\t/** @type {string} */\n\tnamespace;\n\n\t/** @type {boolean} */\n\tneeds_manual_style_scoping;\n\n\t/** @type {import('./shared/Expression.js').default} */\n\ttag_expr;\n\n\t/** @type {boolean} */\n\tcontains_a11y_label;\n\tget is_dynamic_element() {\n\t\treturn this.name === 'svelte:element';\n\t}\n\n\t/**\n\t * @param {import('../Component.js').default} component\n\t * @param {import('./shared/Node.js').default} parent\n\t * @param {import('./shared/TemplateScope.js').default} scope\n\t * @param {any} info\n\t */\n\tconstructor(component, parent, scope, info) {\n\t\tsuper(component, parent, scope, info);\n\t\tthis.name = info.name;\n\t\tif (info.name === 'svelte:element') {\n\t\t\tif (typeof info.tag !== 'string') {\n\t\t\t\tthis.tag_expr = new Expression(component, this, scope, info.tag);\n\t\t\t} else {\n\t\t\t\tthis.tag_expr = new Expression(\n\t\t\t\t\tcomponent,\n\t\t\t\t\tthis,\n\t\t\t\t\tscope,\n\t\t\t\t\t/** @type {import('estree').Literal} */ (string_literal(info.tag))\n\t\t\t\t);\n\t\t\t\tthis.name = info.tag;\n\t\t\t}\n\t\t} else {\n\t\t\tthis.tag_expr = new Expression(\n\t\t\t\tcomponent,\n\t\t\t\tthis,\n\t\t\t\tscope,\n\t\t\t\t/** @type {import('estree').Literal} */ (string_literal(this.name))\n\t\t\t);\n\t\t}\n\t\tthis.namespace = get_namespace(/** @type {Element} */ (parent), this, component.namespace);\n\t\tif (this.namespace !== namespaces.foreign) {\n\t\t\tif (this.name === 'pre' || this.name === 'textarea') {\n\t\t\t\tconst first = info.children[0];\n\t\t\t\tif (first && first.type === 'Text') {\n\t\t\t\t\t// The leading newline character needs to be stripped because of a quirk,\n\t\t\t\t\t// it is ignored by browsers if the tag and its contents are set through\n\t\t\t\t\t// innerHTML (NOT if set through the innerHTML of the tag or dynamically).\n\t\t\t\t\t// Therefore strip it here but add it back in the appropriate\n\t\t\t\t\t// places if there's another newline afterwards.\n\t\t\t\t\t// see https://html.spec.whatwg.org/multipage/syntax.html#element-restrictions\n\t\t\t\t\t// see https://html.spec.whatwg.org/multipage/grouping-content.html#the-pre-element\n\t\t\t\t\tfirst.data = first.data.replace(regex_starts_with_newline, '');\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (this.name === 'textarea') {\n\t\t\t\tif (info.children.length > 0) {\n\t\t\t\t\tconst value_attribute = get_value_attribute(info.attributes);\n\t\t\t\t\tif (value_attribute) {\n\t\t\t\t\t\tcomponent.error(value_attribute, compiler_errors.textarea_duplicate_value);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\t// this is an egregious hack, but it's the easiest way to get <textarea>\n\t\t\t\t\t// children treated the same way as a value attribute\n\t\t\t\t\tinfo.attributes.push({\n\t\t\t\t\t\ttype: 'Attribute',\n\t\t\t\t\t\tname: 'value',\n\t\t\t\t\t\tvalue: info.children\n\t\t\t\t\t});\n\t\t\t\t\tinfo.children = [];\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (this.name === 'option') {\n\t\t\t\t// Special case — treat these the same way:\n\t\t\t\t//   <option>{foo}</option>\n\t\t\t\t//   <option value={foo}>{foo}</option>\n\t\t\t\tconst value_attribute = get_value_attribute(info.attributes);\n\t\t\t\tif (!value_attribute) {\n\t\t\t\t\tinfo.attributes.push({\n\t\t\t\t\t\ttype: 'Attribute',\n\t\t\t\t\t\tname: 'value',\n\t\t\t\t\t\tvalue: info.children,\n\t\t\t\t\t\tsynthetic: true\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tconst has_let = info.attributes.some((node) => node.type === 'Let');\n\t\tif (has_let) {\n\t\t\tscope = scope.child();\n\t\t}\n\t\t// Binding relies on Attribute, defer its evaluation\n\t\tconst order = ['Binding']; // everything else is -1\n\t\tinfo.attributes.sort((a, b) => order.indexOf(a.type) - order.indexOf(b.type));\n\t\tinfo.attributes.forEach((node) => {\n\t\t\tswitch (node.type) {\n\t\t\t\tcase 'Action':\n\t\t\t\t\tthis.actions.push(new Action(component, this, scope, node));\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'Attribute':\n\t\t\t\tcase 'Spread':\n\t\t\t\t\t// special case\n\t\t\t\t\tif (node.name === 'xmlns') this.namespace = node.value[0].data;\n\t\t\t\t\tthis.attributes.push(new Attribute(component, this, scope, node));\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'Binding':\n\t\t\t\t\tthis.bindings.push(new Binding(component, this, scope, node));\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'Class':\n\t\t\t\t\tthis.classes.push(new Class(component, this, scope, node));\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'StyleDirective':\n\t\t\t\t\tthis.styles.push(new StyleDirective(component, this, scope, node));\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'EventHandler':\n\t\t\t\t\tthis.handlers.push(new EventHandler(component, this, scope, node));\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'Let': {\n\t\t\t\t\tconst l = new Let(component, this, scope, node);\n\t\t\t\t\tthis.lets.push(l);\n\t\t\t\t\tconst dependencies = new Set([l.name.name]);\n\t\t\t\t\tl.names.forEach((name) => {\n\t\t\t\t\t\tscope.add(name, dependencies, this);\n\t\t\t\t\t});\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tcase 'Transition': {\n\t\t\t\t\tconst transition = new Transition(component, this, scope, node);\n\t\t\t\t\tif (node.intro) this.intro = transition;\n\t\t\t\t\tif (node.outro) this.outro = transition;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tcase 'Animation':\n\t\t\t\t\tthis.animation = new Animation(component, this, scope, node);\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tthrow new Error(`Not implemented: ${node.type}`);\n\t\t\t}\n\t\t});\n\t\tthis.scope = scope;\n\t\tthis.children = map_children(component, this, this.scope, info.children);\n\t\tthis.validate();\n\t\tthis.optimise();\n\t\tcomponent.apply_stylesheet(this);\n\t\tif (this.parent) {\n\t\t\tif (\n\t\t\t\tthis.actions.length > 0 ||\n\t\t\t\tthis.animation ||\n\t\t\t\tthis.bindings.length > 0 ||\n\t\t\t\tthis.classes.length > 0 ||\n\t\t\t\tthis.intro ||\n\t\t\t\tthis.outro ||\n\t\t\t\tthis.handlers.length > 0 ||\n\t\t\t\tthis.styles.length > 0 ||\n\t\t\t\tthis.name === 'option' ||\n\t\t\t\tthis.is_dynamic_element ||\n\t\t\t\tthis.tag_expr.dynamic_dependencies().length ||\n\t\t\t\tcomponent.compile_options.dev\n\t\t\t) {\n\t\t\t\tthis.parent.cannot_use_innerhtml(); // need to use add_location\n\t\t\t\tthis.parent.not_static_content();\n\t\t\t}\n\t\t}\n\t}\n\tvalidate() {\n\t\tif (\n\t\t\tthis.component.var_lookup.has(this.name) &&\n\t\t\tthis.component.var_lookup.get(this.name).imported &&\n\t\t\t!is_svg(this.name) &&\n\t\t\t!is_html(this.name)\n\t\t) {\n\t\t\tthis.component.warn(this, compiler_warnings.component_name_lowercase(this.name));\n\t\t}\n\t\tthis.validate_attributes();\n\t\tthis.validate_event_handlers();\n\t\tif (this.namespace === namespaces.foreign) {\n\t\t\tthis.validate_bindings_foreign();\n\t\t} else {\n\t\t\tthis.validate_attributes_a11y();\n\t\t\tthis.validate_special_cases();\n\t\t\tthis.validate_bindings();\n\t\t\tthis.validate_content();\n\t\t}\n\t}\n\tvalidate_attributes() {\n\t\tconst { component, parent } = this;\n\t\tthis.attributes.forEach((attribute) => {\n\t\t\tif (attribute.is_spread) return;\n\t\t\tconst name = attribute.name.toLowerCase();\n\t\t\t// Errors\n\t\t\tif (regex_illegal_attribute_character.test(name)) {\n\t\t\t\treturn component.error(attribute, compiler_errors.illegal_attribute(name));\n\t\t\t}\n\t\t\tif (name === 'slot') {\n\t\t\t\tif (!attribute.is_static) {\n\t\t\t\t\treturn component.error(attribute, compiler_errors.invalid_slot_attribute);\n\t\t\t\t}\n\t\t\t\tif (component.slot_outlets.has(name)) {\n\t\t\t\t\treturn component.error(attribute, compiler_errors.duplicate_slot_attribute(name));\n\t\t\t\t\t// this code was unreachable. Still needed?\n\t\t\t\t\t// component.slot_outlets.add(name);\n\t\t\t\t}\n\t\t\t\tif (!(parent.type === 'SlotTemplate' || within_custom_element(parent))) {\n\t\t\t\t\treturn component.error(attribute, compiler_errors.invalid_slotted_content);\n\t\t\t\t}\n\t\t\t}\n\t\t\t// Warnings\n\t\t\tif (this.namespace !== namespaces.foreign) {\n\t\t\t\tif (name === 'is') {\n\t\t\t\t\tcomponent.warn(attribute, compiler_warnings.avoid_is);\n\t\t\t\t}\n\t\t\t\tif (react_attributes.has(attribute.name)) {\n\t\t\t\t\tcomponent.warn(\n\t\t\t\t\t\tattribute,\n\t\t\t\t\t\tcompiler_warnings.invalid_html_attribute(\n\t\t\t\t\t\t\tattribute.name,\n\t\t\t\t\t\t\treact_attributes.get(attribute.name)\n\t\t\t\t\t\t)\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\tvalidate_attributes_a11y() {\n\t\tconst { component, attributes, handlers } = this;\n\t\tconst attribute_map = new Map();\n\t\tconst handlers_map = new Map();\n\t\tattributes.forEach((attribute) => attribute_map.set(attribute.name, attribute));\n\t\thandlers.forEach((handler) => handlers_map.set(handler.name, handler));\n\t\tattributes.forEach((attribute) => {\n\t\t\tif (attribute.is_spread) return;\n\t\t\tconst name = attribute.name.toLowerCase();\n\t\t\t// aria-props\n\t\t\tif (name.startsWith('aria-')) {\n\t\t\t\tif (invisible_elements.has(this.name)) {\n\t\t\t\t\t// aria-unsupported-elements\n\t\t\t\t\tcomponent.warn(attribute, compiler_warnings.a11y_aria_attributes(this.name));\n\t\t\t\t}\n\t\t\t\tconst type = name.slice(5);\n\t\t\t\tif (!aria_attribute_set.has(type)) {\n\t\t\t\t\tconst match = fuzzymatch(type, aria_attributes);\n\t\t\t\t\tcomponent.warn(attribute, compiler_warnings.a11y_unknown_aria_attribute(type, match));\n\t\t\t\t}\n\t\t\t\tif (name === 'aria-hidden' && regex_heading_tags.test(this.name)) {\n\t\t\t\t\tcomponent.warn(attribute, compiler_warnings.a11y_hidden(this.name));\n\t\t\t\t}\n\t\t\t\t// aria-proptypes\n\t\t\t\tlet value = attribute.get_static_value();\n\t\t\t\tif (value === 'true') value = true;\n\t\t\t\tif (value === 'false') value = false;\n\t\t\t\tif (\n\t\t\t\t\tvalue !== null &&\n\t\t\t\t\tvalue !== undefined &&\n\t\t\t\t\taria.has(/** @type {import('aria-query').ARIAProperty} */ (name))\n\t\t\t\t) {\n\t\t\t\t\tconst schema = aria.get(/** @type {import('aria-query').ARIAProperty} */ (name));\n\t\t\t\t\tif (!is_valid_aria_attribute_value(schema, value)) {\n\t\t\t\t\t\tcomponent.warn(\n\t\t\t\t\t\t\tattribute,\n\t\t\t\t\t\t\tcompiler_warnings.a11y_incorrect_attribute_type(schema, name)\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t// aria-activedescendant-has-tabindex\n\t\t\t\tif (\n\t\t\t\t\tname === 'aria-activedescendant' &&\n\t\t\t\t\t!this.is_dynamic_element &&\n\t\t\t\t\t!is_interactive_element(this.name, attribute_map) &&\n\t\t\t\t\t!attribute_map.has('tabindex')\n\t\t\t\t) {\n\t\t\t\t\tcomponent.warn(attribute, compiler_warnings.a11y_aria_activedescendant_has_tabindex);\n\t\t\t\t}\n\t\t\t}\n\t\t\t// aria-role\n\t\t\tif (name === 'role') {\n\t\t\t\tif (invisible_elements.has(this.name)) {\n\t\t\t\t\t// aria-unsupported-elements\n\t\t\t\t\tcomponent.warn(attribute, compiler_warnings.a11y_misplaced_role(this.name));\n\t\t\t\t}\n\t\t\t\tconst value = attribute.get_static_value();\n\t\t\t\tif (typeof value === 'string') {\n\t\t\t\t\tvalue.split(regex_any_repeated_whitespaces).forEach(\n\t\t\t\t\t\t/** @param {import('aria-query').ARIARoleDefinitionKey} current_role */ (\n\t\t\t\t\t\t\tcurrent_role\n\t\t\t\t\t\t) => {\n\t\t\t\t\t\t\tif (current_role && is_abstract_role(current_role)) {\n\t\t\t\t\t\t\t\tcomponent.warn(attribute, compiler_warnings.a11y_no_abstract_role(current_role));\n\t\t\t\t\t\t\t} else if (current_role && !aria_role_set.has(current_role)) {\n\t\t\t\t\t\t\t\tconst match = fuzzymatch(current_role, aria_roles);\n\t\t\t\t\t\t\t\tcomponent.warn(attribute, compiler_warnings.a11y_unknown_role(current_role, match));\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t// no-redundant-roles\n\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\tcurrent_role === get_implicit_role(this.name, attribute_map) &&\n\t\t\t\t\t\t\t\t// <ul role=\"list\"> is ok because CSS list-style:none removes the semantics and this is a way to bring them back\n\t\t\t\t\t\t\t\t!['ul', 'ol', 'li'].includes(this.name)\n\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\tcomponent.warn(attribute, compiler_warnings.a11y_no_redundant_roles(current_role));\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t// Footers and headers are special cases, and should not have redundant roles unless they are the children of sections or articles.\n\t\t\t\t\t\t\tconst is_parent_section_or_article = is_parent(this.parent, ['section', 'article']);\n\t\t\t\t\t\t\tif (!is_parent_section_or_article) {\n\t\t\t\t\t\t\t\tconst has_nested_redundant_role =\n\t\t\t\t\t\t\t\t\tcurrent_role === a11y_nested_implicit_semantics.get(this.name);\n\t\t\t\t\t\t\t\tif (has_nested_redundant_role) {\n\t\t\t\t\t\t\t\t\tcomponent.warn(\n\t\t\t\t\t\t\t\t\t\tattribute,\n\t\t\t\t\t\t\t\t\t\tcompiler_warnings.a11y_no_redundant_roles(current_role)\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t// role-has-required-aria-props\n\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t!this.is_dynamic_element &&\n\t\t\t\t\t\t\t\t!is_semantic_role_element(current_role, this.name, attribute_map)\n\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\tconst role = roles.get(current_role);\n\t\t\t\t\t\t\t\tif (role) {\n\t\t\t\t\t\t\t\t\tconst required_role_props = Object.keys(role.requiredProps);\n\t\t\t\t\t\t\t\t\tconst has_missing_props = required_role_props.some(\n\t\t\t\t\t\t\t\t\t\t(prop) => !attributes.find((a) => a.name === prop)\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\tif (has_missing_props) {\n\t\t\t\t\t\t\t\t\t\tcomponent.warn(\n\t\t\t\t\t\t\t\t\t\t\tattribute,\n\t\t\t\t\t\t\t\t\t\t\tcompiler_warnings.a11y_role_has_required_aria_props(\n\t\t\t\t\t\t\t\t\t\t\t\tcurrent_role,\n\t\t\t\t\t\t\t\t\t\t\t\trequired_role_props\n\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t// interactive-supports-focus\n\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t!has_disabled_attribute(attribute_map) &&\n\t\t\t\t\t\t\t\t!is_hidden_from_screen_reader(this.name, attribute_map) &&\n\t\t\t\t\t\t\t\t!is_presentation_role(current_role) &&\n\t\t\t\t\t\t\t\tis_interactive_roles(current_role) &&\n\t\t\t\t\t\t\t\tis_static_element(this.name, attribute_map) &&\n\t\t\t\t\t\t\t\t!attribute_map.get('tabindex')\n\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\tconst has_interactive_handlers = handlers.some((handler) =>\n\t\t\t\t\t\t\t\t\ta11y_interactive_handlers.has(handler.name)\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\tif (has_interactive_handlers) {\n\t\t\t\t\t\t\t\t\tcomponent.warn(\n\t\t\t\t\t\t\t\t\t\tthis,\n\t\t\t\t\t\t\t\t\t\tcompiler_warnings.a11y_interactive_supports_focus(current_role)\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t// no-interactive-element-to-noninteractive-role\n\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\tis_interactive_element(this.name, attribute_map) &&\n\t\t\t\t\t\t\t\t(is_non_interactive_roles(current_role) || is_presentation_role(current_role))\n\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\tcomponent.warn(\n\t\t\t\t\t\t\t\t\tthis,\n\t\t\t\t\t\t\t\t\tcompiler_warnings.a11y_no_interactive_element_to_noninteractive_role(\n\t\t\t\t\t\t\t\t\t\tcurrent_role,\n\t\t\t\t\t\t\t\t\t\tthis.name\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t// no-noninteractive-element-to-interactive-role\n\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\tis_non_interactive_element(this.name, attribute_map) &&\n\t\t\t\t\t\t\t\tis_interactive_roles(current_role) &&\n\t\t\t\t\t\t\t\t!a11y_non_interactive_element_to_interactive_role_exceptions[this.name]?.includes(\n\t\t\t\t\t\t\t\t\tcurrent_role\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\tcomponent.warn(\n\t\t\t\t\t\t\t\t\tthis,\n\t\t\t\t\t\t\t\t\tcompiler_warnings.a11y_no_noninteractive_element_to_interactive_role(\n\t\t\t\t\t\t\t\t\t\tcurrent_role,\n\t\t\t\t\t\t\t\t\t\tthis.name\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}\n\t\t\t// no-access-key\n\t\t\tif (name === 'accesskey') {\n\t\t\t\tcomponent.warn(attribute, compiler_warnings.a11y_accesskey);\n\t\t\t}\n\t\t\t// no-autofocus\n\t\t\tif (name === 'autofocus') {\n\t\t\t\tcomponent.warn(attribute, compiler_warnings.a11y_autofocus);\n\t\t\t}\n\t\t\t// scope\n\t\t\tif (name === 'scope' && !this.is_dynamic_element && this.name !== 'th') {\n\t\t\t\tcomponent.warn(attribute, compiler_warnings.a11y_misplaced_scope);\n\t\t\t}\n\t\t\t// tabindex-no-positive\n\t\t\tif (name === 'tabindex') {\n\t\t\t\tconst value = attribute.get_static_value();\n\t\t\t\t// @ts-ignore todo is tabindex=true correct case?\n\t\t\t\tif (!isNaN(value) && +value > 0) {\n\t\t\t\t\tcomponent.warn(attribute, compiler_warnings.a11y_positive_tabindex);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\t// click-events-have-key-events\n\t\tif (handlers_map.has('click')) {\n\t\t\tconst role = attribute_map.get('role');\n\t\t\tconst is_non_presentation_role =\n\t\t\t\trole?.is_static &&\n\t\t\t\t!is_presentation_role(\n\t\t\t\t\t/** @type {import('aria-query').ARIARoleDefinitionKey} */ (role.get_static_value())\n\t\t\t\t);\n\t\t\tif (\n\t\t\t\t!this.is_dynamic_element &&\n\t\t\t\t!is_hidden_from_screen_reader(this.name, attribute_map) &&\n\t\t\t\t(!role || is_non_presentation_role) &&\n\t\t\t\t!is_interactive_element(this.name, attribute_map) &&\n\t\t\t\t!this.attributes.find((attr) => attr.is_spread)\n\t\t\t) {\n\t\t\t\tconst has_key_event =\n\t\t\t\t\thandlers_map.has('keydown') || handlers_map.has('keyup') || handlers_map.has('keypress');\n\t\t\t\tif (!has_key_event) {\n\t\t\t\t\tcomponent.warn(this, compiler_warnings.a11y_click_events_have_key_events);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tconst role = attribute_map.get('role');\n\t\tconst role_static_value = /** @type {import('aria-query').ARIARoleDefinitionKey} */ (\n\t\t\trole?.get_static_value()\n\t\t);\n\t\tconst role_value = /** @type {import('aria-query').ARIARoleDefinitionKey} */ (\n\t\t\trole ? role_static_value : get_implicit_role(this.name, attribute_map)\n\t\t);\n\t\t// no-noninteractive-tabindex\n\t\tif (\n\t\t\t!this.is_dynamic_element &&\n\t\t\t!is_interactive_element(this.name, attribute_map) &&\n\t\t\t!is_interactive_roles(role_static_value)\n\t\t) {\n\t\t\tconst tab_index = attribute_map.get('tabindex');\n\t\t\tif (tab_index && (!tab_index.is_static || Number(tab_index.get_static_value()) >= 0)) {\n\t\t\t\tcomponent.warn(this, compiler_warnings.a11y_no_noninteractive_tabindex);\n\t\t\t}\n\t\t}\n\t\t// role-supports-aria-props\n\t\tif (typeof role_value === 'string' && roles.has(role_value)) {\n\t\t\tconst { props } = roles.get(role_value);\n\t\t\tconst invalid_aria_props = new Set(aria.keys().filter((attribute) => !(attribute in props)));\n\t\t\tconst is_implicit = role_value && role === undefined;\n\t\t\tattributes\n\t\t\t\t.filter((prop) => prop.type !== 'Spread')\n\t\t\t\t.forEach((prop) => {\n\t\t\t\t\tif (\n\t\t\t\t\t\tinvalid_aria_props.has(/** @type {import('aria-query').ARIAProperty} */ (prop.name))\n\t\t\t\t\t) {\n\t\t\t\t\t\tcomponent.warn(\n\t\t\t\t\t\t\tprop,\n\t\t\t\t\t\t\tcompiler_warnings.a11y_role_supports_aria_props(\n\t\t\t\t\t\t\t\tprop.name,\n\t\t\t\t\t\t\t\trole_value,\n\t\t\t\t\t\t\t\tis_implicit,\n\t\t\t\t\t\t\t\tthis.name\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t}\n\t\t// no-noninteractive-element-interactions\n\t\tif (\n\t\t\t!has_contenteditable_attr(this) &&\n\t\t\t!is_hidden_from_screen_reader(this.name, attribute_map) &&\n\t\t\t!is_presentation_role(role_static_value) &&\n\t\t\t((!is_interactive_element(this.name, attribute_map) &&\n\t\t\t\tis_non_interactive_roles(role_static_value)) ||\n\t\t\t\t(is_non_interactive_element(this.name, attribute_map) && !role))\n\t\t) {\n\t\t\tconst has_interactive_handlers = handlers.some((handler) =>\n\t\t\t\ta11y_recommended_interactive_handlers.has(handler.name)\n\t\t\t);\n\t\t\tif (has_interactive_handlers) {\n\t\t\t\tcomponent.warn(\n\t\t\t\t\tthis,\n\t\t\t\t\tcompiler_warnings.a11y_no_noninteractive_element_interactions(this.name)\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t\tconst has_dynamic_role = attribute_map.get('role') && !attribute_map.get('role').is_static;\n\t\t// no-static-element-interactions\n\t\tif (\n\t\t\t!has_dynamic_role &&\n\t\t\t!is_hidden_from_screen_reader(this.name, attribute_map) &&\n\t\t\t!is_presentation_role(role_static_value) &&\n\t\t\t!is_interactive_element(this.name, attribute_map) &&\n\t\t\t!is_interactive_roles(role_static_value) &&\n\t\t\t!is_non_interactive_element(this.name, attribute_map) &&\n\t\t\t!is_non_interactive_roles(role_static_value) &&\n\t\t\t!is_abstract_role(role_static_value)\n\t\t) {\n\t\t\tconst interactive_handlers = handlers\n\t\t\t\t.map((handler) => handler.name)\n\t\t\t\t.filter((handler_name) => a11y_interactive_handlers.has(handler_name));\n\t\t\tif (interactive_handlers.length > 0) {\n\t\t\t\tcomponent.warn(\n\t\t\t\t\tthis,\n\t\t\t\t\tcompiler_warnings.a11y_no_static_element_interactions(this.name, interactive_handlers)\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t}\n\tvalidate_special_cases() {\n\t\tconst { component, attributes, handlers } = this;\n\t\tconst attribute_map = new Map();\n\t\tconst handlers_map = new Map();\n\t\tattributes.forEach((attribute) => attribute_map.set(attribute.name, attribute));\n\t\thandlers.forEach((handler) => handlers_map.set(handler.name, handler));\n\t\tif (this.name === 'a') {\n\t\t\tconst href_attribute = attribute_map.get('href') || attribute_map.get('xlink:href');\n\t\t\tconst id_attribute = attribute_map.get('id');\n\t\t\tconst name_attribute = attribute_map.get('name');\n\t\t\tconst target_attribute = attribute_map.get('target');\n\t\t\tconst aria_label_attribute = attribute_map.get('aria-label');\n\t\t\t// links with target=\"_blank\" should have noopener or noreferrer: https://developer.chrome.com/docs/lighthouse/best-practices/external-anchors-use-rel-noopener/\n\t\t\t// modern browsers add noopener by default, so we only need to check legacy browsers\n\t\t\t// legacy browsers don't support noopener so we only check for noreferrer there\n\t\t\tif (\n\t\t\t\tcomponent.compile_options.legacy &&\n\t\t\t\ttarget_attribute &&\n\t\t\t\ttarget_attribute.get_static_value() === '_blank' &&\n\t\t\t\thref_attribute\n\t\t\t) {\n\t\t\t\tconst href_static_value = href_attribute.get_static_value()\n\t\t\t\t\t? href_attribute.get_static_value().toLowerCase()\n\t\t\t\t\t: null;\n\t\t\t\tif (href_static_value === null || href_static_value.match(/^(https?:)?\\/\\//i)) {\n\t\t\t\t\tconst rel = attribute_map.get('rel');\n\t\t\t\t\tif (rel == null || rel.is_static) {\n\t\t\t\t\t\tconst rel_values = rel\n\t\t\t\t\t\t\t? rel.get_static_value().split(regex_any_repeated_whitespaces)\n\t\t\t\t\t\t\t: [];\n\t\t\t\t\t\tif (!rel || !rel_values.includes('noreferrer')) {\n\t\t\t\t\t\t\tcomponent.warn(this, {\n\t\t\t\t\t\t\t\tcode: 'security-anchor-rel-noreferrer',\n\t\t\t\t\t\t\t\tmessage:\n\t\t\t\t\t\t\t\t\t'Security: Anchor with \"target=_blank\" should have rel attribute containing the value \"noreferrer\"'\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (aria_label_attribute) {\n\t\t\t\tconst aria_value = aria_label_attribute.get_static_value();\n\t\t\t\tif (aria_value != '') {\n\t\t\t\t\tthis.contains_a11y_label = true;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (href_attribute) {\n\t\t\t\tconst href_value = href_attribute.get_static_value();\n\t\t\t\tif (href_value === '' || href_value === '#' || /^\\W*javascript:/i.test(href_value)) {\n\t\t\t\t\tcomponent.warn(\n\t\t\t\t\t\thref_attribute,\n\t\t\t\t\t\tcompiler_warnings.a11y_invalid_attribute(href_attribute.name, href_value)\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tconst id_attribute_valid = id_attribute && id_attribute.get_static_value() !== '';\n\t\t\t\tconst name_attribute_valid = name_attribute && name_attribute.get_static_value() !== '';\n\t\t\t\tif (!id_attribute_valid && !name_attribute_valid) {\n\t\t\t\t\tcomponent.warn(this, compiler_warnings.a11y_missing_attribute('a', 'an', 'href'));\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tconst required_attributes = a11y_required_attributes[this.name];\n\t\t\tif (required_attributes) {\n\t\t\t\tconst has_attribute = required_attributes.some((name) => attribute_map.has(name));\n\t\t\t\tif (!has_attribute) {\n\t\t\t\t\tshould_have_attribute(this, required_attributes);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif (this.name === 'input') {\n\t\t\tconst type = attribute_map.get('type');\n\t\t\tif (type && type.get_static_value() === 'image') {\n\t\t\t\tconst required_attributes = ['alt', 'aria-label', 'aria-labelledby'];\n\t\t\t\tconst has_attribute = required_attributes.some((name) => attribute_map.has(name));\n\t\t\t\tif (!has_attribute) {\n\t\t\t\t\tshould_have_attribute(this, required_attributes, 'input type=\"image\"');\n\t\t\t\t}\n\t\t\t}\n\t\t\t// autocomplete-valid\n\t\t\tconst autocomplete = attribute_map.get('autocomplete');\n\t\t\tif (type && autocomplete) {\n\t\t\t\tconst type_value = type.get_static_value();\n\t\t\t\tconst autocomplete_value = autocomplete.get_static_value();\n\t\t\t\tif (!is_valid_autocomplete(autocomplete_value)) {\n\t\t\t\t\tcomponent.warn(\n\t\t\t\t\t\tautocomplete,\n\t\t\t\t\t\tcompiler_warnings.a11y_autocomplete_valid(type_value, autocomplete_value)\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif (this.name === 'img') {\n\t\t\tconst alt_attribute = attribute_map.get('alt');\n\t\t\tconst aria_hidden_attribute = attribute_map.get('aria-hidden');\n\t\t\tconst aria_hidden_exist = aria_hidden_attribute && aria_hidden_attribute.get_static_value();\n\t\t\tif (alt_attribute && !aria_hidden_exist) {\n\t\t\t\tconst alt_value = alt_attribute.get_static_value();\n\t\t\t\tif (/\\b(image|picture|photo)\\b/i.test(alt_value)) {\n\t\t\t\t\tcomponent.warn(this, compiler_warnings.a11y_img_redundant_alt);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif (this.name === 'label') {\n\t\t\t/** @param {import('./interfaces.js').INode[]} children */\n\t\t\tconst has_input_child = (children) => {\n\t\t\t\tif (\n\t\t\t\t\tchildren.some(\n\t\t\t\t\t\t(child) =>\n\t\t\t\t\t\t\tchild instanceof Element && (a11y_labelable.has(child.name) || child.name === 'slot')\n\t\t\t\t\t)\n\t\t\t\t) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t\tfor (const child of children) {\n\t\t\t\t\tif (!('children' in child) || child.children.length === 0) {\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t\tif (has_input_child(child.children)) {\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn false;\n\t\t\t};\n\t\t\tif (!attribute_map.has('for') && !has_input_child(this.children)) {\n\t\t\t\tcomponent.warn(this, compiler_warnings.a11y_label_has_associated_control);\n\t\t\t}\n\t\t}\n\t\tif (this.name === 'video') {\n\t\t\tconst aria_hidden_attribute = attribute_map.get('aria-hidden');\n\t\t\tconst aria_hidden_exist = aria_hidden_attribute && aria_hidden_attribute.get_static_value();\n\t\t\tif (attribute_map.has('muted') || aria_hidden_exist === 'true') {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tlet has_caption;\n\t\t\tconst track = this.children.find(/** @param {Element} i */ (i) => i.name === 'track');\n\t\t\tif (track) {\n\t\t\t\thas_caption = track.attributes.find(\n\t\t\t\t\t(a) => a.name === 'kind' && a.get_static_value() === 'captions'\n\t\t\t\t);\n\t\t\t}\n\t\t\tif (!has_caption) {\n\t\t\t\tcomponent.warn(this, compiler_warnings.a11y_media_has_caption);\n\t\t\t}\n\t\t}\n\t\tif (a11y_distracting_elements.has(this.name)) {\n\t\t\t// no-distracting-elements\n\t\t\tcomponent.warn(this, compiler_warnings.a11y_distracting_elements(this.name));\n\t\t}\n\t\tif (this.name === 'figcaption') {\n\t\t\tlet { parent } = this;\n\t\t\tlet is_figure_parent = false;\n\t\t\twhile (parent) {\n\t\t\t\tif (/** @type {Element} */ (parent).name === 'figure') {\n\t\t\t\t\tis_figure_parent = true;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tif (parent.type === 'Element') {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tparent = parent.parent;\n\t\t\t}\n\t\t\tif (!is_figure_parent) {\n\t\t\t\tcomponent.warn(this, compiler_warnings.a11y_structure_immediate);\n\t\t\t}\n\t\t}\n\t\tif (this.name === 'figure') {\n\t\t\tconst children = this.children.filter((node) => {\n\t\t\t\tif (node.type === 'Comment') return false;\n\t\t\t\tif (node.type === 'Text') return regex_non_whitespace_character.test(node.data);\n\t\t\t\treturn true;\n\t\t\t});\n\t\t\tconst index = children.findIndex(\n\t\t\t\t(child) => /** @type {Element} */ (child).name === 'figcaption'\n\t\t\t);\n\t\t\tif (index !== -1 && index !== 0 && index !== children.length - 1) {\n\t\t\t\tcomponent.warn(children[index], compiler_warnings.a11y_structure_first_or_last);\n\t\t\t}\n\t\t}\n\t\tif (handlers_map.has('mouseover') && !handlers_map.has('focus')) {\n\t\t\tcomponent.warn(\n\t\t\t\tthis,\n\t\t\t\tcompiler_warnings.a11y_mouse_events_have_key_events('mouseover', 'focus')\n\t\t\t);\n\t\t}\n\t\tif (handlers_map.has('mouseout') && !handlers_map.has('blur')) {\n\t\t\tcomponent.warn(this, compiler_warnings.a11y_mouse_events_have_key_events('mouseout', 'blur'));\n\t\t}\n\t}\n\tvalidate_bindings_foreign() {\n\t\tthis.bindings.forEach((binding) => {\n\t\t\tif (binding.name !== 'this') {\n\t\t\t\treturn this.component.error(binding, compiler_errors.invalid_binding_foreign(binding.name));\n\t\t\t}\n\t\t});\n\t}\n\tvalidate_bindings() {\n\t\tconst { component } = this;\n\t\tconst check_type_attribute = () => {\n\t\t\tconst attribute = this.attributes.find(\n\t\t\t\t/** @param {import('./Attribute.js').default} attribute */ (attribute) =>\n\t\t\t\t\tattribute.name === 'type'\n\t\t\t);\n\t\t\tif (!attribute) return null;\n\t\t\tif (!attribute.is_static) {\n\t\t\t\treturn component.error(attribute, compiler_errors.invalid_type);\n\t\t\t}\n\t\t\tconst value = attribute.get_static_value();\n\t\t\tif (value === true) {\n\t\t\t\treturn component.error(attribute, compiler_errors.missing_type);\n\t\t\t}\n\t\t\treturn value;\n\t\t};\n\t\tthis.bindings.forEach((binding) => {\n\t\t\tconst { name } = binding;\n\t\t\tif (name === 'value') {\n\t\t\t\tif (this.name !== 'input' && this.name !== 'textarea' && this.name !== 'select') {\n\t\t\t\t\treturn component.error(\n\t\t\t\t\t\tbinding,\n\t\t\t\t\t\tcompiler_errors.invalid_binding_elements(this.name, 'value')\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t\tif (this.name === 'select') {\n\t\t\t\t\tconst attribute = this.attributes.find(\n\t\t\t\t\t\t/** @param {import('./Attribute.js').default} attribute */\n\t\t\t\t\t\t(attribute) => attribute.name === 'multiple'\n\t\t\t\t\t);\n\t\t\t\t\tif (attribute && !attribute.is_static) {\n\t\t\t\t\t\treturn component.error(attribute, compiler_errors.dynamic_multiple_attribute);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tcheck_type_attribute();\n\t\t\t\t}\n\t\t\t} else if (name === 'checked' || name === 'indeterminate') {\n\t\t\t\tif (this.name !== 'input') {\n\t\t\t\t\treturn component.error(\n\t\t\t\t\t\tbinding,\n\t\t\t\t\t\tcompiler_errors.invalid_binding_elements(this.name, name)\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t\tconst type = check_type_attribute();\n\t\t\t\tif (type !== 'checkbox') {\n\t\t\t\t\treturn component.error(\n\t\t\t\t\t\tbinding,\n\t\t\t\t\t\tcompiler_errors.invalid_binding_no_checkbox(name, type === 'radio')\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t} else if (name === 'group') {\n\t\t\t\tif (this.name !== 'input') {\n\t\t\t\t\treturn component.error(\n\t\t\t\t\t\tbinding,\n\t\t\t\t\t\tcompiler_errors.invalid_binding_elements(this.name, 'group')\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t\tconst type = check_type_attribute();\n\t\t\t\tif (type !== 'checkbox' && type !== 'radio') {\n\t\t\t\t\treturn component.error(\n\t\t\t\t\t\tbinding,\n\t\t\t\t\t\tcompiler_errors.invalid_binding_element_with(\n\t\t\t\t\t\t\t'<input type=\"checkbox\"> or <input type=\"radio\">',\n\t\t\t\t\t\t\t'group'\n\t\t\t\t\t\t)\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t} else if (name === 'files') {\n\t\t\t\tif (this.name !== 'input') {\n\t\t\t\t\treturn component.error(\n\t\t\t\t\t\tbinding,\n\t\t\t\t\t\tcompiler_errors.invalid_binding_elements(this.name, 'files')\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t\tconst type = check_type_attribute();\n\t\t\t\tif (type !== 'file') {\n\t\t\t\t\treturn component.error(\n\t\t\t\t\t\tbinding,\n\t\t\t\t\t\tcompiler_errors.invalid_binding_element_with('<input type=\"file\">', 'files')\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t} else if (name === 'open') {\n\t\t\t\tif (this.name !== 'details') {\n\t\t\t\t\treturn component.error(\n\t\t\t\t\t\tbinding,\n\t\t\t\t\t\tcompiler_errors.invalid_binding_element_with('<details>', name)\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t} else if (\n\t\t\t\tname === 'currentTime' ||\n\t\t\t\tname === 'duration' ||\n\t\t\t\tname === 'paused' ||\n\t\t\t\tname === 'buffered' ||\n\t\t\t\tname === 'seekable' ||\n\t\t\t\tname === 'played' ||\n\t\t\t\tname === 'volume' ||\n\t\t\t\tname === 'muted' ||\n\t\t\t\tname === 'playbackRate' ||\n\t\t\t\tname === 'seeking' ||\n\t\t\t\tname === 'ended' ||\n\t\t\t\tname === 'readyState'\n\t\t\t) {\n\t\t\t\tif (this.name !== 'audio' && this.name !== 'video') {\n\t\t\t\t\treturn component.error(\n\t\t\t\t\t\tbinding,\n\t\t\t\t\t\tcompiler_errors.invalid_binding_element_with('audio> or <video>', name)\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t} else if (name === 'videoHeight' || name === 'videoWidth') {\n\t\t\t\tif (this.name !== 'video') {\n\t\t\t\t\treturn component.error(\n\t\t\t\t\t\tbinding,\n\t\t\t\t\t\tcompiler_errors.invalid_binding_element_with('<video>', name)\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t} else if (regex_dimensions.test(name)) {\n\t\t\t\tif (this.name === 'svg' && (name === 'offsetWidth' || name === 'offsetHeight')) {\n\t\t\t\t\treturn component.error(\n\t\t\t\t\t\tbinding,\n\t\t\t\t\t\tcompiler_errors.invalid_binding_on(\n\t\t\t\t\t\t\tbinding.name,\n\t\t\t\t\t\t\t`<svg>. Use '${name.replace('offset', 'client')}' instead`\n\t\t\t\t\t\t)\n\t\t\t\t\t);\n\t\t\t\t} else if (is_svg(this.name)) {\n\t\t\t\t\treturn component.error(\n\t\t\t\t\t\tbinding,\n\t\t\t\t\t\tcompiler_errors.invalid_binding_on(binding.name, 'SVG elements')\n\t\t\t\t\t);\n\t\t\t\t} else if (is_void(this.name)) {\n\t\t\t\t\treturn component.error(\n\t\t\t\t\t\tbinding,\n\t\t\t\t\t\tcompiler_errors.invalid_binding_on(\n\t\t\t\t\t\t\tbinding.name,\n\t\t\t\t\t\t\t`void elements like <${this.name}>. Use a wrapper element instead`\n\t\t\t\t\t\t)\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t} else if (name === 'naturalWidth' || name === 'naturalHeight') {\n\t\t\t\tif (this.name !== 'img') {\n\t\t\t\t\treturn component.error(\n\t\t\t\t\t\tbinding,\n\t\t\t\t\t\tcompiler_errors.invalid_binding_element_with('<img>', name)\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t} else if (is_name_contenteditable(name)) {\n\t\t\t\tconst contenteditable = get_contenteditable_attr(this);\n\t\t\t\tif (!contenteditable) {\n\t\t\t\t\treturn component.error(binding, compiler_errors.missing_contenteditable_attribute);\n\t\t\t\t} else if (contenteditable && !contenteditable.is_static) {\n\t\t\t\t\treturn component.error(\n\t\t\t\t\t\tcontenteditable,\n\t\t\t\t\t\tcompiler_errors.dynamic_contenteditable_attribute\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t} else if (name !== 'this' && !regex_box_size.test(name)) {\n\t\t\t\treturn component.error(binding, compiler_errors.invalid_binding(binding.name));\n\t\t\t}\n\t\t});\n\t}\n\tvalidate_content() {\n\t\tif (!a11y_required_content.has(this.name)) return;\n\t\tif (this.contains_a11y_label) return;\n\t\tif (this.bindings.some((binding) => ['textContent', 'innerHTML'].includes(binding.name)))\n\t\t\treturn;\n\t\tif (this.children.length === 0) {\n\t\t\tthis.component.warn(this, compiler_warnings.a11y_missing_content(this.name));\n\t\t}\n\t}\n\tvalidate_event_handlers() {\n\t\tconst { component } = this;\n\t\tthis.handlers.forEach((handler) => {\n\t\t\tif (handler.modifiers.has('passive') && handler.modifiers.has('preventDefault')) {\n\t\t\t\treturn component.error(\n\t\t\t\t\thandler,\n\t\t\t\t\tcompiler_errors.invalid_event_modifier_combination('passive', 'preventDefault')\n\t\t\t\t);\n\t\t\t}\n\t\t\tif (handler.modifiers.has('passive') && handler.modifiers.has('nonpassive')) {\n\t\t\t\treturn component.error(\n\t\t\t\t\thandler,\n\t\t\t\t\tcompiler_errors.invalid_event_modifier_combination('passive', 'nonpassive')\n\t\t\t\t);\n\t\t\t}\n\t\t\thandler.modifiers.forEach((modifier) => {\n\t\t\t\tif (!valid_modifiers.has(modifier)) {\n\t\t\t\t\treturn component.error(\n\t\t\t\t\t\thandler,\n\t\t\t\t\t\tcompiler_errors.invalid_event_modifier(list(Array.from(valid_modifiers)))\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t\tif (modifier === 'passive') {\n\t\t\t\t\tif (passive_events.has(handler.name)) {\n\t\t\t\t\t\tif (handler.can_make_passive) {\n\t\t\t\t\t\t\tcomponent.warn(handler, compiler_warnings.redundant_event_modifier_for_touch);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tcomponent.warn(handler, compiler_warnings.redundant_event_modifier_passive);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (component.compile_options.legacy && (modifier === 'once' || modifier === 'passive')) {\n\t\t\t\t\t// TODO this could be supported, but it would need a few changes to\n\t\t\t\t\t// how event listeners work\n\t\t\t\t\treturn component.error(handler, compiler_errors.invalid_event_modifier_legacy(modifier));\n\t\t\t\t}\n\t\t\t});\n\t\t\tif (\n\t\t\t\tpassive_events.has(handler.name) &&\n\t\t\t\thandler.can_make_passive &&\n\t\t\t\t!handler.modifiers.has('preventDefault') &&\n\t\t\t\t!handler.modifiers.has('nonpassive')\n\t\t\t) {\n\t\t\t\t// touch/wheel events should be passive by default\n\t\t\t\thandler.modifiers.add('passive');\n\t\t\t}\n\t\t});\n\t}\n\tis_media_node() {\n\t\treturn this.name === 'audio' || this.name === 'video';\n\t}\n\tadd_css_class() {\n\t\tif (this.attributes.some((attr) => attr.is_spread)) {\n\t\t\tthis.needs_manual_style_scoping = true;\n\t\t\treturn;\n\t\t}\n\t\tconst { id } = this.component.stylesheet;\n\t\tconst class_attribute = this.attributes.find((a) => a.name === 'class');\n\t\tif (class_attribute && !class_attribute.is_true) {\n\t\t\tif (class_attribute.chunks.length === 1 && class_attribute.chunks[0].type === 'Text') {\n\t\t\t\t/** @type {import('./Text.js').default} */ (class_attribute.chunks[0]).data += ` ${id}`;\n\t\t\t} else {\n\t\t\t\t/** @type {import('./shared/Node.js').default[]} */ (class_attribute.chunks).push(\n\t\t\t\t\tnew Text(\n\t\t\t\t\t\tthis.component,\n\t\t\t\t\t\tthis,\n\t\t\t\t\t\tthis.scope,\n\t\t\t\t\t\t/** @type {any} */ ({\n\t\t\t\t\t\t\ttype: 'Text',\n\t\t\t\t\t\t\tdata: ` ${id}`,\n\t\t\t\t\t\t\tsynthetic: true\n\t\t\t\t\t\t})\n\t\t\t\t\t)\n\t\t\t\t);\n\t\t\t}\n\t\t} else {\n\t\t\tthis.attributes.push(\n\t\t\t\tnew Attribute(\n\t\t\t\t\tthis.component,\n\t\t\t\t\tthis,\n\t\t\t\t\tthis.scope,\n\t\t\t\t\t/** @type {any} */ ({\n\t\t\t\t\t\ttype: 'Attribute',\n\t\t\t\t\t\tname: 'class',\n\t\t\t\t\t\tvalue: [{ type: 'Text', data: id, synthetic: true }]\n\t\t\t\t\t})\n\t\t\t\t)\n\t\t\t);\n\t\t}\n\t}\n\tget slot_template_name() {\n\t\treturn /** @type {string} */ (\n\t\t\tthis.attributes.find((attribute) => attribute.name === 'slot').get_static_value()\n\t\t);\n\t}\n\toptimise() {\n\t\tattributes_to_compact_whitespace.forEach((attribute_name) => {\n\t\t\tconst attribute = this.attributes.find((a) => a.name === attribute_name);\n\t\t\tif (attribute && !attribute.is_true) {\n\t\t\t\tattribute.chunks.forEach((chunk, index) => {\n\t\t\t\t\tif (chunk.type === 'Text') {\n\t\t\t\t\t\tlet data = chunk.data.replace(regex_any_repeated_whitespaces, ' ');\n\t\t\t\t\t\tif (index === 0) {\n\t\t\t\t\t\t\tdata = data.trimLeft();\n\t\t\t\t\t\t} else if (index === attribute.chunks.length - 1) {\n\t\t\t\t\t\t\tdata = data.trimRight();\n\t\t\t\t\t\t}\n\t\t\t\t\t\tchunk.data = data;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t}\n\tget can_use_textcontent() {\n\t\treturn (\n\t\t\tthis.is_static_content &&\n\t\t\tthis.children.every((node) => node.type === 'Text' || node.type === 'MustacheTag')\n\t\t);\n\t}\n\tget can_optimise_to_html_string() {\n\t\tconst can_use_textcontent = this.can_use_textcontent;\n\t\tconst is_template_with_text_content = this.name === 'template' && can_use_textcontent;\n\t\treturn (\n\t\t\t!is_template_with_text_content &&\n\t\t\t!this.namespace &&\n\t\t\t(this.can_use_innerhtml || can_use_textcontent) &&\n\t\t\tthis.children.length > 0\n\t\t);\n\t}\n\tget can_optimise_hydration() {\n\t\t// In contrast to normal html string optimization, we also bail in case of mustache tags even\n\t\t// if they seem to contain static content. This is because we cannot know whether that static\n\t\t// value is different between client and server builds, e.g. {browser ? 'hi' : 'bye'} which\n\t\t// becomes {'hi'} and {'bye'} respectively.\n\t\tconst is_static_text_content =\n\t\t\tthis.is_static_content && this.children.every((node) => node.type === 'Text');\n\t\treturn this.can_optimise_to_html_string && (this.can_use_innerhtml || is_static_text_content);\n\t}\n\thash() {\n\t\treturn `svelte-${hash(this.component.source.slice(this.start, this.end))}`;\n\t}\n}\nconst regex_starts_with_vowel = /^[aeiou]/;\n\n/**\n * @param {any} node\n * @param {string[]} attributes\n * @param {any} name\n */\nfunction should_have_attribute(node, attributes, name = node.name) {\n\tconst article = regex_starts_with_vowel.test(attributes[0]) ? 'an' : 'a';\n\tconst sequence =\n\t\tattributes.length > 1\n\t\t\t? attributes.slice(0, -1).join(', ') + ` or ${attributes[attributes.length - 1]}`\n\t\t\t: attributes[0];\n\tnode.component.warn(node, compiler_warnings.a11y_missing_attribute(name, article, sequence));\n}\nconst regex_minus_sign = /-/;\n\n/** @param {import('./interfaces.js').INode} parent */\nfunction within_custom_element(parent) {\n\twhile (parent) {\n\t\tif (parent.type === 'InlineComponent') return false;\n\t\tif (parent.type === 'Element') {\n\t\t\tif (regex_minus_sign.test(parent.name) || parent.is_dynamic_element) return true;\n\t\t}\n\t\tparent = parent.parent;\n\t}\n\treturn false;\n}\n\n/**\n * @param {any[]} attributes\n */\nfunction get_value_attribute(attributes) {\n\tlet node_value;\n\tattributes.forEach((node) => {\n\t\tif (node.type !== 'Spread' && node.name.toLowerCase() === 'value') {\n\t\t\tnode_value = node;\n\t\t}\n\t\tif (node.type === 'Spread') {\n\t\t\twalk(/** @type {any} */ (node.expression), {\n\t\t\t\tenter(/** @type {import('estree').Node} */ node) {\n\t\t\t\t\tif (node_value) {\n\t\t\t\t\t\tthis.skip();\n\t\t\t\t\t}\n\t\t\t\t\tif (node.type === 'Identifier') {\n\t\t\t\t\t\tif (/** @type {import('estree').Identifier} */ (node).name.toLowerCase() === 'value') {\n\t\t\t\t\t\t\tnode_value = node;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t});\n\treturn node_value;\n}\n", "import { roles as roles_map, elementRoles } from 'aria-query';\nimport { AXObjects, AXObjectRoles, elementAXObjects } from 'axobject-query';\nimport { regex_whitespaces } from '../../utils/patterns.js';\n\nconst aria_roles = roles_map.keys();\nconst abstract_roles = new Set(aria_roles.filter((role) => roles_map.get(role).abstract));\nconst non_abstract_roles = aria_roles.filter((name) => !abstract_roles.has(name));\nconst non_interactive_roles = new Set(\n\tnon_abstract_roles\n\t\t.filter((name) => {\n\t\t\tconst role = roles_map.get(name);\n\t\t\treturn (\n\t\t\t\t// 'toolbar' does not descend from widget, but it does support\n\t\t\t\t// aria-activedescendant, thus in practice we treat it as a widget.\n\t\t\t\t// focusable tabpanel elements are recommended if any panels in a set contain content where the first element in the panel is not focusable.\n\t\t\t\t// 'generic' is meant to have no semantic meaning.\n\t\t\t\t// 'cell' is treated as CellRole by the AXObject which is interactive, so we treat 'cell' it as interactive as well.\n\t\t\t\t!['toolbar', 'tabpanel', 'generic', 'cell'].includes(name) &&\n\t\t\t\t!role.superClass.some((classes) => classes.includes('widget'))\n\t\t\t);\n\t\t})\n\t\t.concat(\n\t\t\t// The `progressbar` is descended from `widget`, but in practice, its\n\t\t\t// value is always `readonly`, so we treat it as a non-interactive role.\n\t\t\t'progressbar'\n\t\t)\n);\nconst interactive_roles = new Set(\n\tnon_abstract_roles.filter(\n\t\t(name) =>\n\t\t\t!non_interactive_roles.has(name) &&\n\t\t\t// 'generic' is meant to have no semantic meaning.\n\t\t\tname !== 'generic'\n\t)\n);\n\n/**\n * @param {import('aria-query').ARIARoleDefinitionKey} role\n */\nexport function is_non_interactive_roles(role) {\n\treturn non_interactive_roles.has(role);\n}\n\n/**\n * @param {import('aria-query').ARIARoleDefinitionKey} role\n */\nexport function is_interactive_roles(role) {\n\treturn interactive_roles.has(role);\n}\n\n/**\n * @param {import('aria-query').ARIARoleDefinitionKey} role\n */\nexport function is_abstract_role(role) {\n\treturn abstract_roles.has(role);\n}\nconst presentation_roles = new Set(['presentation', 'none']);\n\n/**\n * @param {import('aria-query').ARIARoleDefinitionKey} role\n */\nexport function is_presentation_role(role) {\n\treturn presentation_roles.has(role);\n}\n\n/**\n * @param {string} tag_name\n * @param {Map<string, import('../nodes/Attribute.js').default>} attribute_map\n */\nexport function is_hidden_from_screen_reader(tag_name, attribute_map) {\n\tif (tag_name === 'input') {\n\t\tconst type = attribute_map.get('type')?.get_static_value();\n\t\tif (type && type === 'hidden') {\n\t\t\treturn true;\n\t\t}\n\t}\n\tconst aria_hidden = attribute_map.get('aria-hidden');\n\tif (!aria_hidden) return false;\n\tif (!aria_hidden.is_static) return true;\n\tconst aria_hidden_value = aria_hidden.get_static_value();\n\treturn aria_hidden_value === true || aria_hidden_value === 'true';\n}\n\n/**\n * @param {Map<string, import('../nodes/Attribute.js').default>} attribute_map\n */\nexport function has_disabled_attribute(attribute_map) {\n\tconst disabled_attr = attribute_map.get('disabled');\n\tconst disabled_attr_value = disabled_attr && disabled_attr.get_static_value();\n\tif (disabled_attr_value) {\n\t\treturn true;\n\t}\n\tconst aria_disabled_attr = attribute_map.get('aria-disabled');\n\tif (aria_disabled_attr) {\n\t\tconst aria_disabled_attr_value = aria_disabled_attr.get_static_value();\n\t\tif (aria_disabled_attr_value === true) {\n\t\t\treturn true;\n\t\t}\n\t}\n\treturn false;\n}\n\n/**\n * @type {import('aria-query').ARIARoleRelationConcept[]}\n */\nconst non_interactive_element_role_schemas = [];\nelementRoles.entries().forEach(([schema, roles]) => {\n\tif ([...roles].every((role) => role !== 'generic' && non_interactive_roles.has(role))) {\n\t\tnon_interactive_element_role_schemas.push(schema);\n\t}\n});\n\n/**\n * @type {import('aria-query').ARIARoleRelationConcept[]}\n */\nconst interactive_element_role_schemas = [];\nelementRoles.entries().forEach(([schema, roles]) => {\n\tif ([...roles].every((role) => interactive_roles.has(role))) {\n\t\tinteractive_element_role_schemas.push(schema);\n\t}\n});\nconst interactive_ax_objects = new Set(\n\t[...AXObjects.keys()].filter((name) => AXObjects.get(name).type === 'widget')\n);\nconst non_interactive_ax_objects = new Set(\n\t[...AXObjects.keys()].filter((name) =>\n\t\t['windows', 'structure'].includes(AXObjects.get(name).type)\n\t)\n);\n\n/**\n * @type {import('aria-query').ARIARoleRelationConcept[]}\n */\nconst interactive_element_ax_object_schemas = [];\nelementAXObjects.entries().forEach(([schema, ax_object]) => {\n\tif ([...ax_object].every((role) => interactive_ax_objects.has(role))) {\n\t\tinteractive_element_ax_object_schemas.push(schema);\n\t}\n});\n\n/**\n * @type {import('aria-query').ARIARoleRelationConcept[]}\n */\nconst non_interactive_element_ax_object_schemas = [];\nelementAXObjects.entries().forEach(([schema, ax_object]) => {\n\tif ([...ax_object].every((role) => non_interactive_ax_objects.has(role))) {\n\t\tnon_interactive_element_ax_object_schemas.push(schema);\n\t}\n});\n\n/**\n * @param {import('aria-query').ARIARoleRelationConcept} schema\n * @param {string} tag_name\n * @param {Map<string, import('../nodes/Attribute.js').default>} attribute_map\n */\nfunction match_schema(schema, tag_name, attribute_map) {\n\tif (schema.name !== tag_name) return false;\n\tif (!schema.attributes) return true;\n\treturn schema.attributes.every((schema_attribute) => {\n\t\tconst attribute = attribute_map.get(schema_attribute.name);\n\t\tif (!attribute) return false;\n\t\tif (schema_attribute.value && schema_attribute.value !== attribute.get_static_value()) {\n\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\t});\n}\n\nexport const ElementInteractivity = /** @type {const} */ ({\n\tInteractive: 'interactive',\n\tNonInteractive: 'non-interactive',\n\tStatic: 'static'\n});\n\n/**\n * @param {string} tag_name\n * @param {Map<string, import('../nodes/Attribute.js').default>} attribute_map\n * @returns {ElementInteractivity[keyof ElementInteractivity]}\n */\nexport function element_interactivity(tag_name, attribute_map) {\n\tif (\n\t\tinteractive_element_role_schemas.some((schema) => match_schema(schema, tag_name, attribute_map))\n\t) {\n\t\treturn ElementInteractivity.Interactive;\n\t}\n\tif (\n\t\ttag_name !== 'header' &&\n\t\tnon_interactive_element_role_schemas.some((schema) =>\n\t\t\tmatch_schema(schema, tag_name, attribute_map)\n\t\t)\n\t) {\n\t\treturn ElementInteractivity.NonInteractive;\n\t}\n\tif (\n\t\tinteractive_element_ax_object_schemas.some((schema) =>\n\t\t\tmatch_schema(schema, tag_name, attribute_map)\n\t\t)\n\t) {\n\t\treturn ElementInteractivity.Interactive;\n\t}\n\tif (\n\t\tnon_interactive_element_ax_object_schemas.some((schema) =>\n\t\t\tmatch_schema(schema, tag_name, attribute_map)\n\t\t)\n\t) {\n\t\treturn ElementInteractivity.NonInteractive;\n\t}\n\treturn ElementInteractivity.Static;\n}\n\n/**\n * @param {string} tag_name\n * @param {Map<string, import('../nodes/Attribute.js').default>} attribute_map\n * @returns {boolean}\n */\nexport function is_interactive_element(tag_name, attribute_map) {\n\treturn element_interactivity(tag_name, attribute_map) === ElementInteractivity.Interactive;\n}\n\n/**\n * @param {string} tag_name\n * @param {Map<string, import('../nodes/Attribute.js').default>} attribute_map\n * @returns {boolean}\n */\nexport function is_non_interactive_element(tag_name, attribute_map) {\n\treturn element_interactivity(tag_name, attribute_map) === ElementInteractivity.NonInteractive;\n}\n\n/**\n * @param {string} tag_name\n * @param {Map<string, import('../nodes/Attribute.js').default>} attribute_map\n * @returns {boolean}\n */\nexport function is_static_element(tag_name, attribute_map) {\n\treturn element_interactivity(tag_name, attribute_map) === ElementInteractivity.Static;\n}\n\n/**\n * @param {import('aria-query').ARIARoleDefinitionKey} role\n * @param {string} tag_name\n * @param {Map<string, import('../nodes/Attribute.js').default>} attribute_map\n */\nexport function is_semantic_role_element(role, tag_name, attribute_map) {\n\tfor (const [schema, ax_object] of elementAXObjects.entries()) {\n\t\tif (\n\t\t\tschema.name === tag_name &&\n\t\t\t(!schema.attributes ||\n\t\t\t\tschema.attributes.every(\n\t\t\t\t\t(attr) =>\n\t\t\t\t\t\tattribute_map.has(attr.name) &&\n\t\t\t\t\t\tattribute_map.get(attr.name).get_static_value() === attr.value\n\t\t\t\t))\n\t\t) {\n\t\t\tfor (const name of ax_object) {\n\t\t\t\tconst roles = AXObjectRoles.get(name);\n\t\t\t\tif (roles) {\n\t\t\t\t\tfor (const { name } of roles) {\n\t\t\t\t\t\tif (name === role) {\n\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\treturn false;\n}\n// https://html.spec.whatwg.org/multipage/form-control-infrastructure.html#autofilling-form-controls:-the-autocomplete-attribute\nconst address_type_tokens = new Set(['shipping', 'billing']);\nconst autofill_field_name_tokens = new Set([\n\t'',\n\t'on',\n\t'off',\n\t'name',\n\t'honorific-prefix',\n\t'given-name',\n\t'additional-name',\n\t'family-name',\n\t'honorific-suffix',\n\t'nickname',\n\t'username',\n\t'new-password',\n\t'current-password',\n\t'one-time-code',\n\t'organization-title',\n\t'organization',\n\t'street-address',\n\t'address-line1',\n\t'address-line2',\n\t'address-line3',\n\t'address-level4',\n\t'address-level3',\n\t'address-level2',\n\t'address-level1',\n\t'country',\n\t'country-name',\n\t'postal-code',\n\t'cc-name',\n\t'cc-given-name',\n\t'cc-additional-name',\n\t'cc-family-name',\n\t'cc-number',\n\t'cc-exp',\n\t'cc-exp-month',\n\t'cc-exp-year',\n\t'cc-csc',\n\t'cc-type',\n\t'transaction-currency',\n\t'transaction-amount',\n\t'language',\n\t'bday',\n\t'bday-day',\n\t'bday-month',\n\t'bday-year',\n\t'sex',\n\t'url',\n\t'photo'\n]);\nconst contact_type_tokens = new Set(['home', 'work', 'mobile', 'fax', 'pager']);\nconst autofill_contact_field_name_tokens = new Set([\n\t'tel',\n\t'tel-country-code',\n\t'tel-national',\n\t'tel-area-code',\n\t'tel-local',\n\t'tel-local-prefix',\n\t'tel-local-suffix',\n\t'tel-extension',\n\t'email',\n\t'impp'\n]);\n\n/**\n * @param {null | true | string} autocomplete\n */\nexport function is_valid_autocomplete(autocomplete) {\n\tif (autocomplete === true) {\n\t\treturn false;\n\t} else if (!autocomplete) {\n\t\treturn true; // dynamic value\n\t}\n\tconst tokens = autocomplete.trim().toLowerCase().split(regex_whitespaces);\n\tif (typeof tokens[0] === 'string' && tokens[0].startsWith('section-')) {\n\t\ttokens.shift();\n\t}\n\tif (address_type_tokens.has(tokens[0])) {\n\t\ttokens.shift();\n\t}\n\tif (autofill_field_name_tokens.has(tokens[0])) {\n\t\ttokens.shift();\n\t} else {\n\t\tif (contact_type_tokens.has(tokens[0])) {\n\t\t\ttokens.shift();\n\t\t}\n\t\tif (autofill_contact_field_name_tokens.has(tokens[0])) {\n\t\t\ttokens.shift();\n\t\t} else {\n\t\t\treturn false;\n\t\t}\n\t}\n\tif (tokens[0] === 'webauthn') {\n\t\ttokens.shift();\n\t}\n\treturn tokens.length === 0;\n}\n", "import Node from './shared/Node.js';\nimport map_children from './shared/map_children.js';\nimport hash from '../utils/hash.js';\nimport compiler_errors from '../compiler_errors.js';\nimport { regex_non_whitespace_character } from '../../utils/patterns.js';\n\n/** @extends Node<'Head'> */\nexport default class Head extends Node {\n\t/** @type {any[]} */\n\tchildren; // TODO\n\n\t/** @type {string} */\n\tid;\n\n\t/**\n\t * @param {import('../Component.js').default} component\n\t * @param {import('./shared/Node.js').default} parent\n\t * @param {import('./shared/TemplateScope.js').default} scope\n\t * @param {import('../../interfaces.js').TemplateNode} info\n\t */\n\tconstructor(component, parent, scope, info) {\n\t\tsuper(component, parent, scope, info);\n\t\tthis.cannot_use_innerhtml();\n\t\tif (info.attributes.length) {\n\t\t\tcomponent.error(info.attributes[0], compiler_errors.invalid_attribute_head);\n\t\t\treturn;\n\t\t}\n\t\tthis.children = map_children(\n\t\t\tcomponent,\n\t\t\tparent,\n\t\t\tscope,\n\t\t\tinfo.children.filter((child) => {\n\t\t\t\treturn child.type !== 'Text' || regex_non_whitespace_character.test(child.data);\n\t\t\t})\n\t\t);\n\t\tif (this.children.length > 0) {\n\t\t\tthis.id = `svelte-${hash(this.component.source.slice(this.start, this.end))}`;\n\t\t}\n\t}\n}\n", "import ElseBlock from './ElseBlock.js';\nimport Expression from './shared/Expression.js';\nimport AbstractBlock from './shared/AbstractBlock.js';\nimport get_const_tags from './shared/get_const_tags.js';\n\n/** @extends AbstractBlock<'IfBlock'> */\nexport default class IfBlock extends AbstractBlock {\n\t/** @type {import('./shared/Expression.js').default} */\n\texpression;\n\n\t/** @type {import('./ElseBlock.js').default} */\n\telse;\n\n\t/** @type {import('./shared/TemplateScope.js').default} */\n\tscope;\n\n\t/** @type {import('./ConstTag.js').default[]} */\n\tconst_tags;\n\n\t/**\n\t * @param {import('../Component.js').default} component\n\t * @param {import('./shared/Node.js').default} parent\n\t * @param {import('./shared/TemplateScope.js').default} scope\n\t * @param {import('../../interfaces.js').TemplateNode} info\n\t */\n\tconstructor(component, parent, scope, info) {\n\t\tsuper(component, parent, scope, info);\n\t\tthis.scope = scope.child();\n\t\tthis.cannot_use_innerhtml();\n\t\tthis.not_static_content();\n\t\tthis.expression = new Expression(component, this, this.scope, info.expression);\n\t\t[this.const_tags, this.children] = get_const_tags(info.children, component, this, this);\n\t\tthis.else = info.else ? new ElseBlock(component, this, scope, info.else) : null;\n\t\tthis.warn_if_empty_block();\n\t}\n}\n", "import Node from './shared/Node.js';\nimport Attribute from './Attribute.js';\nimport map_children from './shared/map_children.js';\nimport Binding from './Binding.js';\nimport EventHandler from './EventHandler.js';\nimport Expression from './shared/Expression.js';\nimport compiler_errors from '../compiler_errors.js';\nimport { regex_only_whitespaces } from '../../utils/patterns.js';\n\n/** @extends Node<'InlineComponent'> */\nexport default class InlineComponent extends Node {\n\t/** @type {string} */\n\tname;\n\n\t/** @type {import('./shared/Expression.js').default} */\n\texpression;\n\n\t/** @type {import('./Binding.js').default[]} */\n\tbindings = [];\n\n\t/** @type {import('./EventHandler.js').default[]} */\n\thandlers = [];\n\n\t/** @type {import('./Attribute.js').default[]} */\n\tcss_custom_properties = [];\n\n\t/** @type {import('./interfaces.js').INode[]} */\n\tchildren;\n\n\t/** @type {import('./shared/TemplateScope.js').default} */\n\tscope;\n\n\t/** @type {string} */\n\tnamespace;\n\n\t/** @type {Attribute[]} */\n\tlet_attributes;\n\t/**\n\t * @param {import('../Component.js').default} component\n\t * @param {import('./shared/Node.js').default} parent\n\t * @param {import('./shared/TemplateScope.js').default} scope\n\t * @param {import('../../interfaces.js').TemplateNode} info\n\t */\n\tconstructor(component, parent, scope, info) {\n\t\tsuper(component, parent, scope, info);\n\t\tthis.cannot_use_innerhtml();\n\t\tthis.not_static_content();\n\t\tif (info.name !== 'svelte:component' && info.name !== 'svelte:self') {\n\t\t\tconst name = info.name.split('.')[0]; // accommodate namespaces\n\t\t\tcomponent.warn_if_undefined(name, info, scope);\n\t\t\tcomponent.add_reference(/** @type {any} */ (this), name);\n\t\t}\n\t\tthis.name = info.name;\n\t\tthis.namespace = get_namespace(parent, component.namespace);\n\t\tthis.expression =\n\t\t\tthis.name === 'svelte:component'\n\t\t\t\t? new Expression(component, this, scope, info.expression)\n\t\t\t\t: null;\n\n\t\tconst let_attributes = (this.let_attributes = []);\n\t\tinfo.attributes.forEach(\n\t\t\t/** @param {import('../../interfaces.js').BaseDirective | import('../../interfaces.js').Attribute | import('../../interfaces.js').SpreadAttribute} node */ (\n\t\t\t\tnode\n\t\t\t) => {\n\t\t\t\t/* eslint-disable no-fallthrough */\n\t\t\t\tswitch (node.type) {\n\t\t\t\t\tcase 'Action':\n\t\t\t\t\t\treturn component.error(node, compiler_errors.invalid_action);\n\t\t\t\t\tcase 'Attribute':\n\t\t\t\t\t\tif (node.name.startsWith('--')) {\n\t\t\t\t\t\t\tthis.css_custom_properties.push(new Attribute(component, this, scope, node));\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t// fallthrough\n\t\t\t\t\tcase 'Spread':\n\t\t\t\t\t\tthis.attributes.push(new Attribute(component, this, scope, node));\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'Binding':\n\t\t\t\t\t\tthis.bindings.push(new Binding(component, this, scope, node));\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'Class':\n\t\t\t\t\t\treturn component.error(node, compiler_errors.invalid_class);\n\t\t\t\t\tcase 'EventHandler':\n\t\t\t\t\t\tthis.handlers.push(new EventHandler(component, this, scope, node));\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'Let':\n\t\t\t\t\t\tlet_attributes.push(node);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'Transition':\n\t\t\t\t\t\treturn component.error(node, compiler_errors.invalid_transition);\n\t\t\t\t\tcase 'StyleDirective':\n\t\t\t\t\t\treturn component.error(node, compiler_errors.invalid_component_style_directive);\n\t\t\t\t\tcase 'Animation':\n\t\t\t\t\t\treturn component.error(node, compiler_errors.invalid_animation);\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tthrow new Error(`Not implemented: ${node.type}`);\n\t\t\t\t}\n\t\t\t\t/* eslint-enable no-fallthrough */\n\t\t\t}\n\t\t);\n\n\t\tthis.scope = scope;\n\n\t\tthis.handlers.forEach((handler) => {\n\t\t\thandler.modifiers.forEach((modifier) => {\n\t\t\t\tif (modifier !== 'once') {\n\t\t\t\t\treturn component.error(handler, compiler_errors.invalid_event_modifier_component);\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t\tconst children = [];\n\t\tfor (let i = info.children.length - 1; i >= 0; i--) {\n\t\t\tconst child = info.children[i];\n\t\t\tif (child.type === 'SlotTemplate') {\n\t\t\t\tchildren.push(child);\n\t\t\t\tinfo.children.splice(i, 1);\n\t\t\t} else if (\n\t\t\t\t(child.type === 'Element' || child.type === 'InlineComponent' || child.type === 'Slot') &&\n\t\t\t\tchild.attributes.find((attribute) => attribute.name === 'slot')\n\t\t\t) {\n\t\t\t\tconst slot_template = {\n\t\t\t\t\tstart: child.start,\n\t\t\t\t\tend: child.end,\n\t\t\t\t\ttype: 'SlotTemplate',\n\t\t\t\t\tname: 'svelte:fragment',\n\t\t\t\t\tattributes: [],\n\t\t\t\t\tchildren: [child]\n\t\t\t\t};\n\t\t\t\t// transfer attributes\n\t\t\t\tfor (let i = child.attributes.length - 1; i >= 0; i--) {\n\t\t\t\t\tconst attribute = child.attributes[i];\n\t\t\t\t\tif (attribute.type === 'Let') {\n\t\t\t\t\t\tslot_template.attributes.push(attribute);\n\t\t\t\t\t\tchild.attributes.splice(i, 1);\n\t\t\t\t\t} else if (attribute.type === 'Attribute' && attribute.name === 'slot') {\n\t\t\t\t\t\tslot_template.attributes.push(attribute);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t// transfer const\n\t\t\t\tfor (let i = child.children.length - 1; i >= 0; i--) {\n\t\t\t\t\tconst child_child = child.children[i];\n\t\t\t\t\tif (child_child.type === 'ConstTag') {\n\t\t\t\t\t\tslot_template.children.push(child_child);\n\t\t\t\t\t\tchild.children.splice(i, 1);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tchildren.push(slot_template);\n\t\t\t\tinfo.children.splice(i, 1);\n\t\t\t} else if (child.type === 'Comment' && children.length > 0) {\n\t\t\t\tchildren[children.length - 1].children.unshift(child);\n\t\t\t}\n\t\t}\n\t\tif (info.children.some((node) => not_whitespace_text(node))) {\n\t\t\tchildren.push({\n\t\t\t\tstart: info.start,\n\t\t\t\tend: info.end,\n\t\t\t\ttype: 'SlotTemplate',\n\t\t\t\tname: 'svelte:fragment',\n\t\t\t\tattributes: [],\n\t\t\t\tchildren: info.children\n\t\t\t});\n\t\t}\n\n\t\tif (let_attributes.length) {\n\t\t\t// copy let: attribute from <Component /> to <svelte:fragment slot=\"default\" />\n\t\t\t// as they are for `slot=\"default\"` only\n\t\t\tchildren.forEach((child) => {\n\t\t\t\tconst slot = child.attributes.find((attribute) => attribute.name === 'slot');\n\t\t\t\tif (!slot || slot.value[0].data === 'default') {\n\t\t\t\t\tchild.attributes.push(...let_attributes);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\tthis.children = map_children(component, this, this.scope, children);\n\t}\n\tget slot_template_name() {\n\t\treturn /** @type {string} */ (\n\t\t\tthis.attributes.find((attribute) => attribute.name === 'slot').get_static_value()\n\t\t);\n\t}\n}\n\n/** @param {any} node */\nfunction not_whitespace_text(node) {\n\treturn !(node.type === 'Text' && regex_only_whitespaces.test(node.data));\n}\n\n/**\n * @param {import('./shared/Node.js').default} parent\n * @param {string} explicit_namespace\n */\nfunction get_namespace(parent, explicit_namespace) {\n\tconst parent_element = parent.find_nearest(/^Element/);\n\tif (!parent_element) {\n\t\treturn explicit_namespace;\n\t}\n\treturn parent_element.namespace;\n}\n", "import Expression from './shared/Expression.js';\nimport map_children from './shared/map_children.js';\nimport AbstractBlock from './shared/AbstractBlock.js';\n\n/** @extends AbstractBlock<'KeyBlock'> */\nexport default class KeyBlock extends AbstractBlock {\n\t/** @type {import('./shared/Expression.js').default} */\n\texpression;\n\n\t/**\n\t * @param {import('../Component.js').default} component\n\t * @param {import('./shared/Node.js').default} parent\n\t * @param {import('./shared/TemplateScope.js').default} scope\n\t * @param {import('../../interfaces.js').TemplateNode} info\n\t */\n\tconstructor(component, parent, scope, info) {\n\t\tsuper(component, parent, scope, info);\n\t\tthis.cannot_use_innerhtml();\n\t\tthis.not_static_content();\n\t\tthis.expression = new Expression(component, this, scope, info.expression);\n\t\tthis.children = map_children(component, this, scope, info.children);\n\t\tthis.warn_if_empty_block();\n\t}\n}\n", "import Node from './Node.js';\nimport Expression from './Expression.js';\n\n/**\n * @template {'MustacheTag' | 'RawMustacheTag'} [Type='MustacheTag' | 'RawMustacheTag']\n * @extends Node<Type>\n */\nexport default class Tag extends Node {\n\t/** @type {import('./Expression.js').default} */\n\texpression;\n\n\t/** @type {boolean} */\n\tshould_cache;\n\n\t/**\n\t * @param {any} component\n\t * @param {any} parent\n\t * @param {any} scope\n\t * @param {any} info\n\t */\n\tconstructor(component, parent, scope, info) {\n\t\tsuper(component, parent, scope, info);\n\t\tcomponent.tags.push(this);\n\t\tthis.cannot_use_innerhtml();\n\t\tthis.expression = new Expression(component, this, scope, info.expression);\n\t\tthis.should_cache =\n\t\t\tinfo.expression.type !== 'Identifier' ||\n\t\t\t(this.expression.dependencies.size && scope.names.has(info.expression.name));\n\t}\n\tis_dependencies_static() {\n\t\treturn (\n\t\t\tthis.expression.dynamic_contextual_dependencies().length === 0 &&\n\t\t\tthis.expression.dynamic_dependencies().length === 0\n\t\t);\n\t}\n\tcheck_if_content_dynamic() {\n\t\tif (!this.is_dependencies_static()) {\n\t\t\tthis.not_static_content();\n\t\t}\n\t}\n}\n", "import Tag from './shared/Tag.js';\n\n/** @extends Tag<'MustacheTag'> */\nexport default class MustacheTag extends Tag {}\n", "import Node from './shared/Node.js';\n\n/** @extends Node<'Options'> */\nexport default class Options extends Node {}\n", "import Tag from './shared/Tag.js';\n\n/** @extends Tag<'RawMustacheTag'> */\nexport default class RawMustacheTag extends Tag {\n\t/**\n\t * @param {any} component\n\t * @param {any} parent\n\t * @param {any} scope\n\t * @param {any} info\n\t */\n\tconstructor(component, parent, scope, info) {\n\t\tsuper(component, parent, scope, info);\n\t\tthis.cannot_use_innerhtml();\n\t\tthis.not_static_content();\n\t}\n}\n", "import Node from './shared/Node.js';\nimport Expression from './shared/Expression.js';\n\n/** @extends Node<'DebugTag'> */\nexport default class DebugTag extends Node {\n\t/** @type {import('./shared/Expression.js').default[]} */\n\texpressions;\n\n\t/**\n\t * @param {import('../Component.js').default} component\n\t * @param {import('./interfaces.js').INode} parent\n\t * @param {import('./shared/TemplateScope.js').default} scope\n\t * @param {import('../../interfaces.js').TemplateNode} info\n\t */\n\tconstructor(component, parent, scope, info) {\n\t\tsuper(component, parent, scope, info);\n\t\tthis.expressions = info.identifiers.map(\n\t\t\t/** @param {import('estree').Node} node */ (node) => {\n\t\t\t\treturn new Expression(component, parent, scope, node);\n\t\t\t}\n\t\t);\n\t}\n}\n", "import Element from './Element.js';\nimport Attribute from './Attribute.js';\nimport compiler_errors from '../compiler_errors.js';\n\n/** @extends Element */\nexport default class Slot extends Element {\n\t/** @type {'Slot'} */\n\t// @ts-ignore Slot elements have the 'Slot' type, but TypeScript doesn't allow us to have 'Slot' when it extends Element\n\ttype = 'Slot';\n\n\t/** @type {string} */\n\tslot_name;\n\n\t/** @type {Map<string, import('./Attribute.js').default>} */\n\tvalues = new Map();\n\n\t/**\n\t * @param {import('../Component.js').default} component\n\t * @param {import('./interfaces.js').INode} parent\n\t * @param {import('./shared/TemplateScope.js').default} scope\n\t * @param {import('../../interfaces.js').TemplateNode} info\n\t */\n\tconstructor(component, parent, scope, info) {\n\t\tsuper(component, parent, scope, info);\n\t\tinfo.attributes.forEach((attr) => {\n\t\t\tif (attr.type !== 'Attribute' && attr.type !== 'Spread') {\n\t\t\t\treturn component.error(attr, compiler_errors.invalid_slot_directive);\n\t\t\t}\n\t\t\tif (attr.name === 'name') {\n\t\t\t\tif (attr.value.length !== 1 || attr.value[0].type !== 'Text') {\n\t\t\t\t\treturn component.error(attr, compiler_errors.dynamic_slot_name);\n\t\t\t\t}\n\t\t\t\tthis.slot_name = attr.value[0].data;\n\t\t\t\tif (this.slot_name === 'default') {\n\t\t\t\t\treturn component.error(attr, compiler_errors.invalid_slot_name);\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.values.set(attr.name, new Attribute(component, this, scope, attr));\n\t\t});\n\t\tif (!this.slot_name) this.slot_name = 'default';\n\n\t\tcomponent.slots.set(this.slot_name, this);\n\t\tthis.cannot_use_innerhtml();\n\t\tthis.not_static_content();\n\t}\n}\n", "import Node from './shared/Node.js';\nimport Let from './Let.js';\nimport Attribute from './Attribute.js';\nimport compiler_errors from '../compiler_errors.js';\nimport get_const_tags from './shared/get_const_tags.js';\n\n/** @extends Node<'SlotTemplate'> */\nexport default class SlotTemplate extends Node {\n\t/** @type {import('./shared/TemplateScope.js').default} */\n\tscope;\n\n\t/** @type {import('./interfaces.js').INode[]} */\n\tchildren;\n\n\t/** @type {import('./Let.js').default[]} */\n\tlets = [];\n\n\t/** @type {import('./ConstTag.js').default[]} */\n\tconst_tags;\n\n\t/** @type {import('./Attribute.js').default} */\n\tslot_attribute;\n\n\t/** @type {string} */\n\tslot_template_name = 'default';\n\n\t/**\n\t * @param {import('../Component.js').default} component\n\t * @param {import('./interfaces.js').INode} parent\n\t * @param {import('./shared/TemplateScope.js').default} scope\n\t * @param {any} info\n\t */\n\tconstructor(component, parent, scope, info) {\n\t\tsuper(component, parent, scope, info);\n\t\tthis.validate_slot_template_placement();\n\t\tscope = scope.child();\n\t\tinfo.attributes.forEach((node) => {\n\t\t\tswitch (node.type) {\n\t\t\t\tcase 'Let': {\n\t\t\t\t\tconst l = new Let(component, this, scope, node);\n\t\t\t\t\tthis.lets.push(l);\n\t\t\t\t\tconst dependencies = new Set([l.name.name]);\n\t\t\t\t\tl.names.forEach((name) => {\n\t\t\t\t\t\tscope.add(name, dependencies, this);\n\t\t\t\t\t});\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tcase 'Attribute': {\n\t\t\t\t\tif (node.name === 'slot') {\n\t\t\t\t\t\tthis.slot_attribute = new Attribute(component, this, scope, node);\n\t\t\t\t\t\tif (!this.slot_attribute.is_static) {\n\t\t\t\t\t\t\treturn component.error(node, compiler_errors.invalid_slot_attribute);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tconst value = this.slot_attribute.get_static_value();\n\t\t\t\t\t\tif (typeof value === 'boolean') {\n\t\t\t\t\t\t\treturn component.error(node, compiler_errors.invalid_slot_attribute_value_missing);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis.slot_template_name = /** @type {string} */ (value);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tthrow new Error(`Invalid attribute '${node.name}' in <svelte:fragment>`);\n\t\t\t\t}\n\t\t\t\tdefault:\n\t\t\t\t\tthrow new Error(`Not implemented: ${node.type}`);\n\t\t\t}\n\t\t});\n\t\tthis.scope = scope;\n\t\t[this.const_tags, this.children] = get_const_tags(info.children, component, this, this);\n\t}\n\tvalidate_slot_template_placement() {\n\t\tif (this.parent.type !== 'InlineComponent') {\n\t\t\treturn this.component.error(this, compiler_errors.invalid_slotted_content_fragment);\n\t\t}\n\t}\n}\n", "import Node from './shared/Node.js';\nimport map_children from './shared/map_children.js';\nimport compiler_errors from '../compiler_errors.js';\n\n/** @extends Node<'Title'> */\nexport default class Title extends Node {\n\t/** @type {import('./shared/map_children.js').Children} */\n\tchildren;\n\n\t/** @type {boolean} */\n\tshould_cache;\n\n\t/**\n\t * @param {import('../Component.js').default} component\n\t * @param {import('./shared/Node.js').default} parent\n\t * @param {import('./shared/TemplateScope.js').default} scope\n\t * @param {import('../../interfaces.js').TemplateNode} info\n\t */\n\tconstructor(component, parent, scope, info) {\n\t\tsuper(component, parent, scope, info);\n\t\tthis.children = map_children(component, parent, scope, info.children);\n\t\tif (info.attributes.length > 0) {\n\t\t\tcomponent.error(info.attributes[0], compiler_errors.illegal_attribute_title);\n\t\t\treturn;\n\t\t}\n\t\tinfo.children.forEach((child) => {\n\t\t\tif (child.type !== 'Text' && child.type !== 'MustacheTag') {\n\t\t\t\treturn component.error(child, compiler_errors.illegal_structure_title);\n\t\t\t}\n\t\t});\n\t\tthis.should_cache =\n\t\t\tinfo.children.length === 1\n\t\t\t\t? info.children[0].type !== 'Identifier' || scope.names.has(info.children[0].name)\n\t\t\t\t: true;\n\t}\n}\n", "import Node from './shared/Node.js';\nimport Binding from './Binding.js';\nimport EventHandler from './EventHandler.js';\nimport flatten_reference from '../utils/flatten_reference.js';\nimport fuzzymatch from '../../utils/fuzzymatch.js';\nimport list from '../../utils/list.js';\nimport Action from './Action.js';\nimport compiler_errors from '../compiler_errors.js';\n\nconst valid_bindings = [\n\t'innerWidth',\n\t'innerHeight',\n\t'outerWidth',\n\t'outerHeight',\n\t'scrollX',\n\t'scrollY',\n\t'devicePixelRatio',\n\t'online'\n];\n\n/** @extends Node<'Window'> */\nexport default class Window extends Node {\n\t/** @type {import('./EventHandler.js').default[]} */\n\thandlers = [];\n\n\t/** @type {import('./Binding.js').default[]} */\n\tbindings = [];\n\n\t/** @type {import('./Action.js').default[]} */\n\tactions = [];\n\n\t/**\n\t * @param {import('../Component.js').default} component\n\t * @param {import('./shared/Node.js').default} parent\n\t * @param {import('./shared/TemplateScope.js').default} scope\n\t * @param {import('../../interfaces.js').TemplateNode} info\n\t */\n\tconstructor(component, parent, scope, info) {\n\t\tsuper(component, parent, scope, info);\n\t\tinfo.attributes.forEach((node) => {\n\t\t\tif (node.type === 'EventHandler') {\n\t\t\t\tthis.handlers.push(new EventHandler(component, this, scope, node));\n\t\t\t} else if (node.type === 'Binding') {\n\t\t\t\tif (node.expression.type !== 'Identifier') {\n\t\t\t\t\tconst { parts } = flatten_reference(node.expression);\n\t\t\t\t\t// TODO is this constraint necessary?\n\t\t\t\t\treturn component.error(node.expression, compiler_errors.invalid_binding_window(parts));\n\t\t\t\t}\n\t\t\t\tif (!~valid_bindings.indexOf(node.name)) {\n\t\t\t\t\tconst match =\n\t\t\t\t\t\tnode.name === 'width'\n\t\t\t\t\t\t\t? 'innerWidth'\n\t\t\t\t\t\t\t: node.name === 'height'\n\t\t\t\t\t\t\t? 'innerHeight'\n\t\t\t\t\t\t\t: fuzzymatch(node.name, valid_bindings);\n\t\t\t\t\tif (match) {\n\t\t\t\t\t\treturn component.error(\n\t\t\t\t\t\t\tnode,\n\t\t\t\t\t\t\tcompiler_errors.invalid_binding_on(\n\t\t\t\t\t\t\t\tnode.name,\n\t\t\t\t\t\t\t\t'<svelte:window>',\n\t\t\t\t\t\t\t\t` (did you mean '${match}'?)`\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t);\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn component.error(\n\t\t\t\t\t\t\tnode,\n\t\t\t\t\t\t\tcompiler_errors.invalid_binding_on(\n\t\t\t\t\t\t\t\tnode.name,\n\t\t\t\t\t\t\t\t'<svelte:window>',\n\t\t\t\t\t\t\t\t` — valid bindings are ${list(valid_bindings)}`\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tthis.bindings.push(new Binding(component, this, scope, node));\n\t\t\t} else if (node.type === 'Action') {\n\t\t\t\tthis.actions.push(new Action(component, this, scope, node));\n\t\t\t} else {\n\t\t\t\t// TODO there shouldn't be anything else here...\n\t\t\t}\n\t\t});\n\t}\n}\n", "/**\n * Pushes all `items` into `array` using `push`, therefore mutating the array.\n * We do this for memory and perf reasons, and because `array.push(...items)` would\n * run into a \"max call stack size exceeded\" error with too many items (~65k).\n * @template T\n * @param {T[]} array\n * @param {T[]} items\n */\nexport function push_array(array, items) {\n\tfor (let i = 0; i < items.length; i++) {\n\t\tarray.push(items[i]);\n\t}\n}\n", "import AwaitBlock from '../AwaitBlock.js';\nimport Body from '../Body.js';\nimport ConstTag from '../ConstTag.js';\nimport Comment from '../Comment.js';\nimport EachBlock from '../EachBlock.js';\nimport Document from '../Document.js';\nimport Element from '../Element.js';\nimport Head from '../Head.js';\nimport IfBlock from '../IfBlock.js';\nimport InlineComponent from '../InlineComponent.js';\nimport KeyBlock from '../KeyBlock.js';\nimport MustacheTag from '../MustacheTag.js';\nimport Options from '../Options.js';\nimport RawMustacheTag from '../RawMustacheTag.js';\nimport DebugTag from '../DebugTag.js';\nimport Slot from '../Slot.js';\nimport SlotTemplate from '../SlotTemplate.js';\nimport Text from '../Text.js';\nimport Title from '../Title.js';\nimport Window from '../Window.js';\nimport { push_array } from '../../../utils/push_array.js';\n\n/** @typedef {ReturnType<typeof map_children>} Children */\n\n/** @param {any} type */\nfunction get_constructor(type) {\n\tswitch (type) {\n\t\tcase 'AwaitBlock':\n\t\t\treturn AwaitBlock;\n\t\tcase 'Body':\n\t\t\treturn Body;\n\t\tcase 'Comment':\n\t\t\treturn Comment;\n\t\tcase 'ConstTag':\n\t\t\treturn ConstTag;\n\t\tcase 'Document':\n\t\t\treturn Document;\n\t\tcase 'EachBlock':\n\t\t\treturn EachBlock;\n\t\tcase 'Element':\n\t\t\treturn Element;\n\t\tcase 'Head':\n\t\t\treturn Head;\n\t\tcase 'IfBlock':\n\t\t\treturn IfBlock;\n\t\tcase 'InlineComponent':\n\t\t\treturn InlineComponent;\n\t\tcase 'KeyBlock':\n\t\t\treturn KeyBlock;\n\t\tcase 'MustacheTag':\n\t\t\treturn MustacheTag;\n\t\tcase 'Options':\n\t\t\treturn Options;\n\t\tcase 'RawMustacheTag':\n\t\t\treturn RawMustacheTag;\n\t\tcase 'DebugTag':\n\t\t\treturn DebugTag;\n\t\tcase 'Slot':\n\t\t\treturn Slot;\n\t\tcase 'SlotTemplate':\n\t\t\treturn SlotTemplate;\n\t\tcase 'Text':\n\t\t\treturn Text;\n\t\tcase 'Title':\n\t\t\treturn Title;\n\t\tcase 'Window':\n\t\t\treturn Window;\n\t\tdefault:\n\t\t\tthrow new Error(`Not implemented: ${type}`);\n\t}\n}\n\n/**\n * @param {any} component\n * @param {any} parent\n * @param {any} scope\n * @param {import('../../../interfaces.js').TemplateNode[]} children\n */\nexport default function map_children(component, parent, scope, children) {\n\tlet last = null;\n\tlet ignores = [];\n\treturn children.map((child) => {\n\t\tconst constructor = get_constructor(child.type);\n\t\tconst use_ignores = child.type !== 'Text' && child.type !== 'Comment' && ignores.length;\n\t\tif (use_ignores) component.push_ignores(ignores);\n\t\tconst node = new constructor(component, parent, scope, child);\n\t\tif (use_ignores) component.pop_ignores(), (ignores = []);\n\t\tif (node.type === 'Comment' && node.ignores.length) {\n\t\t\tpush_array(ignores, node.ignores);\n\t\t}\n\t\tif (last) last.next = node;\n\t\tnode.prev = last;\n\t\tlast = node;\n\t\treturn node;\n\t});\n}\n", "/**\n * @param {Array<[any, any]>} edges\n * @returns {any[]}\n */\nexport default function check_graph_for_cycles(edges) {\n\t/** @type {Map<any, any[]>} */\n\tconst graph = edges.reduce((g, edge) => {\n\t\tconst [u, v] = edge;\n\t\tif (!g.has(u)) g.set(u, []);\n\t\tif (!g.has(v)) g.set(v, []);\n\t\tg.get(u).push(v);\n\t\treturn g;\n\t}, new Map());\n\n\tconst visited = new Set();\n\tconst on_stack = new Set();\n\tconst cycles = [];\n\n\tfunction visit(v) {\n\t\tvisited.add(v);\n\t\ton_stack.add(v);\n\n\t\tgraph.get(v).forEach((w) => {\n\t\t\tif (!visited.has(w)) {\n\t\t\t\tvisit(w);\n\t\t\t} else if (on_stack.has(w)) {\n\t\t\t\tcycles.push([...on_stack, w]);\n\t\t\t}\n\t\t});\n\n\t\ton_stack.delete(v);\n\t}\n\n\tgraph.forEach((_, v) => {\n\t\tif (!visited.has(v)) {\n\t\t\tvisit(v);\n\t\t}\n\t});\n\n\treturn cycles[0];\n}\n", "import ConstTag from '../ConstTag.js';\nimport map_children from './map_children.js';\nimport check_graph_for_cycles from '../../utils/check_graph_for_cycles.js';\nimport compiler_errors from '../../compiler_errors.js';\n\n/**\n * @param {import('../../../interfaces.js').TemplateNode[]} children\n * @param {import('../../Component.js').default} component\n * @param {import('../interfaces.js').INodeAllowConstTag} node\n * @param {import('../interfaces.js').INode} parent\n * @returns {[ConstTag[], Array<Exclude<import('../interfaces.js').INode, ConstTag>>]}\n */\nexport default function get_const_tags(children, component, node, parent) {\n\t/** @type {import('../../../interfaces.js').ConstTag[]} */\n\tconst const_tags = [];\n\n\t/** @type {Array<Exclude<import('../../../interfaces.js').TemplateNode, import('../../../interfaces.js').ConstTag>>} */\n\tconst others = [];\n\tfor (const child of children) {\n\t\tif (child.type === 'ConstTag') {\n\t\t\tconst_tags.push(/** @type {import('../../../interfaces.js').ConstTag} */ (child));\n\t\t} else {\n\t\t\tothers.push(child);\n\t\t}\n\t}\n\tconst consts_nodes = const_tags.map((tag) => new ConstTag(component, node, node.scope, tag));\n\tconst sorted_consts_nodes = sort_consts_nodes(consts_nodes, component);\n\tsorted_consts_nodes.forEach((node) => node.parse_expression());\n\tconst children_nodes = map_children(component, parent, node.scope, others);\n\treturn [\n\t\tsorted_consts_nodes,\n\t\t/** @type {Array<Exclude<import('../interfaces.js').INode, ConstTag>>} */ (children_nodes)\n\t];\n}\n\n/**\n * @param {ConstTag[]} consts_nodes\n * @param {import('../../Component.js').default} component\n */\nfunction sort_consts_nodes(consts_nodes, component) {\n\t/** @typedef {{ assignees: Set<string>; dependencies: Set<string>; node: ConstTag; }} ConstNode */\n\n\t/** @type {ConstNode[]} */\n\tconst sorted_consts_nodes = [];\n\n\t/** @type {ConstNode[]} */\n\tconst unsorted_consts_nodes = consts_nodes.map((node) => {\n\t\treturn {\n\t\t\tassignees: node.assignees,\n\t\t\tdependencies: node.dependencies,\n\t\t\tnode\n\t\t};\n\t});\n\tconst lookup = new Map();\n\tunsorted_consts_nodes.forEach((node) => {\n\t\tnode.assignees.forEach((name) => {\n\t\t\tif (!lookup.has(name)) {\n\t\t\t\tlookup.set(name, []);\n\t\t\t}\n\t\t\tlookup.get(name).push(node);\n\t\t});\n\t});\n\tconst cycle = check_graph_for_cycles(\n\t\tunsorted_consts_nodes.reduce((acc, node) => {\n\t\t\tnode.assignees.forEach((v) => {\n\t\t\t\tnode.dependencies.forEach((w) => {\n\t\t\t\t\tif (!node.assignees.has(w)) {\n\t\t\t\t\t\tacc.push([v, w]);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t\treturn acc;\n\t\t}, [])\n\t);\n\tif (cycle && cycle.length) {\n\t\tconst node_list = lookup.get(cycle[0]);\n\t\tconst node = node_list[0];\n\t\tcomponent.error(node.node, compiler_errors.cyclical_const_tags(cycle));\n\t}\n\n\t/** @param {ConstNode} node */\n\tconst add_node = (node) => {\n\t\tif (sorted_consts_nodes.includes(node)) return;\n\t\tnode.dependencies.forEach((name) => {\n\t\t\tif (node.assignees.has(name)) return;\n\t\t\tconst earlier_nodes = lookup.get(name);\n\t\t\tif (earlier_nodes) {\n\t\t\t\tearlier_nodes.forEach(add_node);\n\t\t\t}\n\t\t});\n\t\tsorted_consts_nodes.push(node);\n\t};\n\tunsorted_consts_nodes.forEach(add_node);\n\treturn sorted_consts_nodes.map((node) => node.node);\n}\n", "import AbstractBlock from './shared/AbstractBlock.js';\nimport get_const_tags from './shared/get_const_tags.js';\n\n/** @extends AbstractBlock<'ThenBlock'> */\nexport default class ThenBlock extends AbstractBlock {\n\t/** @type {import('./shared/TemplateScope.js').default} */\n\tscope;\n\n\t/** @type {import('./ConstTag.js').default[]} */\n\tconst_tags;\n\n\t/**\n\t * @param {import('../Component.js').default} component\n\t * @param {import('./AwaitBlock.js').default} parent\n\t * @param {import('./shared/TemplateScope.js').default} scope\n\t * @param {import('../../interfaces.js').TemplateNode} info\n\t */\n\tconstructor(component, parent, scope, info) {\n\t\tsuper(component, parent, scope, info);\n\t\tthis.scope = scope.child();\n\t\tif (parent.then_node) {\n\t\t\tparent.then_contexts.forEach((context) => {\n\t\t\t\tif (context.type !== 'DestructuredVariable') return;\n\t\t\t\tthis.scope.add(context.key.name, parent.expression.dependencies, this);\n\t\t\t});\n\t\t}\n\t\t[this.const_tags, this.children] = get_const_tags(info.children, component, this, parent);\n\t\tif (!info.skip) {\n\t\t\tthis.warn_if_empty_block();\n\t\t}\n\t}\n}\n", "import { b, x } from 'code-red';\nimport Expression from '../../../nodes/shared/Expression.js';\n\n/**\n * @param {import('../../Block.js').default} block\n * @param {import('../../../nodes/ConstTag.js').default[]} const_tags\n * @param {string} ctx\n */\nexport function add_const_tags(block, const_tags, ctx) {\n\tconst const_tags_props = [];\n\tconst_tags.forEach((const_tag, i) => {\n\t\tconst name = `#constants_${i}`;\n\t\tconst_tags_props.push(b`const ${name} = ${const_tag.expression.manipulate(block, ctx)}`);\n\n\t\t/** @param {string} name */\n\t\tconst to_ctx = (name) =>\n\t\t\tblock.renderer.context_lookup.has(name)\n\t\t\t\t? x`${ctx}[${block.renderer.context_lookup.get(name).index}]`\n\t\t\t\t: /** @type {import('code-red').Node} */ ({ type: 'Identifier', name });\n\t\tconst_tag.contexts.forEach((context) => {\n\t\t\tif (context.type === 'DestructuredVariable') {\n\t\t\t\tconst_tags_props.push(\n\t\t\t\t\tb`${ctx}[${\n\t\t\t\t\t\tblock.renderer.context_lookup.get(context.key.name).index\n\t\t\t\t\t}] = ${context.default_modifier(context.modifier({ type: 'Identifier', name }), to_ctx)}`\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\tconst expression = new Expression(\n\t\t\t\t\tblock.renderer.component,\n\t\t\t\t\tconst_tag,\n\t\t\t\t\tconst_tag.scope,\n\t\t\t\t\tcontext.key\n\t\t\t\t);\n\t\t\t\tconst_tags_props.push(\n\t\t\t\t\tb`const ${context.property_name} = ${expression.manipulate(block, ctx)}`\n\t\t\t\t);\n\t\t\t}\n\t\t});\n\t});\n\treturn const_tags_props;\n}\n\n/**\n * @param {import('../../Renderer.js').default} renderer\n * @param {import('../../../nodes/ConstTag.js').default[]} const_tags\n */\nexport function add_const_tags_context(renderer, const_tags) {\n\tconst_tags.forEach((const_tag) => {\n\t\tconst_tag.contexts.forEach((context) => {\n\t\t\tif (context.type !== 'DestructuredVariable') return;\n\t\t\trenderer.add_to_context(context.key.name, true);\n\t\t});\n\t});\n}\n", "import Wrapper from './shared/Wrapper.js';\nimport create_debugging_comment from './shared/create_debugging_comment.js';\nimport { b, x } from 'code-red';\nimport FragmentWrapper from './Fragment.js';\nimport ThenBlock from '../../nodes/ThenBlock.js';\nimport CatchBlock from '../../nodes/CatchBlock.js';\nimport { add_const_tags, add_const_tags_context } from './shared/add_const_tags.js';\nimport Expression from '../../nodes/shared/Expression.js';\n\n/** @extends Wrapper<import('../../nodes/PendingBlock.js').default | import('../../nodes/ThenBlock.js').default | import('../../nodes/CatchBlock.js').default> */\nclass AwaitBlockBranch extends Wrapper {\n\t/** @typedef {'pending' | 'then' | 'catch'} Status */\n\n\t/** @type {import('../Block.js').default} */\n\tblock;\n\n\t/** @type {import('./Fragment.js').default} */\n\tfragment;\n\n\t/** @type {boolean} */\n\tis_dynamic;\n\n\tvar = null;\n\n\t/** @type {Status} */\n\tstatus;\n\n\t/** @type {string} */\n\tvalue;\n\n\t/** @type {import('estree').Literal} */\n\tvalue_index;\n\n\t/** @type {import('../../nodes/shared/Context.js').Context[]} */\n\tvalue_contexts;\n\n\t/** @type {boolean} */\n\tis_destructured;\n\n\t/**\n\t * @param {Status} status\n\t * @param {import('../Renderer.js').default} renderer\n\t * @param {import('../Block.js').default} block\n\t * @param {AwaitBlockWrapper} parent\n\t * @param {import('../../nodes/PendingBlock.js').default | import('../../nodes/ThenBlock.js').default | import('../../nodes/CatchBlock.js').default} node\n\t * @param {boolean} strip_whitespace\n\t * @param {import('./shared/Wrapper.js').default} next_sibling\n\t */\n\tconstructor(status, renderer, block, parent, node, strip_whitespace, next_sibling) {\n\t\tsuper(renderer, block, parent, node);\n\t\tthis.status = status;\n\t\tthis.block = block.child({\n\t\t\tcomment: create_debugging_comment(node, this.renderer.component),\n\t\t\tname: this.renderer.component.get_unique_name(`create_${status}_block`),\n\t\t\ttype: status\n\t\t});\n\t\tthis.add_context(parent.node[status + '_node'], parent.node[status + '_contexts']);\n\t\tthis.fragment = new FragmentWrapper(\n\t\t\trenderer,\n\t\t\tthis.block,\n\t\t\tthis.node.children,\n\t\t\tparent,\n\t\t\tstrip_whitespace,\n\t\t\tnext_sibling\n\t\t);\n\t\tthis.is_dynamic = this.block.dependencies.size > 0;\n\t}\n\n\t/**\n\t * @param {import('estree').Node | null} node\n\t * @param {import('../../nodes/shared/Context.js').Context[]} contexts\n\t */\n\tadd_context(node, contexts) {\n\t\tif (!node) return;\n\t\tif (node.type === 'Identifier') {\n\t\t\tthis.value = node.name;\n\t\t\tthis.renderer.add_to_context(this.value, true);\n\t\t} else {\n\t\t\tcontexts.forEach((context) => {\n\t\t\t\tif (context.type !== 'DestructuredVariable') return;\n\t\t\t\tthis.renderer.add_to_context(context.key.name, true);\n\t\t\t});\n\t\t\tthis.value = this.block.parent.get_unique_name('value').name;\n\t\t\tthis.value_contexts = contexts;\n\t\t\tthis.renderer.add_to_context(this.value, true);\n\t\t\tthis.is_destructured = true;\n\t\t}\n\t\tthis.value_index = this.renderer.context_lookup.get(this.value).index;\n\t\tif (this.has_consts(this.node)) {\n\t\t\tadd_const_tags_context(this.renderer, this.node.const_tags);\n\t\t}\n\t}\n\n\t/**\n\t * @param {import('../../nodes/PendingBlock.js').default | import('../../nodes/ThenBlock.js').default | import('../../nodes/CatchBlock.js').default} node\n\t * @returns {node is import('../../nodes/ThenBlock.js').default | import('../../nodes/CatchBlock.js').default}\n\t */\n\thas_consts(node) {\n\t\treturn node instanceof ThenBlock || node instanceof CatchBlock;\n\t}\n\n\t/**\n\t * @param {import('../Block.js').default} block\n\t * @param {import('estree').Identifier} parent_node\n\t * @param {import('estree').Identifier} parent_nodes\n\t */\n\trender(block, parent_node, parent_nodes) {\n\t\tthis.fragment.render(block, parent_node, parent_nodes);\n\t\tif (this.is_destructured || (this.has_consts(this.node) && this.node.const_tags.length > 0)) {\n\t\t\tthis.render_get_context();\n\t\t}\n\t}\n\trender_get_context() {\n\t\tconst props = this.is_destructured\n\t\t\t? this.value_contexts.map((prop) => {\n\t\t\t\t\tif (prop.type === 'ComputedProperty') {\n\t\t\t\t\t\tconst expression = new Expression(\n\t\t\t\t\t\t\tthis.renderer.component,\n\t\t\t\t\t\t\tthis.node,\n\t\t\t\t\t\t\tthis.has_consts(this.node) ? this.node.scope : null,\n\t\t\t\t\t\t\tprop.key\n\t\t\t\t\t\t);\n\t\t\t\t\t\treturn b`const ${prop.property_name} = ${expression.manipulate(this.block, '#ctx')};`;\n\t\t\t\t\t} else {\n\t\t\t\t\t\t/** @param {any} name */\n\t\t\t\t\t\tconst to_ctx = (name) => this.renderer.reference(name);\n\t\t\t\t\t\treturn b`#ctx[${\n\t\t\t\t\t\t\tthis.block.renderer.context_lookup.get(prop.key.name).index\n\t\t\t\t\t\t}] = ${prop.default_modifier(prop.modifier(x`#ctx[${this.value_index}]`), to_ctx)};`;\n\t\t\t\t\t}\n\t\t\t  })\n\t\t\t: null;\n\t\tconst const_tags_props = this.has_consts(this.node)\n\t\t\t? add_const_tags(this.block, this.node.const_tags, '#ctx')\n\t\t\t: null;\n\t\tconst get_context = this.block.renderer.component.get_unique_name(`get_${this.status}_context`);\n\t\tthis.block.renderer.blocks.push(b`\n\t\t\tfunction ${get_context}(#ctx) {\n\t\t\t\t${props}\n\t\t\t\t${const_tags_props}\n\t\t\t}\n\t\t`);\n\t\tthis.block.chunks.declarations.push(b`${get_context}(#ctx)`);\n\t\tif (this.block.has_update_method) {\n\t\t\tthis.block.chunks.update.unshift(b`${get_context}(#ctx)`);\n\t\t}\n\t}\n}\n\n/** @extends Wrapper<import('../../nodes/AwaitBlock.js').default> */\nexport default class AwaitBlockWrapper extends Wrapper {\n\t/** @type {AwaitBlockBranch} */\n\tpending;\n\n\t/** @type {AwaitBlockBranch} */\n\tthen;\n\n\t/** @type {AwaitBlockBranch} */\n\tcatch;\n\n\t/** @type {import('estree').Identifier} */\n\tvar = { type: 'Identifier', name: 'await_block' };\n\n\t/**\n\t * @param {import('../Renderer.js').default} renderer\n\t * @param {import('../Block.js').default} block\n\t * @param {import('./shared/Wrapper.js').default} parent\n\t * @param {import('../../nodes/AwaitBlock.js').default} node\n\t * @param {boolean} strip_whitespace\n\t * @param {import('./shared/Wrapper.js').default} next_sibling\n\t */\n\tconstructor(renderer, block, parent, node, strip_whitespace, next_sibling) {\n\t\tsuper(renderer, block, parent, node);\n\t\tblock.add_dependencies(this.node.expression.dependencies);\n\t\tlet is_dynamic = false;\n\t\tlet has_intros = false;\n\t\tlet has_outros = false;\n\t\t/** @type {const} */ (['pending', 'then', 'catch']).forEach((status) => {\n\t\t\tconst child = this.node[status];\n\t\t\tconst branch = new AwaitBlockBranch(\n\t\t\t\tstatus,\n\t\t\t\trenderer,\n\t\t\t\tblock,\n\t\t\t\tthis,\n\t\t\t\tchild,\n\t\t\t\tstrip_whitespace,\n\t\t\t\tnext_sibling\n\t\t\t);\n\t\t\trenderer.blocks.push(branch.block);\n\t\t\tif (branch.is_dynamic) {\n\t\t\t\tis_dynamic = true;\n\t\t\t\t// TODO should blocks update their own parents?\n\t\t\t\tblock.add_dependencies(branch.block.dependencies);\n\t\t\t}\n\t\t\tif (branch.block.has_intros) has_intros = true;\n\t\t\tif (branch.block.has_outros) has_outros = true;\n\t\t\tthis[status] = branch;\n\t\t});\n\t\t['pending', 'then', 'catch'].forEach((status) => {\n\t\t\tthis[status].block.has_update_method = is_dynamic;\n\t\t\tthis[status].block.has_intro_method = has_intros;\n\t\t\tthis[status].block.has_outro_method = has_outros;\n\t\t});\n\t\tif (has_outros) {\n\t\t\tblock.add_outro();\n\t\t}\n\t}\n\n\t/**\n\t * @param {import('../Block.js').default} block\n\t * @param {import('estree').Identifier} parent_node\n\t * @param {import('estree').Identifier} parent_nodes\n\t */\n\trender(block, parent_node, parent_nodes) {\n\t\tconst anchor = this.get_or_create_anchor(block, parent_node, parent_nodes);\n\t\tconst update_mount_node = this.get_update_mount_node(anchor);\n\t\tconst snippet = this.node.expression.manipulate(block);\n\t\tconst info = block.get_unique_name('info');\n\t\tconst promise = block.get_unique_name('promise');\n\t\tblock.add_variable(promise);\n\t\tblock.maintain_context = true;\n\n\t\t/** @type {any} */\n\t\tconst info_props = x`{\n\t\t\tctx: #ctx,\n\t\t\tcurrent: null,\n\t\t\ttoken: null,\n\t\t\thasCatch: ${this.catch.node.start !== null ? 'true' : 'false'},\n\t\t\tpending: ${this.pending.block.name},\n\t\t\tthen: ${this.then.block.name},\n\t\t\tcatch: ${this.catch.block.name},\n\t\t\tvalue: ${this.then.value_index},\n\t\t\terror: ${this.catch.value_index},\n\t\t\tblocks: ${this.pending.block.has_outro_method && x`[,,,]`}\n\t\t}`;\n\t\tblock.chunks.init.push(b`\n\t\t\tlet ${info} = ${info_props};\n\t\t`);\n\t\tblock.chunks.init.push(b`\n\t\t\t@handle_promise(${promise} = ${snippet}, ${info});\n\t\t`);\n\t\tblock.chunks.create.push(b`\n\t\t\t${info}.block.c();\n\t\t`);\n\t\tif (parent_nodes && this.renderer.options.hydratable) {\n\t\t\tblock.chunks.claim.push(b`\n\t\t\t\t${info}.block.l(${parent_nodes});\n\t\t\t`);\n\t\t}\n\t\tconst initial_mount_node = parent_node || '#target';\n\t\tconst anchor_node = parent_node ? 'null' : '#anchor';\n\t\tconst has_transitions =\n\t\t\tthis.pending.block.has_intro_method || this.pending.block.has_outro_method;\n\t\tblock.chunks.mount.push(b`\n\t\t\t${info}.block.m(${initial_mount_node}, ${info}.anchor = ${anchor_node});\n\t\t\t${info}.mount = () => ${update_mount_node};\n\t\t\t${info}.anchor = ${anchor};\n\t\t`);\n\t\tif (has_transitions) {\n\t\t\tblock.chunks.intro.push(b`@transition_in(${info}.block);`);\n\t\t}\n\t\tconst dependencies = this.node.expression.dynamic_dependencies();\n\t\tconst update_await_block_branch = b`@update_await_block_branch(${info}, #ctx, #dirty)`;\n\t\tif (dependencies.length > 0) {\n\t\t\tconst condition = x`\n\t\t\t\t${block.renderer.dirty(dependencies)} &&\n\t\t\t\t${promise} !== (${promise} = ${snippet}) &&\n\t\t\t\t@handle_promise(${promise}, ${info})`;\n\t\t\tblock.chunks.update.push(b`${info}.ctx = #ctx;`);\n\t\t\tif (this.pending.block.has_update_method) {\n\t\t\t\tblock.chunks.update.push(b`\n\t\t\t\t\tif (${condition}) {\n\n\t\t\t\t\t} else {\n\t\t\t\t\t\t${update_await_block_branch}\n\t\t\t\t\t}\n\t\t\t\t`);\n\t\t\t} else {\n\t\t\t\tblock.chunks.update.push(b`\n\t\t\t\t\t${condition}\n\t\t\t\t`);\n\t\t\t}\n\t\t} else {\n\t\t\tif (this.pending.block.has_update_method) {\n\t\t\t\tblock.chunks.update.push(b`\n\t\t\t\t\t${update_await_block_branch}\n\t\t\t\t`);\n\t\t\t}\n\t\t}\n\t\tif (this.pending.block.has_outro_method) {\n\t\t\tblock.chunks.outro.push(b`\n\t\t\t\tfor (let #i = 0; #i < 3; #i += 1) {\n\t\t\t\t\tconst block = ${info}.blocks[#i];\n\t\t\t\t\t@transition_out(block);\n\t\t\t\t}\n\t\t\t`);\n\t\t}\n\t\tblock.chunks.destroy.push(b`\n\t\t\t${info}.block.d(${parent_node ? null : 'detaching'});\n\t\t\t${info}.token = null;\n\t\t\t${info} = null;\n\t\t`);\n\t\t[this.pending, this.then, this.catch].forEach((branch) => {\n\t\t\tbranch.render(branch.block, null, /** @type {import('estree').Identifier} */ (x`#nodes`));\n\t\t});\n\t}\n}\n", "import { b, x, p } from 'code-red';\n\nconst TRUE = x`true`;\nconst FALSE = x`false`;\n\nexport default class EventHandlerWrapper {\n\t/** @type {import('../../../nodes/EventHandler.js').default} */\n\tnode;\n\n\t/** @type {import('../shared/Wrapper.js').default} */\n\tparent;\n\n\t/**\n\t * @param {import('../../../nodes/EventHandler.js').default} node\n\t * @param {import('../shared/Wrapper.js').default} parent\n\t */\n\tconstructor(node, parent) {\n\t\tthis.node = node;\n\t\tthis.parent = parent;\n\t\tif (!node.expression) {\n\t\t\tthis.parent.renderer.add_to_context(node.handler_name.name);\n\t\t\tthis.parent.renderer.component.partly_hoisted.push(b`\n\t\t\t\tfunction ${node.handler_name.name}(event) {\n\t\t\t\t\t@bubble.call(this, $$self, event);\n\t\t\t\t}\n\t\t\t`);\n\t\t}\n\t}\n\n\t/** @param {import('../../Block.js').default} block */\n\tget_snippet(block) {\n\t\tconst snippet = this.node.expression\n\t\t\t? this.node.expression.manipulate(block)\n\t\t\t: block.renderer.reference(this.node.handler_name);\n\t\tif (this.node.reassigned) {\n\t\t\tblock.maintain_context = true;\n\t\t\treturn x`function () { if (@is_function(${snippet})) ${snippet}.apply(this, arguments); }`;\n\t\t}\n\t\treturn snippet;\n\t}\n\n\t/**\n\t * @param {import('../../Block.js').default} block\n\t * @param {string | import('estree').Expression} target\n\t */\n\trender(block, target) {\n\t\tlet snippet = this.get_snippet(block);\n\t\tif (this.node.modifiers.has('preventDefault')) snippet = x`@prevent_default(${snippet})`;\n\t\tif (this.node.modifiers.has('stopPropagation')) snippet = x`@stop_propagation(${snippet})`;\n\t\tif (this.node.modifiers.has('stopImmediatePropagation'))\n\t\t\tsnippet = x`@stop_immediate_propagation(${snippet})`;\n\t\tif (this.node.modifiers.has('self')) snippet = x`@self(${snippet})`;\n\t\tif (this.node.modifiers.has('trusted')) snippet = x`@trusted(${snippet})`;\n\t\tconst args = [];\n\t\tconst opts = ['nonpassive', 'passive', 'once', 'capture'].filter((mod) =>\n\t\t\tthis.node.modifiers.has(mod)\n\t\t);\n\t\tif (opts.length) {\n\t\t\tif (opts.length === 1 && opts[0] === 'capture') {\n\t\t\t\targs.push(TRUE);\n\t\t\t} else {\n\t\t\t\targs.push(\n\t\t\t\t\tx`{ ${opts.map((opt) => (opt === 'nonpassive' ? p`passive: false` : p`${opt}: true`))} }`\n\t\t\t\t);\n\t\t\t}\n\t\t} else if (block.renderer.options.dev) {\n\t\t\targs.push(FALSE);\n\t\t}\n\t\tif (block.renderer.options.dev) {\n\t\t\targs.push(this.node.modifiers.has('preventDefault') ? TRUE : FALSE);\n\t\t\targs.push(this.node.modifiers.has('stopPropagation') ? TRUE : FALSE);\n\t\t\targs.push(this.node.modifiers.has('stopImmediatePropagation') ? TRUE : FALSE);\n\t\t}\n\t\tblock.event_listeners.push(x`@listen(${target}, \"${this.node.name}\", ${snippet}, ${args})`);\n\t}\n}\n", "/**\n * @param {import('../../Block.js').default} block\n * @param {string | import('estree').Expression} target\n * @param {import('../Element/EventHandler.js').default[]} handlers\n */\nexport default function add_event_handlers(block, target, handlers) {\n\thandlers.forEach((handler) => add_event_handler(block, target, handler));\n}\n\n/**\n * @param {import('../../Block.js').default} block\n * @param {string | import('estree').Expression} target\n * @param {import('../Element/EventHandler.js').default} handler\n */\nexport function add_event_handler(block, target, handler) {\n\thandler.render(block, target);\n}\n", "import { b, x } from 'code-red';\nimport is_contextual from '../../../nodes/shared/is_contextual.js';\n\n/**\n * @param {import('../../Block.js').default} block\n * @param {string | import('estree').Expression} target\n * @param {import('../../../nodes/Action.js').default[]} actions\n */\nexport default function add_actions(block, target, actions) {\n\tactions.forEach((action) => add_action(block, target, action));\n}\n\nconst regex_invalid_variable_identifier_characters = /[^a-zA-Z0-9_$]/g;\n\n/**\n * @param {import('../../Block.js').default} block\n * @param {string | import('estree').Expression} target\n * @param {import('../../../nodes/Action.js').default} action\n */\nexport function add_action(block, target, action) {\n\tconst { expression, template_scope } = action;\n\n\t/** @type {import('estree').Node | undefined} */\n\tlet snippet;\n\n\t/** @type {string[] | undefined} */\n\tlet dependencies;\n\tif (expression) {\n\t\tsnippet = expression.manipulate(block);\n\t\tdependencies = expression.dynamic_dependencies();\n\t}\n\tconst id = block.get_unique_name(\n\t\t`${action.name.replace(regex_invalid_variable_identifier_characters, '_')}_action`\n\t);\n\tblock.add_variable(id);\n\tconst [obj, ...properties] = action.name.split('.');\n\tconst fn = is_contextual(action.component, template_scope, obj)\n\t\t? block.renderer.reference(obj)\n\t\t: obj;\n\tif (properties.length) {\n\t\tconst member_expression = properties.reduce((lhs, rhs) => x`${lhs}.${rhs}`, fn);\n\t\tblock.event_listeners.push(\n\t\t\tx`@action_destroyer(${id} = ${member_expression}(${target}, ${snippet}))`\n\t\t);\n\t} else {\n\t\tblock.event_listeners.push(\n\t\t\tx`@action_destroyer(${id} = ${fn}.call(null, ${target}, ${snippet}))`\n\t\t);\n\t}\n\tif (dependencies && dependencies.length > 0) {\n\t\tlet condition = x`${id} && @is_function(${id}.update)`;\n\t\tif (dependencies.length > 0) {\n\t\t\tcondition = x`${condition} && ${block.renderer.dirty(dependencies)}`;\n\t\t}\n\t\tblock.chunks.update.push(b`if (${condition}) ${id}.update.call(null, ${snippet});`);\n\t}\n}\n", "import Wrapper from './shared/Wrapper.js';\nimport { x } from 'code-red';\nimport EventHandler from './Element/EventHandler.js';\nimport add_event_handlers from './shared/add_event_handlers.js';\nimport add_actions from './shared/add_actions.js';\n\n/** @extends Wrapper<import('../../nodes/Body.js').default> */\nexport default class BodyWrapper extends Wrapper {\n\t/** @type {import('./Element/EventHandler.js').default[]} */\n\thandlers;\n\n\t/**\n\t * @param {import('../Renderer.js').default} renderer\n\t * @param {import('../Block.js').default} block\n\t * @param {import('./shared/Wrapper.js').default} parent\n\t * @param {import('../../nodes/Body.js').default} node\n\t */\n\tconstructor(renderer, block, parent, node) {\n\t\tsuper(renderer, block, parent, node);\n\t\tthis.handlers = this.node.handlers.map((handler) => new EventHandler(handler, this));\n\t}\n\n\t/**\n\t * @param {import('../Block.js').default} block\n\t * @param {import('estree').Identifier} _parent_node\n\t * @param {import('estree').Identifier} _parent_nodes\n\t */\n\trender(block, _parent_node, _parent_nodes) {\n\t\tadd_event_handlers(block, x`@_document.body`, this.handlers);\n\t\tadd_actions(block, x`@_document.body`, this.node.actions);\n\t}\n}\n", "import Wrapper from './shared/Wrapper.js';\nimport add_to_set from '../../utils/add_to_set.js';\nimport { b, p } from 'code-red';\n\n/** @extends Wrapper<import('../../nodes/DebugTag.js').default> */\nexport default class DebugTagWrapper extends Wrapper {\n\t/**\n\t * @param {import('../Renderer.js').default} renderer\n\t * @param {import('../Block.js').default} block\n\t * @param {import('./shared/Wrapper.js').default} parent\n\t * @param {import('../../nodes/DebugTag.js').default} node\n\t * @param {boolean} _strip_whitespace\n\t * @param {import('./shared/Wrapper.js').default} _next_sibling\n\t */\n\tconstructor(renderer, block, parent, node, _strip_whitespace, _next_sibling) {\n\t\tsuper(renderer, block, parent, node);\n\t}\n\n\t/**\n\t * @param {import('../Block.js').default} block\n\t * @param {import('estree').Identifier} _parent_node\n\t * @param {import('estree').Identifier} _parent_nodes\n\t */\n\trender(block, _parent_node, _parent_nodes) {\n\t\tconst { renderer } = this;\n\t\tconst { component } = renderer;\n\t\tif (!renderer.options.dev) return;\n\t\tconst { var_lookup } = component;\n\t\tconst start = component.locate(this.node.start + 1);\n\t\tconst end = { line: start.line, column: start.column + 6 };\n\t\tconst loc = { start, end };\n\n\t\t/** @type {import('estree').DebuggerStatement} */\n\t\tconst debug = {\n\t\t\ttype: 'DebuggerStatement',\n\t\t\tloc\n\t\t};\n\t\tif (this.node.expressions.length === 0) {\n\t\t\t// Debug all\n\t\t\tblock.chunks.create.push(debug);\n\t\t\tblock.chunks.update.push(debug);\n\t\t} else {\n\t\t\t/** @type {import('estree').Identifier} */\n\t\t\tconst log = {\n\t\t\t\ttype: 'Identifier',\n\t\t\t\tname: 'log',\n\t\t\t\tloc\n\t\t\t};\n\n\t\t\t/** @type {Set<string>} */\n\t\t\tconst dependencies = new Set();\n\t\t\tthis.node.expressions.forEach((expression) => {\n\t\t\t\tadd_to_set(dependencies, expression.dependencies);\n\t\t\t});\n\t\t\tconst contextual_identifiers = this.node.expressions\n\t\t\t\t.filter((e) => {\n\t\t\t\t\tconst variable = var_lookup.get(/** @type {import('estree').Identifier} */ (e.node).name);\n\t\t\t\t\treturn !(variable && variable.hoistable);\n\t\t\t\t})\n\t\t\t\t.map((e) => /** @type {import('estree').Identifier} */ (e.node).name);\n\t\t\tconst logged_identifiers = this.node.expressions.map(\n\t\t\t\t(e) => p`${/** @type {import('estree').Identifier} */ (e.node).name}`\n\t\t\t);\n\t\t\tconst debug_statements = b`\n\t\t\t\t${contextual_identifiers.map((name) => b`const ${name} = ${renderer.reference(name)};`)}\n\t\t\t\t@_console.${log}({ ${logged_identifiers} });\n\t\t\t\tdebugger;`;\n\t\t\tif (dependencies.size) {\n\t\t\t\tconst condition = renderer.dirty(Array.from(dependencies));\n\t\t\t\tblock.chunks.update.push(b`\n\t\t\t\t\tif (${condition}) {\n\t\t\t\t\t\t${debug_statements}\n\t\t\t\t\t}\n\t\t\t\t`);\n\t\t\t}\n\t\t\tblock.chunks.create.push(b`{\n\t\t\t\t${debug_statements}\n\t\t\t}`);\n\t\t}\n\t}\n}\n", "import Wrapper from './shared/Wrapper.js';\nimport { b, x } from 'code-red';\nimport EventHandler from './Element/EventHandler.js';\nimport add_event_handlers from './shared/add_event_handlers.js';\nimport add_actions from './shared/add_actions.js';\n\nconst associated_events = {\n\tfullscreenElement: ['fullscreenchange'],\n\tvisibilityState: ['visibilitychange']\n};\nconst readonly = new Set(['fullscreenElement', 'visibilityState']);\n\n/** @extends Wrapper<import('../../nodes/Document.js').default> */\nexport default class DocumentWrapper extends Wrapper {\n\t/** @type {import('./Element/EventHandler.js').default[]} */\n\thandlers;\n\n\t/**\n\t * @param {import('../Renderer.js').default} renderer\n\t * @param {import('../Block.js').default} block\n\t * @param {import('./shared/Wrapper.js').default} parent\n\t * @param {import('../../nodes/Document.js').default} node\n\t */\n\tconstructor(renderer, block, parent, node) {\n\t\tsuper(renderer, block, parent, node);\n\t\tthis.handlers = this.node.handlers.map((handler) => new EventHandler(handler, this));\n\t}\n\n\t/**\n\t * @param {import('../Block.js').default} block\n\t * @param {import('estree').Identifier} _parent_node\n\t * @param {import('estree').Identifier} _parent_nodes\n\t */\n\trender(block, _parent_node, _parent_nodes) {\n\t\tconst { renderer } = this;\n\t\tconst { component } = renderer;\n\n\t\t/** @type {Record<string, Array<{ name: string; value: string }>>} */\n\t\tconst events = {};\n\n\t\t/** @type {Record<string, string>} */\n\t\tconst bindings = {};\n\t\tadd_event_handlers(block, x`@_document`, this.handlers);\n\t\tadd_actions(block, x`@_document`, this.node.actions);\n\t\tthis.node.bindings.forEach((binding) => {\n\t\t\t// TODO: what if it's a MemberExpression?\n\t\t\tconst binding_name = /** @type {import('estree').Identifier} */ (binding.expression.node)\n\t\t\t\t.name;\n\t\t\t// in dev mode, throw if read-only values are written to\n\t\t\tif (readonly.has(binding.name)) {\n\t\t\t\trenderer.readonly.add(binding_name);\n\t\t\t}\n\t\t\tbindings[binding.name] = binding_name;\n\t\t\tconst binding_events = associated_events[binding.name];\n\t\t\tconst property = binding.name;\n\t\t\tbinding_events.forEach((associated_event) => {\n\t\t\t\tif (!events[associated_event]) events[associated_event] = [];\n\t\t\t\tevents[associated_event].push({\n\t\t\t\t\tname: binding_name,\n\t\t\t\t\tvalue: property\n\t\t\t\t});\n\t\t\t});\n\t\t});\n\t\tObject.keys(events).forEach((event) => {\n\t\t\tconst id = block.get_unique_name(`ondocument${event}`);\n\t\t\tconst props = events[event];\n\t\t\trenderer.add_to_context(id.name);\n\t\t\tconst fn = renderer.reference(id.name);\n\t\t\tprops.forEach((prop) => {\n\t\t\t\trenderer.meta_bindings.push(b`this._state.${prop.name} = @_document.${prop.value};`);\n\t\t\t});\n\t\t\tblock.event_listeners.push(x`\n\t\t\t\t@listen(@_document, \"${event}\", ${fn})\n\t\t\t`);\n\t\t\tcomponent.partly_hoisted.push(b`\n\t\t\t\tfunction ${id}() {\n\t\t\t\t\t${props.map((prop) => renderer.invalidate(prop.name, x`${prop.name} = @_document.${prop.value}`))}\n\t\t\t\t}\n\t\t\t`);\n\t\t\tblock.chunks.init.push(b`\n\t\t\t\t@add_render_callback(${fn});\n\t\t\t`);\n\t\t\tcomponent.has_reactive_assignments = true;\n\t\t});\n\t}\n}\n", "import Wrapper from './shared/Wrapper.js';\nimport create_debugging_comment from './shared/create_debugging_comment.js';\nimport FragmentWrapper from './Fragment.js';\nimport { b, x } from 'code-red';\nimport get_object from '../../utils/get_object.js';\nimport { add_const_tags, add_const_tags_context } from './shared/add_const_tags.js';\nimport Expression from '../../nodes/shared/Expression.js';\n\n/** @extends Wrapper<import('../../nodes/ElseBlock.js').default> */\nexport class ElseBlockWrapper extends Wrapper {\n\t/** @type {import('../Block.js').default} */\n\tblock;\n\n\t/** @type {import('./Fragment.js').default} */\n\tfragment;\n\n\t/** @type {boolean} */\n\tis_dynamic;\n\n\tvar = null;\n\n\t/**\n\t * @param {import('../Renderer.js').default} renderer\n\t * @param {import('../Block.js').default} block\n\t * @param {import('./shared/Wrapper.js').default} parent\n\t * @param {import('../../nodes/ElseBlock.js').default} node\n\t * @param {boolean} strip_whitespace\n\t * @param {import('./shared/Wrapper.js').default} next_sibling\n\t */\n\tconstructor(renderer, block, parent, node, strip_whitespace, next_sibling) {\n\t\tsuper(renderer, block, parent, node);\n\t\tadd_const_tags_context(renderer, this.node.const_tags);\n\t\tthis.block = block.child({\n\t\t\tcomment: create_debugging_comment(node, this.renderer.component),\n\t\t\tname: this.renderer.component.get_unique_name('create_else_block'),\n\t\t\ttype: 'else'\n\t\t});\n\t\tthis.fragment = new FragmentWrapper(\n\t\t\trenderer,\n\t\t\tthis.block,\n\t\t\tthis.node.children,\n\t\t\tparent,\n\t\t\tstrip_whitespace,\n\t\t\tnext_sibling\n\t\t);\n\t\tthis.is_dynamic = this.block.dependencies.size > 0;\n\t}\n}\n\n/** @extends Wrapper<import('../../nodes/EachBlock.js').default> */\nexport default class EachBlockWrapper extends Wrapper {\n\t/** @type {import('../Block.js').default} */\n\tblock;\n\n\t/** @type {import('./Fragment.js').default} */\n\tfragment;\n\n\t/** @type {ElseBlockWrapper} */\n\telse;\n\t/**\n\t * @type {{\n\t * \t\tcreate_each_block: import('estree').Identifier;\n\t * \t\teach_block_value: import('estree').Identifier;\n\t * \t\tget_each_context: import('estree').Identifier;\n\t * \t\titerations: import('estree').Identifier;\n\t * \t\tfixed_length: number;\n\t * \t\tdata_length: import('estree').Node | number;\n\t * \t\tview_length: import('estree').Node | number;\n\t * \t}}\n\t */\n\tvars;\n\n\t/** @type {Array<import('estree').Node | import('estree').Node[]>} */\n\tcontext_props;\n\n\t/** @type {import('estree').Identifier} */\n\tindex_name;\n\n\t/** @type {Array<import('estree').Node | import('estree').Node[]>} */\n\tupdates = [];\n\n\t/** @type {Set<string>} */\n\tdependencies;\n\n\t/** @type {import('estree').Identifier} */\n\tvar = { type: 'Identifier', name: 'each' };\n\n\t/**\n\t * @param {import('../Renderer.js').default} renderer\n\t * @param {import('../Block.js').default} block\n\t * @param {import('./shared/Wrapper.js').default} parent\n\t * @param {import('../../nodes/EachBlock.js').default} node\n\t * @param {boolean} strip_whitespace\n\t * @param {import('./shared/Wrapper.js').default} next_sibling\n\t */\n\tconstructor(renderer, block, parent, node, strip_whitespace, next_sibling) {\n\t\tsuper(renderer, block, parent, node);\n\t\tconst { dependencies } = node.expression;\n\t\tblock.add_dependencies(dependencies);\n\t\tthis.node.contexts.forEach((context) => {\n\t\t\tif (context.type !== 'DestructuredVariable') return;\n\t\t\trenderer.add_to_context(context.key.name, true);\n\t\t});\n\t\tadd_const_tags_context(renderer, this.node.const_tags);\n\t\tthis.block = block.child({\n\t\t\tcomment: create_debugging_comment(this.node, this.renderer.component),\n\t\t\tname: renderer.component.get_unique_name('create_each_block'),\n\t\t\ttype: 'each',\n\t\t\t// @ts-ignore todo: probably error\n\t\t\tkey: /** @type {string} */ (node.key),\n\t\t\tbindings: new Map(block.bindings)\n\t\t});\n\t\t// TODO this seems messy\n\t\tthis.block.has_animation = this.node.has_animation;\n\t\tthis.index_name = this.node.index\n\t\t\t? { type: 'Identifier', name: this.node.index }\n\t\t\t: renderer.component.get_unique_name(`${this.node.context}_index`);\n\t\tconst fixed_length =\n\t\t\tnode.expression.node.type === 'ArrayExpression' &&\n\t\t\tnode.expression.node.elements.every((element) => element.type !== 'SpreadElement')\n\t\t\t\t? node.expression.node.elements.length\n\t\t\t\t: null;\n\t\t// hack the sourcemap, so that if data is missing the bug\n\t\t// is easy to find\n\t\tlet c = this.node.start + 2;\n\t\twhile (renderer.component.source[c] !== 'e') c += 1;\n\t\tconst start = renderer.component.locate(c);\n\t\tconst end = { line: start.line, column: start.column + 4 };\n\t\tconst length = {\n\t\t\ttype: 'Identifier',\n\t\t\tname: 'length',\n\t\t\tloc: { start, end }\n\t\t};\n\t\tconst each_block_value = renderer.component.get_unique_name(`${this.var.name}_value`);\n\t\tconst iterations = block.get_unique_name(`${this.var.name}_blocks`);\n\t\trenderer.add_to_context(each_block_value.name, true);\n\t\trenderer.add_to_context(this.index_name.name, true);\n\t\tthis.vars = {\n\t\t\tcreate_each_block: this.block.name,\n\t\t\teach_block_value,\n\t\t\tget_each_context: renderer.component.get_unique_name(`get_${this.var.name}_context`),\n\t\t\titerations,\n\t\t\t// optimisation for array literal\n\t\t\tfixed_length,\n\t\t\tdata_length: fixed_length === null ? x`${each_block_value}.${length}` : fixed_length,\n\t\t\tview_length: fixed_length === null ? x`${iterations}.length` : fixed_length\n\t\t};\n\t\tconst object = get_object(node.expression.node);\n\t\tconst store =\n\t\t\tobject.type === 'Identifier' && object.name[0] === '$' ? object.name.slice(1) : null;\n\t\tnode.contexts.forEach((prop) => {\n\t\t\tif (prop.type !== 'DestructuredVariable') return;\n\t\t\tthis.block.bindings.set(prop.key.name, {\n\t\t\t\tobject: this.vars.each_block_value,\n\t\t\t\tproperty: this.index_name,\n\t\t\t\tmodifier: prop.modifier,\n\t\t\t\tsnippet: prop.modifier(\n\t\t\t\t\t/** @type {import('estree').Node} */ (\n\t\t\t\t\t\tx`${this.vars.each_block_value}[${this.index_name}]`\n\t\t\t\t\t)\n\t\t\t\t),\n\t\t\t\tstore\n\t\t\t});\n\t\t});\n\t\tif (this.node.index) {\n\t\t\tthis.block.get_unique_name(this.node.index); // this prevents name collisions (#1254)\n\t\t}\n\t\trenderer.blocks.push(this.block);\n\t\tthis.fragment = new FragmentWrapper(\n\t\t\trenderer,\n\t\t\tthis.block,\n\t\t\tnode.children,\n\t\t\tthis,\n\t\t\tstrip_whitespace,\n\t\t\tnext_sibling\n\t\t);\n\t\tif (this.node.else) {\n\t\t\tthis.else = new ElseBlockWrapper(\n\t\t\t\trenderer,\n\t\t\t\tblock,\n\t\t\t\tthis,\n\t\t\t\tthis.node.else,\n\t\t\t\tstrip_whitespace,\n\t\t\t\tnext_sibling\n\t\t\t);\n\t\t\trenderer.blocks.push(this.else.block);\n\t\t\tif (this.else.is_dynamic) {\n\t\t\t\tthis.block.add_dependencies(this.else.block.dependencies);\n\t\t\t}\n\t\t}\n\t\tblock.add_dependencies(this.block.dependencies);\n\t\tif (this.block.has_outros || (this.else && this.else.block.has_outros)) {\n\t\t\tblock.add_outro();\n\t\t}\n\t}\n\n\t/**\n\t * @param {import('../Block.js').default} block\n\t * @param {import('estree').Identifier} parent_node\n\t * @param {import('estree').Identifier} parent_nodes\n\t */\n\trender(block, parent_node, parent_nodes) {\n\t\tif (this.fragment.nodes.length === 0) return;\n\t\tconst { renderer } = this;\n\t\tconst { component } = renderer;\n\t\tconst needs_anchor = this.next\n\t\t\t? !this.next.is_dom_node()\n\t\t\t: !parent_node || !this.parent.is_dom_node();\n\t\tconst snippet = x`@ensure_array_like(${this.node.expression.manipulate(block)})`;\n\t\tblock.chunks.init.push(b`let ${this.vars.each_block_value} = ${snippet};`);\n\n\t\t/** @type {import('estree').Identifier} */\n\t\tconst initial_anchor_node = {\n\t\t\ttype: 'Identifier',\n\t\t\tname: parent_node ? 'null' : '#anchor'\n\t\t};\n\n\t\t/** @type {import('estree').Identifier} */\n\t\tconst initial_mount_node = parent_node || { type: 'Identifier', name: '#target' };\n\t\tconst update_anchor_node = needs_anchor\n\t\t\t? block.get_unique_name(`${this.var.name}_anchor`)\n\t\t\t: (this.next && this.next.var) || { type: 'Identifier', name: 'null' };\n\n\t\t/** @type {import('estree').Identifier} */\n\t\tconst update_mount_node = this.get_update_mount_node(\n\t\t\t/** @type {import('estree').Identifier} */ (update_anchor_node)\n\t\t);\n\t\tconst args = {\n\t\t\tblock,\n\t\t\tparent_node,\n\t\t\tparent_nodes,\n\t\t\tsnippet,\n\t\t\tinitial_anchor_node,\n\t\t\tinitial_mount_node,\n\t\t\tupdate_anchor_node,\n\t\t\tupdate_mount_node\n\t\t};\n\t\tconst all_dependencies = new Set(this.block.dependencies); // TODO should be dynamic deps only\n\t\tthis.node.expression.dynamic_dependencies().forEach((dependency) => {\n\t\t\tall_dependencies.add(dependency);\n\t\t});\n\t\tif (this.node.key) {\n\t\t\tthis.node.key.dynamic_dependencies().forEach((dependency) => {\n\t\t\t\tall_dependencies.add(dependency);\n\t\t\t});\n\t\t}\n\t\tthis.dependencies = all_dependencies;\n\t\tif (this.node.key) {\n\t\t\tthis.render_keyed(args);\n\t\t} else {\n\t\t\tthis.render_unkeyed(args);\n\t\t}\n\t\tif (this.block.has_intro_method || this.block.has_outro_method) {\n\t\t\tblock.chunks.intro.push(b`\n\t\t\t\tfor (let #i = 0; #i < ${this.vars.data_length}; #i += 1) {\n\t\t\t\t\t@transition_in(${this.vars.iterations}[#i]);\n\t\t\t\t}\n\t\t\t`);\n\t\t}\n\t\tif (needs_anchor) {\n\t\t\tblock.add_element(\n\t\t\t\t/** @type {import('estree').Identifier} */ (update_anchor_node),\n\t\t\t\tx`@empty()`,\n\t\t\t\tparent_nodes && x`@empty()`,\n\t\t\t\tparent_node\n\t\t\t);\n\t\t}\n\t\tif (this.else) {\n\t\t\tlet else_ctx = x`#ctx`;\n\t\t\tif (this.else.node.const_tags.length > 0) {\n\t\t\t\tconst get_ctx_name = this.renderer.component.get_unique_name('get_else_ctx');\n\t\t\t\tthis.renderer.blocks.push(b`\n\t\t\t\t\tfunction ${get_ctx_name}(#ctx) {\n\t\t\t\t\t\tconst child_ctx = #ctx.slice();\n\t\t\t\t\t\t${add_const_tags(block, this.else.node.const_tags, 'child_ctx')}\n\t\t\t\t\t\treturn child_ctx;\n\t\t\t\t\t}\n\t\t\t\t`);\n\t\t\t\telse_ctx = x`${get_ctx_name}(#ctx)`;\n\t\t\t}\n\t\t\tconst each_block_else = component.get_unique_name(`${this.var.name}_else`);\n\t\t\tblock.chunks.init.push(b`let ${each_block_else} = null;`);\n\t\t\t// TODO neaten this up... will end up with an empty line in the block\n\t\t\tblock.chunks.init.push(b`\n\t\t\t\tif (!${this.vars.data_length}) {\n\t\t\t\t\t${each_block_else} = ${this.else.block.name}(${else_ctx});\n\t\t\t\t}\n\t\t\t`);\n\t\t\tblock.chunks.create.push(b`\n\t\t\t\tif (${each_block_else}) {\n\t\t\t\t\t${each_block_else}.c();\n\t\t\t\t}\n\t\t\t`);\n\t\t\tif (this.renderer.options.hydratable) {\n\t\t\t\tblock.chunks.claim.push(b`\n\t\t\t\t\tif (${each_block_else}) {\n\t\t\t\t\t\t${each_block_else}.l(${parent_nodes});\n\t\t\t\t\t}\n\t\t\t\t`);\n\t\t\t}\n\t\t\tblock.chunks.mount.push(b`\n\t\t\t\tif (${each_block_else}) {\n\t\t\t\t\t${each_block_else}.m(${initial_mount_node}, ${initial_anchor_node});\n\t\t\t\t}\n\t\t\t`);\n\t\t\tconst has_transitions = !!(\n\t\t\t\tthis.else.block.has_intro_method || this.else.block.has_outro_method\n\t\t\t);\n\t\t\tconst destroy_block_else = this.else.block.has_outro_method\n\t\t\t\t? b`\n\t\t\t\t\t@group_outros();\n\t\t\t\t\t@transition_out(${each_block_else}, 1, 1, () => {\n\t\t\t\t\t\t${each_block_else} = null;\n\t\t\t\t\t});\n\t\t\t\t\t@check_outros();`\n\t\t\t\t: b`\n\t\t\t\t\t${each_block_else}.d(1);\n\t\t\t\t\t${each_block_else} = null;`;\n\t\t\tif (this.else.block.has_update_method) {\n\t\t\t\tthis.updates.push(b`\n\t\t\t\t\tif (!${this.vars.data_length} && ${each_block_else}) {\n\t\t\t\t\t\t${each_block_else}.p(${else_ctx}, #dirty);\n\t\t\t\t\t} else if (!${this.vars.data_length}) {\n\t\t\t\t\t\t${each_block_else} = ${this.else.block.name}(${else_ctx});\n\t\t\t\t\t\t${each_block_else}.c();\n\t\t\t\t\t\t${has_transitions && b`@transition_in(${each_block_else}, 1);`}\n\t\t\t\t\t\t${each_block_else}.m(${update_mount_node}, ${update_anchor_node});\n\t\t\t\t\t} else if (${each_block_else}) {\n\t\t\t\t\t\t${destroy_block_else};\n\t\t\t\t\t}\n\t\t\t\t`);\n\t\t\t} else {\n\t\t\t\tthis.updates.push(b`\n\t\t\t\t\tif (${this.vars.data_length}) {\n\t\t\t\t\t\tif (${each_block_else}) {\n\t\t\t\t\t\t\t${destroy_block_else};\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if (!${each_block_else}) {\n\t\t\t\t\t\t${each_block_else} = ${this.else.block.name}(${else_ctx});\n\t\t\t\t\t\t${each_block_else}.c();\n\t\t\t\t\t\t${has_transitions && b`@transition_in(${each_block_else}, 1);`}\n\t\t\t\t\t\t${each_block_else}.m(${update_mount_node}, ${update_anchor_node});\n\t\t\t\t\t}\n\t\t\t\t`);\n\t\t\t}\n\t\t\tblock.chunks.destroy.push(b`\n\t\t\t\tif (${each_block_else}) ${each_block_else}.d(${parent_node ? '' : 'detaching'});\n\t\t\t`);\n\t\t}\n\t\tif (this.updates.length) {\n\t\t\tblock.chunks.update.push(b`\n\t\t\t\tif (${block.renderer.dirty(Array.from(all_dependencies))}) {\n\t\t\t\t\t${this.updates}\n\t\t\t\t}\n\t\t\t`);\n\t\t}\n\t\tthis.fragment.render(this.block, null, /** @type {import('estree').Identifier} */ (x`#nodes`));\n\t\tif (this.else) {\n\t\t\tthis.else.fragment.render(\n\t\t\t\tthis.else.block,\n\t\t\t\tnull,\n\t\t\t\t/** @type {import('estree').Identifier} */ (x`#nodes`)\n\t\t\t);\n\t\t}\n\t\tthis.context_props = this.node.contexts.map((prop) => {\n\t\t\tif (prop.type === 'DestructuredVariable') {\n\t\t\t\t/** @param {string} name */\n\t\t\t\tconst to_ctx = (name) =>\n\t\t\t\t\trenderer.context_lookup.has(name)\n\t\t\t\t\t\t? x`child_ctx[${renderer.context_lookup.get(name).index}]`\n\t\t\t\t\t\t: /** @type {import('estree').Node} */ ({ type: 'Identifier', name });\n\t\t\t\treturn b`child_ctx[${\n\t\t\t\t\trenderer.context_lookup.get(prop.key.name).index\n\t\t\t\t}] = ${prop.default_modifier(prop.modifier(x`list[i]`), to_ctx)};`;\n\t\t\t} else {\n\t\t\t\tconst expression = new Expression(\n\t\t\t\t\tthis.renderer.component,\n\t\t\t\t\tthis.node,\n\t\t\t\t\tthis.node.scope,\n\t\t\t\t\tprop.key\n\t\t\t\t);\n\t\t\t\treturn b`const ${prop.property_name} = ${expression.manipulate(block, 'child_ctx')};`;\n\t\t\t}\n\t\t});\n\t\tif (this.node.has_binding)\n\t\t\tthis.context_props.push(\n\t\t\t\tb`child_ctx[${renderer.context_lookup.get(this.vars.each_block_value.name).index}] = list;`\n\t\t\t);\n\t\tif (this.node.has_binding || this.node.has_index_binding || this.node.index)\n\t\t\tthis.context_props.push(\n\t\t\t\tb`child_ctx[${renderer.context_lookup.get(this.index_name.name).index}] = i;`\n\t\t\t);\n\t\t// TODO which is better — Object.create(array) or array.slice()?\n\t\trenderer.blocks.push(b`\n\t\t\tfunction ${this.vars.get_each_context}(#ctx, list, i) {\n\t\t\t\tconst child_ctx = #ctx.slice();\n\t\t\t\t${this.context_props}\n\t\t\t\t${add_const_tags(this.block, this.node.const_tags, 'child_ctx')}\n\t\t\t\treturn child_ctx;\n\t\t\t}\n\t\t`);\n\t}\n\t/**\n\t * @param {{\n\t * \t\tblock: import('../Block.js').default;\n\t * \t\tparent_node: import('estree').Identifier;\n\t * \t\tparent_nodes: import('estree').Identifier;\n\t * \t\tsnippet: import('estree').Node;\n\t * \t\tinitial_anchor_node: import('estree').Identifier;\n\t * \t\tinitial_mount_node: import('estree').Identifier;\n\t * \t\tupdate_anchor_node: import('estree').Identifier;\n\t * \t\tupdate_mount_node: import('estree').Identifier;\n\t * \t}} params\n\t */\n\trender_keyed({\n\t\tblock,\n\t\tparent_node,\n\t\tparent_nodes,\n\t\tsnippet,\n\t\tinitial_anchor_node,\n\t\tinitial_mount_node,\n\t\tupdate_anchor_node,\n\t\tupdate_mount_node\n\t}) {\n\t\tconst { create_each_block, iterations, data_length, view_length } = this.vars;\n\t\tconst get_key = block.get_unique_name('get_key');\n\t\tconst lookup = block.get_unique_name(`${this.var.name}_lookup`);\n\t\tblock.add_variable(iterations, x`[]`);\n\t\tblock.add_variable(lookup, x`new @_Map()`);\n\t\tif (this.fragment.nodes[0].is_dom_node()) {\n\t\t\tthis.block.first = this.fragment.nodes[0].var;\n\t\t} else {\n\t\t\tthis.block.first = this.block.get_unique_name('first');\n\t\t\tthis.block.add_element(this.block.first, x`@empty()`, parent_nodes && x`@empty()`, null);\n\t\t}\n\t\tblock.chunks.init.push(b`\n\t\t\tconst ${get_key} = #ctx => ${this.node.key.manipulate(block)};\n\n\t\t\t${\n\t\t\t\tthis.renderer.options.dev &&\n\t\t\t\tb`@validate_each_keys(#ctx, ${this.vars.each_block_value}, ${this.vars.get_each_context}, ${get_key});`\n\t\t\t}\n\t\t\tfor (let #i = 0; #i < ${data_length}; #i += 1) {\n\t\t\t\tlet child_ctx = ${this.vars.get_each_context}(#ctx, ${this.vars.each_block_value}, #i);\n\t\t\t\tlet key = ${get_key}(child_ctx);\n\t\t\t\t${lookup}.set(key, ${iterations}[#i] = ${create_each_block}(key, child_ctx));\n\t\t\t}\n\t\t`);\n\t\tblock.chunks.create.push(b`\n\t\t\tfor (let #i = 0; #i < ${view_length}; #i += 1) {\n\t\t\t\t${iterations}[#i].c();\n\t\t\t}\n\t\t`);\n\t\tif (parent_nodes && this.renderer.options.hydratable) {\n\t\t\tblock.chunks.claim.push(b`\n\t\t\t\tfor (let #i = 0; #i < ${view_length}; #i += 1) {\n\t\t\t\t\t${iterations}[#i].l(${parent_nodes});\n\t\t\t\t}\n\t\t\t`);\n\t\t}\n\t\tblock.chunks.mount.push(b`\n\t\t\tfor (let #i = 0; #i < ${view_length}; #i += 1) {\n\t\t\t\tif (${iterations}[#i]) {\n\t\t\t\t\t${iterations}[#i].m(${initial_mount_node}, ${initial_anchor_node});\n\t\t\t\t}\n\t\t\t}\n\t\t`);\n\t\tconst dynamic = this.block.has_update_method;\n\t\tconst destroy = this.node.has_animation\n\t\t\t? this.block.has_outros\n\t\t\t\t? '@fix_and_outro_and_destroy_block'\n\t\t\t\t: '@fix_and_destroy_block'\n\t\t\t: this.block.has_outros\n\t\t\t? '@outro_and_destroy_block'\n\t\t\t: '@destroy_block';\n\t\tif (this.dependencies.size) {\n\t\t\tthis.block.maintain_context = true;\n\t\t\tthis.updates.push(b`\n\t\t\t\t${this.vars.each_block_value} = ${snippet};\n\n\t\t\t\t${this.block.has_outros && b`@group_outros();`}\n\t\t\t\t${\n\t\t\t\t\tthis.node.has_animation &&\n\t\t\t\t\tb`for (let #i = 0; #i < ${view_length}; #i += 1) ${iterations}[#i].r();`\n\t\t\t\t}\n\t\t\t\t${\n\t\t\t\t\tthis.renderer.options.dev &&\n\t\t\t\t\tb`@validate_each_keys(#ctx, ${this.vars.each_block_value}, ${this.vars.get_each_context}, ${get_key});`\n\t\t\t\t}\n\t\t\t\t${iterations} = @update_keyed_each(${iterations}, #dirty, ${get_key}, ${dynamic ? 1 : 0}, #ctx, ${\n\t\t\t\tthis.vars.each_block_value\n\t\t\t}, ${lookup}, ${update_mount_node}, ${destroy}, ${create_each_block}, ${update_anchor_node}, ${\n\t\t\t\tthis.vars.get_each_context\n\t\t\t});\n\t\t\t\t${\n\t\t\t\t\tthis.node.has_animation &&\n\t\t\t\t\tb`for (let #i = 0; #i < ${view_length}; #i += 1) ${iterations}[#i].a();`\n\t\t\t\t}\n\t\t\t\t${this.block.has_outros && b`@check_outros();`}\n\t\t\t`);\n\t\t}\n\t\tif (this.block.has_outros) {\n\t\t\tblock.chunks.outro.push(b`\n\t\t\t\tfor (let #i = 0; #i < ${view_length}; #i += 1) {\n\t\t\t\t\t@transition_out(${iterations}[#i]);\n\t\t\t\t}\n\t\t\t`);\n\t\t}\n\t\tblock.chunks.destroy.push(b`\n\t\t\tfor (let #i = 0; #i < ${view_length}; #i += 1) {\n\t\t\t\t${iterations}[#i].d(${parent_node ? null : 'detaching'});\n\t\t\t}\n\t\t`);\n\t}\n\t/**\n\t * @param {{\n\t * \t\tblock: import('../Block.js').default;\n\t * \t\tparent_nodes: import('estree').Identifier;\n\t * \t\tsnippet: import('estree').Node;\n\t * \t\tinitial_anchor_node: import('estree').Identifier;\n\t * \t\tinitial_mount_node: import('estree').Identifier;\n\t * \t\tupdate_anchor_node: import('estree').Identifier;\n\t * \t\tupdate_mount_node: import('estree').Identifier;\n\t * \t}} params\n\t */\n\trender_unkeyed({\n\t\tblock,\n\t\tparent_nodes,\n\t\tsnippet,\n\t\tinitial_anchor_node,\n\t\tinitial_mount_node,\n\t\tupdate_anchor_node,\n\t\tupdate_mount_node\n\t}) {\n\t\tconst { create_each_block, iterations, fixed_length, data_length, view_length } = this.vars;\n\t\tblock.chunks.init.push(b`\n\t\t\tlet ${iterations} = [];\n\n\t\t\tfor (let #i = 0; #i < ${data_length}; #i += 1) {\n\t\t\t\t${iterations}[#i] = ${create_each_block}(${this.vars.get_each_context}(#ctx, ${this.vars.each_block_value}, #i));\n\t\t\t}\n\t\t`);\n\t\tblock.chunks.create.push(b`\n\t\t\tfor (let #i = 0; #i < ${view_length}; #i += 1) {\n\t\t\t\t${iterations}[#i].c();\n\t\t\t}\n\t\t`);\n\t\tif (parent_nodes && this.renderer.options.hydratable) {\n\t\t\tblock.chunks.claim.push(b`\n\t\t\t\tfor (let #i = 0; #i < ${view_length}; #i += 1) {\n\t\t\t\t\t${iterations}[#i].l(${parent_nodes});\n\t\t\t\t}\n\t\t\t`);\n\t\t}\n\t\tblock.chunks.mount.push(b`\n\t\t\tfor (let #i = 0; #i < ${view_length}; #i += 1) {\n\t\t\t\tif (${iterations}[#i]) {\n\t\t\t\t\t${iterations}[#i].m(${initial_mount_node}, ${initial_anchor_node});\n\t\t\t\t}\n\t\t\t}\n\t\t`);\n\t\tif (this.dependencies.size) {\n\t\t\tconst has_transitions = !!(this.block.has_intro_method || this.block.has_outro_method);\n\t\t\tconst for_loop_body = this.block.has_update_method\n\t\t\t\t? b`\n\t\t\t\t\tif (${iterations}[#i]) {\n\t\t\t\t\t\t${iterations}[#i].p(child_ctx, #dirty);\n\t\t\t\t\t\t${has_transitions && b`@transition_in(${this.vars.iterations}[#i], 1);`}\n\t\t\t\t\t} else {\n\t\t\t\t\t\t${iterations}[#i] = ${create_each_block}(child_ctx);\n\t\t\t\t\t\t${iterations}[#i].c();\n\t\t\t\t\t\t${has_transitions && b`@transition_in(${this.vars.iterations}[#i], 1);`}\n\t\t\t\t\t\t${iterations}[#i].m(${update_mount_node}, ${update_anchor_node});\n\t\t\t\t\t}\n\t\t\t\t`\n\t\t\t\t: has_transitions\n\t\t\t\t? b`\n\t\t\t\t\t\tif (${iterations}[#i]) {\n\t\t\t\t\t\t\t@transition_in(${this.vars.iterations}[#i], 1);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t${iterations}[#i] = ${create_each_block}(child_ctx);\n\t\t\t\t\t\t\t${iterations}[#i].c();\n\t\t\t\t\t\t\t@transition_in(${this.vars.iterations}[#i], 1);\n\t\t\t\t\t\t\t${iterations}[#i].m(${update_mount_node}, ${update_anchor_node});\n\t\t\t\t\t\t}\n\t\t\t\t\t`\n\t\t\t\t: b`\n\t\t\t\t\t\tif (!${iterations}[#i]) {\n\t\t\t\t\t\t\t${iterations}[#i] = ${create_each_block}(child_ctx);\n\t\t\t\t\t\t\t${iterations}[#i].c();\n\t\t\t\t\t\t\t${iterations}[#i].m(${update_mount_node}, ${update_anchor_node});\n\t\t\t\t\t\t}\n\t\t\t\t\t`;\n\t\t\tconst start = this.block.has_update_method ? 0 : '#old_length';\n\n\t\t\t/** @type {import('estree').Node[]} */\n\t\t\tlet remove_old_blocks;\n\t\t\tif (this.block.has_outros) {\n\t\t\t\tconst out = block.get_unique_name('out');\n\t\t\t\tblock.chunks.init.push(b`\n\t\t\t\t\tconst ${out} = i => @transition_out(${iterations}[i], 1, 1, () => {\n\t\t\t\t\t\t${iterations}[i] = null;\n\t\t\t\t\t});\n\t\t\t\t`);\n\t\t\t\tremove_old_blocks = b`\n\t\t\t\t\t@group_outros();\n\t\t\t\t\tfor (#i = ${data_length}; #i < ${view_length}; #i += 1) {\n\t\t\t\t\t\t${out}(#i);\n\t\t\t\t\t}\n\t\t\t\t\t@check_outros();\n\t\t\t\t`;\n\t\t\t} else {\n\t\t\t\tremove_old_blocks = b`\n\t\t\t\t\tfor (${this.block.has_update_method ? null : x`#i = ${data_length}`}; #i < ${\n\t\t\t\t\tthis.block.has_update_method ? view_length : '#old_length'\n\t\t\t\t}; #i += 1) {\n\t\t\t\t\t\t${iterations}[#i].d(1);\n\t\t\t\t\t}\n\t\t\t\t\t${!fixed_length && b`${view_length} = ${data_length};`}\n\t\t\t\t`;\n\t\t\t}\n\t\t\t// We declare `i` as block scoped here, as the `remove_old_blocks` code\n\t\t\t// may rely on continuing where this iteration stopped.\n\t\t\tconst update = b`\n\t\t\t\t${!this.block.has_update_method && b`const #old_length = ${this.vars.each_block_value}.length;`}\n\t\t\t\t${this.vars.each_block_value} = ${snippet};\n\n\t\t\t\tlet #i;\n\t\t\t\tfor (#i = ${start}; #i < ${data_length}; #i += 1) {\n\t\t\t\t\tconst child_ctx = ${this.vars.get_each_context}(#ctx, ${this.vars.each_block_value}, #i);\n\n\t\t\t\t\t${for_loop_body}\n\t\t\t\t}\n\n\t\t\t\t${remove_old_blocks}\n\t\t\t`;\n\t\t\tthis.updates.push(update);\n\t\t}\n\t\tif (this.block.has_outros) {\n\t\t\tblock.chunks.outro.push(b`\n\t\t\t\t${iterations} = ${iterations}.filter(@_Boolean);\n\t\t\t\tfor (let #i = 0; #i < ${view_length}; #i += 1) {\n\t\t\t\t\t@transition_out(${iterations}[#i]);\n\t\t\t\t}\n\t\t\t`);\n\t\t}\n\t\tblock.chunks.destroy.push(b`@destroy_each(${iterations}, detaching);`);\n\t}\n}\n", "import Wrapper from './shared/Wrapper.js';\nimport { x } from 'code-red';\n\n/** @extends Wrapper<import('../../nodes/Text.js').default> */\nexport default class TextWrapper extends Wrapper {\n\t/** @type {string} */\n\t_data;\n\n\t/** @type {boolean} */\n\tskip;\n\n\t/** @type {import('estree').Identifier} */\n\tvar;\n\n\t/**\n\t * @param {import('../Renderer.js').default} renderer\n\t * @param {import('../Block.js').default} block\n\t * @param {import('./shared/Wrapper.js').default} parent\n\t * @param {import('../../nodes/Text.js').default} node\n\t * @param {string} data\n\t */\n\tconstructor(renderer, block, parent, node, data) {\n\t\tsuper(renderer, block, parent, node);\n\t\tthis.skip = this.node.should_skip();\n\t\tthis._data = data;\n\t\tthis.var = /** @type {unknown} */ /** @type {import('estree').Identifier} */ (\n\t\t\tthis.skip ? null : x`t`\n\t\t);\n\t}\n\tuse_space() {\n\t\treturn this.node.use_space();\n\t}\n\tset data(value) {\n\t\t// when updating `this.data` during optimisation\n\t\t// propagate the changes over to the underlying node\n\t\t// so that the node.use_space reflects on the latest `data` value\n\t\tthis.node.data = this._data = value;\n\t}\n\tget data() {\n\t\treturn this._data;\n\t}\n\n\t/**\n\t * @param {import('../Block.js').default} block\n\t * @param {import('estree').Identifier} parent_node\n\t * @param {import('estree').Identifier} parent_nodes\n\t */\n\trender(block, parent_node, parent_nodes) {\n\t\tif (this.skip) return;\n\t\tconst use_space = this.use_space();\n\t\tconst string_literal = {\n\t\t\ttype: 'Literal',\n\t\t\tvalue: this.data,\n\t\t\tloc: {\n\t\t\t\tstart: this.renderer.locate(this.node.start),\n\t\t\t\tend: this.renderer.locate(this.node.end)\n\t\t\t}\n\t\t};\n\t\tblock.add_element(\n\t\t\tthis.var,\n\t\t\tuse_space ? x`@space()` : x`@text(${string_literal})`,\n\t\t\tparent_nodes &&\n\t\t\t\t(use_space\n\t\t\t\t\t? x`@claim_space(${parent_nodes})`\n\t\t\t\t\t: x`@claim_text(${parent_nodes}, ${string_literal})`),\n\t\t\t/** @type {import('estree').Identifier} */ (parent_node)\n\t\t);\n\t}\n}\n", "const svg_attributes =\n\t'accent-height accumulate additive alignment-baseline allowReorder alphabetic amplitude arabic-form ascent attributeName attributeType autoReverse azimuth baseFrequency baseline-shift baseProfile bbox begin bias by calcMode cap-height class clip clipPathUnits clip-path clip-rule color color-interpolation color-interpolation-filters color-profile color-rendering contentScriptType contentStyleType cursor cx cy d decelerate descent diffuseConstant direction display divisor dominant-baseline dur dx dy edgeMode elevation enable-background end exponent externalResourcesRequired fill fill-opacity fill-rule filter filterRes filterUnits flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight format from fr fx fy g1 g2 glyph-name glyph-orientation-horizontal glyph-orientation-vertical glyphRef gradientTransform gradientUnits hanging height href horiz-adv-x horiz-origin-x id ideographic image-rendering in in2 intercept k k1 k2 k3 k4 kernelMatrix kernelUnitLength kerning keyPoints keySplines keyTimes lang lengthAdjust letter-spacing lighting-color limitingConeAngle local marker-end marker-mid marker-start markerHeight markerUnits markerWidth mask maskContentUnits maskUnits mathematical max media method min mode name numOctaves offset onabort onactivate onbegin onclick onend onerror onfocusin onfocusout onload onmousedown onmousemove onmouseout onmouseover onmouseup onrepeat onresize onscroll onunload opacity operator order orient orientation origin overflow overline-position overline-thickness panose-1 paint-order pathLength patternContentUnits patternTransform patternUnits pointer-events points pointsAtX pointsAtY pointsAtZ preserveAlpha preserveAspectRatio primitiveUnits r radius refX refY rendering-intent repeatCount repeatDur requiredExtensions requiredFeatures restart result rotate rx ry scale seed shape-rendering slope spacing specularConstant specularExponent speed spreadMethod startOffset stdDeviation stemh stemv stitchTiles stop-color stop-opacity strikethrough-position strikethrough-thickness string stroke stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width style surfaceScale systemLanguage tabindex tableValues target targetX targetY text-anchor text-decoration text-rendering textLength to transform type u1 u2 underline-position underline-thickness unicode unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical values version vert-adv-y vert-origin-x vert-origin-y viewBox viewTarget visibility width widths word-spacing writing-mode x x-height x1 x2 xChannelSelector xlink:actuate xlink:arcrole xlink:href xlink:role xlink:show xlink:title xlink:type xml:base xml:lang xml:space y y1 y2 yChannelSelector z zoomAndPan'.split(\n\t\t' '\n\t);\n\nconst svg_attribute_lookup = new Map();\n\nsvg_attributes.forEach((name) => {\n\tsvg_attribute_lookup.set(name.toLowerCase(), name);\n});\n\n/**\n * @param {string} name\n */\nexport default function fix_attribute_casing(name) {\n\tname = name.toLowerCase();\n\treturn svg_attribute_lookup.get(name) || name;\n}\n", "/**\n * @param {import('./Attribute.js').default | import('./Binding.js').default} attr\n * @param {Set<string>} dependencies\n */\nexport default function handle_select_value_binding(attr, dependencies) {\n\tconst { parent } = attr;\n\tif (parent.node.name === 'select') {\n\t\t/** @type {import('./index.js').default} */ (parent).select_binding_dependencies = dependencies;\n\t\tdependencies.forEach((prop) => {\n\t\t\tparent.renderer.component.indirect_dependencies.set(prop, new Set());\n\t\t});\n\t}\n}\n", "import fix_attribute_casing from './fix_attribute_casing.js';\nimport { string_literal } from '../../../utils/stringify.js';\nimport { b, x } from 'code-red';\nimport handle_select_value_binding from './handle_select_value_binding.js';\nimport { namespaces } from '../../../../utils/namespaces.js';\nimport { boolean_attributes } from '../../../../../shared/boolean_attributes.js';\nimport { regex_double_quotes } from '../../../../utils/patterns.js';\n\nconst non_textlike_input_types = new Set([\n\t'button',\n\t'checkbox',\n\t'color',\n\t'date',\n\t'datetime-local',\n\t'file',\n\t'hidden',\n\t'image',\n\t'radio',\n\t'range',\n\t'reset',\n\t'submit'\n]);\n\nexport class BaseAttributeWrapper {\n\t/** @type {import('../../../nodes/Attribute.js').default} */\n\tnode;\n\n\t/** @type {import('./index.js').default} */\n\tparent;\n\n\t/**\n\t * @param {import('./index.js').default} parent\n\t * @param {import('../../Block.js').default} block\n\t * @param {import('../../../nodes/Attribute.js').default} node\n\t */\n\tconstructor(parent, block, node) {\n\t\tthis.node = node;\n\t\tthis.parent = parent;\n\t\tif (node.dependencies.size > 0) {\n\t\t\tblock.add_dependencies(node.dependencies);\n\t\t}\n\t}\n\n\t/** @param {import('../../Block.js').default} _block */\n\trender(_block) {}\n}\nconst regex_minus_sign = /-/;\nconst regex_invalid_variable_identifier_characters = /[^a-zA-Z_$]/g;\n\n/** @extends BaseAttributeWrapper */\nexport default class AttributeWrapper extends BaseAttributeWrapper {\n\t/** @type {any} */\n\tmetadata;\n\n\t/** @type {string} */\n\tname;\n\n\t/** @type {string} */\n\tproperty_name;\n\n\t/** @type {boolean} */\n\tis_indirectly_bound_value;\n\n\t/** @type {boolean} */\n\tis_src;\n\n\t/** @type {boolean} */\n\tis_srcset;\n\n\t/** @type {boolean} */\n\tis_select_value_attribute;\n\n\t/** @type {boolean} */\n\tis_input_value;\n\n\t/** @type {boolean} */\n\tshould_cache;\n\n\t/** @type {import('estree').Identifier} */\n\tlast;\n\tconstructor(parent, block, node) {\n\t\tsuper(parent, block, node);\n\t\tif (node.dependencies.size > 0) {\n\t\t\t// special case — <option value={foo}> — see below\n\t\t\tif (this.parent.node.name === 'option' && node.name === 'value') {\n\t\t\t\tlet select = this.parent;\n\t\t\t\twhile (select && (select.node.type !== 'Element' || select.node.name !== 'select')) {\n\t\t\t\t\t// @ts-ignore todo: doublecheck this, but looks to be correct\n\t\t\t\t\tselect = select.parent;\n\t\t\t\t}\n\t\t\t\tif (select && select.select_binding_dependencies) {\n\t\t\t\t\tselect.select_binding_dependencies.forEach((prop) => {\n\t\t\t\t\t\tthis.node.dependencies.forEach((dependency) => {\n\t\t\t\t\t\t\tif (this.node.scope.is_top_level(dependency)) {\n\t\t\t\t\t\t\t\tthis.parent.renderer.component.indirect_dependencies.get(prop).add(dependency);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (node.name === 'value') {\n\t\t\t\thandle_select_value_binding(this, node.dependencies);\n\t\t\t\tthis.parent.has_dynamic_value = true;\n\t\t\t}\n\t\t}\n\t\tif (this.parent.node.namespace == namespaces.foreign || this.parent.node.name.includes('-')) {\n\t\t\t// leave attribute case alone for elements in the \"foreign\" namespace and for custom elements\n\t\t\tthis.name = this.node.name;\n\t\t\tthis.metadata = this.get_metadata();\n\t\t\tthis.is_indirectly_bound_value = false;\n\t\t\tthis.property_name = null;\n\t\t\tthis.is_select_value_attribute = false;\n\t\t\tthis.is_input_value = false;\n\t\t} else {\n\t\t\tthis.name = fix_attribute_casing(this.node.name);\n\t\t\tthis.metadata = this.get_metadata();\n\t\t\tthis.is_indirectly_bound_value = is_indirectly_bound_value(this);\n\t\t\tthis.property_name = this.is_indirectly_bound_value\n\t\t\t\t? '__value'\n\t\t\t\t: this.metadata && this.metadata.property_name;\n\t\t\tthis.is_select_value_attribute = this.name === 'value' && this.parent.node.name === 'select';\n\t\t\tthis.is_input_value = this.name === 'value' && this.parent.node.name === 'input';\n\t\t}\n\t\t// TODO retire this exception in favour of https://github.com/sveltejs/svelte/issues/3750\n\t\tthis.is_src =\n\t\t\tthis.name === 'src' &&\n\t\t\t(!this.parent.node.namespace || this.parent.node.namespace === namespaces.html);\n\t\tthis.is_srcset =\n\t\t\tthis.name === 'srcset' &&\n\t\t\t(!this.parent.node.namespace || this.parent.node.namespace === namespaces.html);\n\t\tthis.should_cache = should_cache(this);\n\t}\n\n\t/** @param {import('../../Block.js').default} block */\n\trender(block) {\n\t\tconst element = this.parent;\n\t\tconst { name, property_name, should_cache, is_indirectly_bound_value } = this;\n\t\t// xlink is a special case... we could maybe extend this to generic\n\t\t// namespaced attributes but I'm not sure that's applicable in\n\t\t// HTML5?\n\t\tconst method = regex_minus_sign.test(element.node.name)\n\t\t\t? '@set_custom_element_data'\n\t\t\t: name.slice(0, 6) === 'xlink:'\n\t\t\t? '@xlink_attr'\n\t\t\t: '@attr';\n\t\tconst is_legacy_input_type =\n\t\t\telement.renderer.component.compile_options.legacy &&\n\t\t\tname === 'type' &&\n\t\t\tthis.parent.node.name === 'input';\n\t\tconst dependencies = this.get_dependencies();\n\t\tconst value = this.get_value(block);\n\n\t\t/** @type {import('estree').Node[]} */\n\t\tlet updater;\n\t\tconst init = this.get_init(block, value);\n\t\tif (is_legacy_input_type) {\n\t\t\tblock.chunks.hydrate.push(b`@set_input_type(${element.var}, ${init});`);\n\t\t\tupdater = b`@set_input_type(${element.var}, ${should_cache ? this.last : value});`;\n\t\t} else if (this.is_select_value_attribute) {\n\t\t\t// annoying special case\n\t\t\tconst is_multiple_select = element.node.get_static_attribute_value('multiple');\n\t\t\tif (is_multiple_select) {\n\t\t\t\tupdater = b`@select_options(${element.var}, ${value});`;\n\t\t\t} else {\n\t\t\t\tupdater = b`@select_option(${element.var}, ${value});`;\n\t\t\t}\n\t\t\tblock.chunks.mount.push(b`\n\t\t\t\t${updater}\n\t\t\t`);\n\t\t} else if (this.is_src) {\n\t\t\tblock.chunks.hydrate.push(\n\t\t\t\tb`if (!@src_url_equal(${element.var}.src, ${init})) ${method}(${element.var}, \"${name}\", ${this.last});`\n\t\t\t);\n\t\t\tupdater = b`${method}(${element.var}, \"${name}\", ${should_cache ? this.last : value});`;\n\t\t} else if (this.is_srcset) {\n\t\t\tblock.chunks.hydrate.push(\n\t\t\t\tb`if (!@srcset_url_equal(${element.var}, ${init})) ${method}(${element.var}, \"${name}\", ${this.last});`\n\t\t\t);\n\t\t\tupdater = b`${method}(${element.var}, \"${name}\", ${should_cache ? this.last : value});`;\n\t\t} else if (property_name) {\n\t\t\tblock.chunks.hydrate.push(b`${element.var}.${property_name} = ${init};`);\n\t\t\tupdater = block.renderer.options.dev\n\t\t\t\t? b`@prop_dev(${element.var}, \"${property_name}\", ${should_cache ? this.last : value});`\n\t\t\t\t: b`${element.var}.${property_name} = ${should_cache ? this.last : value};`;\n\t\t} else {\n\t\t\tblock.chunks.hydrate.push(b`${method}(${element.var}, \"${name}\", ${init});`);\n\t\t\tupdater = b`${method}(${element.var}, \"${name}\", ${should_cache ? this.last : value});`;\n\t\t}\n\t\tif (is_indirectly_bound_value) {\n\t\t\tconst update_value = b`@set_input_value(${element.var}, ${element.var}.__value);`;\n\t\t\tblock.chunks.hydrate.push(update_value);\n\t\t\tupdater = b`\n\t\t\t\t${updater}\n\t\t\t\t${update_value};\n\t\t\t`;\n\t\t}\n\t\tif (this.node.name === 'value' && dependencies.length > 0) {\n\t\t\tif (this.parent.bindings.some((binding) => binding.node.name === 'group')) {\n\t\t\t\tthis.parent.dynamic_value_condition = block.get_unique_name('value_has_changed');\n\t\t\t\tblock.add_variable(this.parent.dynamic_value_condition, x`false`);\n\t\t\t\tupdater = b`\n\t\t\t\t\t${updater}\n\t\t\t\t\t${this.parent.dynamic_value_condition} = true;\n\t\t\t\t`;\n\t\t\t}\n\t\t}\n\t\tif (dependencies.length > 0) {\n\t\t\tconst condition = this.get_dom_update_conditions(block, block.renderer.dirty(dependencies));\n\t\t\tblock.chunks.update.push(b`\n\t\t\t\tif (${condition}) {\n\t\t\t\t\t${updater}\n\t\t\t\t}`);\n\t\t}\n\t\t// special case – autofocus. has to be handled in a bit of a weird way\n\t\tif (name === 'autofocus') {\n\t\t\tblock.autofocus = {\n\t\t\t\telement_var: element.var,\n\t\t\t\tcondition_expression: this.node.is_true ? undefined : value\n\t\t\t};\n\t\t}\n\t}\n\n\t/**\n\t * @param {import('../../Block.js').default} block\n\t * @param {any} value\n\t */\n\tget_init(block, value) {\n\t\tthis.last =\n\t\t\tthis.should_cache &&\n\t\t\tblock.get_unique_name(\n\t\t\t\t`${this.parent.var.name}_${this.name.replace(\n\t\t\t\t\tregex_invalid_variable_identifier_characters,\n\t\t\t\t\t'_'\n\t\t\t\t)}_value`\n\t\t\t);\n\t\tif (this.should_cache) block.add_variable(this.last);\n\t\treturn this.should_cache ? x`${this.last} = ${value}` : value;\n\t}\n\n\t/**\n\t * @param {import('../../Block.js').default} block\n\t * @param {import('estree').Node} dependency_condition\n\t */\n\tget_dom_update_conditions(block, dependency_condition) {\n\t\tconst { property_name, should_cache, last } = this;\n\t\tconst element = this.parent;\n\t\tconst value = this.get_value(block);\n\t\tlet condition = dependency_condition;\n\t\tif (should_cache) {\n\t\t\tcondition = this.is_src\n\t\t\t\t? x`${condition} && (!@src_url_equal(${element.var}.src, (${last} = ${value})))`\n\t\t\t\t: x`${condition} && (${last} !== (${last} = ${value}))`;\n\t\t}\n\t\tif (this.is_input_value) {\n\t\t\tconst type = element.node.get_static_attribute_value('type');\n\t\t\tif (type !== true && !non_textlike_input_types.has(type)) {\n\t\t\t\tcondition = x`${condition} && ${element.var}.${property_name} !== ${\n\t\t\t\t\tshould_cache ? last : value\n\t\t\t\t}`;\n\t\t\t}\n\t\t}\n\t\tif (block.has_outros) {\n\t\t\tcondition = x`!#current || ${condition}`;\n\t\t}\n\t\treturn condition;\n\t}\n\tget_dependencies() {\n\t\tconst node_dependencies = this.node.get_dependencies();\n\t\tconst dependencies = new Set(node_dependencies);\n\t\tnode_dependencies.forEach((prop) => {\n\t\t\tconst indirect_dependencies = this.parent.renderer.component.indirect_dependencies.get(prop);\n\t\t\tif (indirect_dependencies) {\n\t\t\t\tindirect_dependencies.forEach((indirect_dependency) => {\n\t\t\t\t\tdependencies.add(indirect_dependency);\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t\treturn Array.from(dependencies);\n\t}\n\tget_metadata() {\n\t\tif (this.parent.node.namespace) return null;\n\t\tconst metadata = attribute_lookup[this.name];\n\t\tif (metadata && metadata.applies_to && !metadata.applies_to.includes(this.parent.node.name))\n\t\t\treturn null;\n\t\treturn metadata;\n\t}\n\n\t/** @param {import('../../Block.js').default} block */\n\tget_value(block) {\n\t\tif (this.node.is_true) {\n\t\t\tif (this.metadata && boolean_attributes.has(this.metadata.property_name.toLowerCase())) {\n\t\t\t\treturn x`true`;\n\t\t\t}\n\t\t\treturn x`\"\"`;\n\t\t}\n\t\tif (this.node.chunks.length === 0) return x`\"\"`;\n\t\t// TODO some of this code is repeated in Tag.ts — would be good to\n\t\t// DRY it out if that's possible without introducing crazy indirection\n\t\tif (this.node.chunks.length === 1) {\n\t\t\treturn this.node.chunks[0].type === 'Text'\n\t\t\t\t? string_literal(\n\t\t\t\t\t\t/** @type {import('../../../nodes/Text.js').default} */ (this.node.chunks[0]).data\n\t\t\t\t  )\n\t\t\t\t: /** @type {import('../../../nodes/shared/Expression.js').default} */ (\n\t\t\t\t\t\tthis.node.chunks[0]\n\t\t\t\t  ).manipulate(block);\n\t\t}\n\t\tlet value =\n\t\t\tthis.node.name === 'class'\n\t\t\t\t? this.get_class_name_text(block)\n\t\t\t\t: this.render_chunks(block).reduce((lhs, rhs) => x`${lhs} + ${rhs}`);\n\t\t// '{foo} {bar}' — treat as string concatenation\n\t\tif (this.node.chunks[0].type !== 'Text') {\n\t\t\tvalue = x`\"\" + ${value}`;\n\t\t}\n\t\treturn value;\n\t}\n\n\t/** @param {import('../../Block.js').default} block */\n\tget_class_name_text(block) {\n\t\tconst scoped_css = this.node.chunks.some(\n\t\t\t(/** @type {import('../../../nodes/Text.js').default} */ chunk) => chunk.synthetic\n\t\t);\n\t\tconst rendered = this.render_chunks(block);\n\t\tif (scoped_css && rendered.length === 2) {\n\t\t\t// we have a situation like class={possiblyUndefined}\n\t\t\trendered[0] = x`@null_to_empty(${rendered[0]})`;\n\t\t}\n\t\treturn rendered.reduce((lhs, rhs) => x`${lhs} + ${rhs}`);\n\t}\n\n\t/** @param {import('../../Block.js').default} block */\n\trender_chunks(block) {\n\t\treturn this.node.chunks.map((chunk) => {\n\t\t\tif (chunk.type === 'Text') {\n\t\t\t\treturn string_literal(chunk.data);\n\t\t\t}\n\t\t\treturn chunk.manipulate(block);\n\t\t});\n\t}\n\tstringify() {\n\t\tif (this.node.is_true) return '';\n\t\tconst value = this.node.chunks;\n\t\tif (value.length === 0) return '=\"\"';\n\t\treturn `=\"${value\n\t\t\t.map((chunk) => {\n\t\t\t\treturn chunk.type === 'Text'\n\t\t\t\t\t? chunk.data.replace(regex_double_quotes, '\\\\\"')\n\t\t\t\t\t: `\\${${chunk.manipulate()}}`;\n\t\t\t})\n\t\t\t.join('')}\"`;\n\t}\n}\n/**\n * @type {{\n *  [key in import('../../../../../shared/boolean_attributes.js').BooleanAttributes]: { property_name?: string; applies_to?: string[] } } &\n *  { [key in string]: { property_name?: string; applies_to?: string[] }; }\n * }\n */\nconst attribute_lookup = {\n\tallowfullscreen: { property_name: 'allowFullscreen', applies_to: ['iframe'] },\n\tallowpaymentrequest: { property_name: 'allowPaymentRequest', applies_to: ['iframe'] },\n\tasync: { applies_to: ['script'] },\n\tautofocus: { applies_to: ['button', 'input', 'keygen', 'select', 'textarea'] },\n\tautoplay: { applies_to: ['audio', 'video'] },\n\tchecked: { applies_to: ['input'] },\n\tcontrols: { applies_to: ['audio', 'video'] },\n\tdefault: { applies_to: ['track'] },\n\tdefer: { applies_to: ['script'] },\n\tdisabled: {\n\t\tapplies_to: [\n\t\t\t'button',\n\t\t\t'fieldset',\n\t\t\t'input',\n\t\t\t'keygen',\n\t\t\t'optgroup',\n\t\t\t'option',\n\t\t\t'select',\n\t\t\t'textarea'\n\t\t]\n\t},\n\tformnovalidate: { property_name: 'formNoValidate', applies_to: ['button', 'input'] },\n\thidden: {},\n\tindeterminate: { applies_to: ['input'] },\n\tinert: {},\n\tismap: { property_name: 'isMap', applies_to: ['img'] },\n\tloop: { applies_to: ['audio', 'bgsound', 'video'] },\n\tmultiple: { applies_to: ['input', 'select'] },\n\tmuted: { applies_to: ['audio', 'video'] },\n\tnomodule: { property_name: 'noModule', applies_to: ['script'] },\n\tnovalidate: { property_name: 'noValidate', applies_to: ['form'] },\n\topen: { applies_to: ['details', 'dialog'] },\n\tplaysinline: { property_name: 'playsInline', applies_to: ['video'] },\n\treadonly: { property_name: 'readOnly', applies_to: ['input', 'textarea'] },\n\trequired: { applies_to: ['input', 'select', 'textarea'] },\n\treversed: { applies_to: ['ol'] },\n\tselected: { applies_to: ['option'] },\n\tvalue: {\n\t\tapplies_to: [\n\t\t\t'button',\n\t\t\t'option',\n\t\t\t'input',\n\t\t\t'li',\n\t\t\t'meter',\n\t\t\t'progress',\n\t\t\t'param',\n\t\t\t'select',\n\t\t\t'textarea'\n\t\t]\n\t}\n};\nObject.keys(attribute_lookup).forEach((name) => {\n\tconst metadata = attribute_lookup[name];\n\tif (!metadata.property_name) metadata.property_name = name;\n});\n\n/** @param {AttributeWrapper} attribute */\nfunction should_cache(attribute) {\n\treturn attribute.is_src || attribute.is_srcset || attribute.node.should_cache();\n}\nconst regex_contains_checked_or_group = /checked|group/;\n\n/** @param {AttributeWrapper} attribute */\nfunction is_indirectly_bound_value(attribute) {\n\tconst element = attribute.parent;\n\treturn (\n\t\tattribute.name === 'value' &&\n\t\t(element.node.name === 'option' || // TODO check it's actually bound\n\t\t\t(element.node.name === 'input' &&\n\t\t\t\telement.node.bindings.some((binding) =>\n\t\t\t\t\tregex_contains_checked_or_group.test(binding.name)\n\t\t\t\t)))\n\t);\n}\n", "import { b, x } from 'code-red';\nimport AttributeWrapper from './Attribute.js';\nimport { string_literal } from '../../../utils/stringify.js';\nimport add_to_set from '../../../utils/add_to_set.js';\n\n/** @extends AttributeWrapper */\nexport default class StyleAttributeWrapper extends AttributeWrapper {\n\t/** @param {import('../../Block.js').default} block */\n\trender(block) {\n\t\tconst style_props = optimize_style(this.node.chunks);\n\t\tif (!style_props) return super.render(block);\n\t\tstyle_props.forEach((prop) => {\n\t\t\tlet value;\n\t\t\tif (is_dynamic(prop.value)) {\n\t\t\t\tconst prop_dependencies = new Set();\n\t\t\t\tvalue = prop.value\n\t\t\t\t\t.map((chunk) => {\n\t\t\t\t\t\tif (chunk.type === 'Text') {\n\t\t\t\t\t\t\treturn string_literal(chunk.data);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tadd_to_set(prop_dependencies, chunk.dynamic_dependencies());\n\t\t\t\t\t\t\treturn chunk.manipulate(block);\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\t.reduce((lhs, rhs) => x`${lhs} + ${rhs}`);\n\t\t\t\t// TODO is this necessary? style.setProperty always treats value as string, no?\n\t\t\t\t// if (prop.value.length === 1 || prop.value[0].type !== 'Text') {\n\t\t\t\t// \tvalue = x`\"\" + ${value}`;\n\t\t\t\t// }\n\t\t\t\tif (prop_dependencies.size) {\n\t\t\t\t\tlet condition = block.renderer.dirty(Array.from(prop_dependencies));\n\t\t\t\t\tif (block.has_outros) {\n\t\t\t\t\t\tcondition = x`!#current || ${condition}`;\n\t\t\t\t\t}\n\t\t\t\t\tconst update = b`\n\t\t\t\t\t\tif (${condition}) {\n\t\t\t\t\t\t\t@set_style(${this.parent.var}, \"${prop.key}\", ${value}, ${prop.important ? 1 : null});\n\t\t\t\t\t\t}`;\n\t\t\t\t\tblock.chunks.update.push(update);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tvalue = string_literal(\n\t\t\t\t\t/** @type {import('../../../nodes/Text.js').default} */ (prop.value[0]).data\n\t\t\t\t);\n\t\t\t}\n\t\t\tblock.chunks.hydrate.push(\n\t\t\t\tb`@set_style(${this.parent.var}, \"${prop.key}\", ${value}, ${prop.important ? 1 : null});`\n\t\t\t);\n\t\t});\n\t}\n}\nconst regex_style_prop_key = /^\\s*([\\w-]+):\\s*/;\n\n/** @param {Array<import('../../../nodes/Text.js').default | import('../../../nodes/shared/Expression.js').default>} value */\nfunction optimize_style(value) {\n\t/** @type {Array<{ key: string; value: Array<import('../../../nodes/Text.js').default | import('../../../nodes/shared/Expression.js').default>; important: boolean; }>} */\n\tconst props = [];\n\tlet chunks = value.slice();\n\twhile (chunks.length) {\n\t\tconst chunk = chunks[0];\n\t\tif (chunk.type !== 'Text') return null;\n\t\tconst key_match = regex_style_prop_key.exec(chunk.data);\n\t\tif (!key_match) return null;\n\t\tconst key = key_match[1];\n\t\tconst offset = key_match.index + key_match[0].length;\n\t\tconst remaining_data = chunk.data.slice(offset);\n\t\tif (remaining_data) {\n\t\t\tchunks[0] = /** @type {import('../../../nodes/Text.js').default} */ ({\n\t\t\t\tstart: chunk.start + offset,\n\t\t\t\tend: chunk.end,\n\t\t\t\ttype: 'Text',\n\t\t\t\tdata: remaining_data\n\t\t\t});\n\t\t} else {\n\t\t\tchunks.shift();\n\t\t}\n\t\tconst result = get_style_value(chunks);\n\t\tprops.push({ key, value: result.value, important: result.important });\n\t\tchunks = result.chunks;\n\t}\n\treturn props;\n}\nconst regex_important_flag = /\\s*!important\\s*$/;\nconst regex_semicolon_or_whitespace = /[;\\s]/;\n\n/** @param {Array<import('../../../nodes/Text.js').default | import('../../../nodes/shared/Expression.js').default>} chunks */\nfunction get_style_value(chunks) {\n\t/** @type {Array<import('../../../nodes/Text.js').default | import('../../../nodes/shared/Expression.js').default>} */\n\tconst value = [];\n\tlet in_url = false;\n\tlet quote_mark = null;\n\tlet escaped = false;\n\tlet closed = false;\n\twhile (chunks.length && !closed) {\n\t\tconst chunk = chunks.shift();\n\t\tif (chunk.type === 'Text') {\n\t\t\tlet c = 0;\n\t\t\twhile (c < chunk.data.length) {\n\t\t\t\tconst char = chunk.data[c];\n\t\t\t\tif (escaped) {\n\t\t\t\t\tescaped = false;\n\t\t\t\t} else if (char === '\\\\') {\n\t\t\t\t\tescaped = true;\n\t\t\t\t} else if (char === quote_mark) {\n\t\t\t\t\tquote_mark = null;\n\t\t\t\t} else if (char === '\"' || char === \"'\") {\n\t\t\t\t\tquote_mark = char;\n\t\t\t\t} else if (char === ')' && in_url) {\n\t\t\t\t\tin_url = false;\n\t\t\t\t} else if (char === 'u' && chunk.data.slice(c, c + 4) === 'url(') {\n\t\t\t\t\tin_url = true;\n\t\t\t\t} else if (char === ';' && !in_url && !quote_mark) {\n\t\t\t\t\tclosed = true;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tc += 1;\n\t\t\t}\n\t\t\tif (c > 0) {\n\t\t\t\tvalue.push(\n\t\t\t\t\t/** @type {import('../../../nodes/Text.js').default} */ ({\n\t\t\t\t\t\ttype: 'Text',\n\t\t\t\t\t\tstart: chunk.start,\n\t\t\t\t\t\tend: chunk.start + c,\n\t\t\t\t\t\tdata: chunk.data.slice(0, c)\n\t\t\t\t\t})\n\t\t\t\t);\n\t\t\t}\n\t\t\twhile (regex_semicolon_or_whitespace.test(chunk.data[c])) c += 1;\n\t\t\tconst remaining_data = chunk.data.slice(c);\n\t\t\tif (remaining_data) {\n\t\t\t\tchunks.unshift(\n\t\t\t\t\t/** @type {import('../../../nodes/Text.js').default} */ ({\n\t\t\t\t\t\tstart: chunk.start + c,\n\t\t\t\t\t\tend: chunk.end,\n\t\t\t\t\t\ttype: 'Text',\n\t\t\t\t\t\tdata: remaining_data\n\t\t\t\t\t})\n\t\t\t\t);\n\t\t\t\tbreak;\n\t\t\t}\n\t\t} else {\n\t\t\tvalue.push(chunk);\n\t\t}\n\t}\n\tlet important = false;\n\tconst last_chunk = value[value.length - 1];\n\tif (last_chunk && last_chunk.type === 'Text' && regex_important_flag.test(last_chunk.data)) {\n\t\timportant = true;\n\t\tlast_chunk.data = last_chunk.data.replace(regex_important_flag, '');\n\t\tif (!last_chunk.data) value.pop();\n\t}\n\treturn {\n\t\tchunks,\n\t\tvalue,\n\t\timportant\n\t};\n}\n\n/** @param {Array<import('../../../nodes/Text.js').default | import('../../../nodes/shared/Expression.js').default>} value */\nfunction is_dynamic(value) {\n\treturn value.length > 1 || value[0].type !== 'Text';\n}\n", "import { BaseAttributeWrapper } from './Attribute.js';\n\nexport default class SpreadAttributeWrapper extends BaseAttributeWrapper {}\n", "/**\n * @param {import('../Element/index.js').default | import('../InlineComponent/index.js').default} parent\n * @param {import('../../../nodes/Binding.js').default} binding\n */\nexport default function mark_each_block_bindings(parent, binding) {\n\t// we need to ensure that the each block creates a context including\n\t// the list and the index, if they're not otherwise referenced\n\tbinding.expression.references.forEach((name) => {\n\t\tconst each_block = parent.node.scope.get_owner(name);\n\t\tif (each_block) {\n\t\t\t/** @type {import('../../../nodes/EachBlock.js').default} */ (each_block).has_binding = true;\n\t\t}\n\t});\n\tif (binding.name === 'group') {\n\t\t/** @param {string} name */\n\t\tconst add_index_binding = (name) => {\n\t\t\tconst each_block = parent.node.scope.get_owner(name);\n\t\t\tif (each_block.type === 'EachBlock') {\n\t\t\t\teach_block.has_index_binding = true;\n\t\t\t\tfor (const dep of each_block.expression.contextual_dependencies) {\n\t\t\t\t\tadd_index_binding(dep);\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t\t// for `<input bind:group={} >`, we make sure that all the each blocks creates context with `index`\n\t\tfor (const name of binding.expression.contextual_dependencies) {\n\t\t\tadd_index_binding(name);\n\t\t}\n\t}\n}\n", "import { b, x } from 'code-red';\nimport get_object from '../../../utils/get_object.js';\nimport replace_object from '../../../utils/replace_object.js';\nimport flatten_reference from '../../../utils/flatten_reference.js';\nimport add_to_set from '../../../utils/add_to_set.js';\nimport mark_each_block_bindings from '../shared/mark_each_block_bindings.js';\nimport handle_select_value_binding from './handle_select_value_binding.js';\nimport { regex_box_size } from '../../../../utils/patterns.js';\n/** */\nexport default class BindingWrapper {\n\t/** @type {import('../../../nodes/Binding.js').default} */\n\tnode = undefined;\n\n\t/** @type {import('./index.js').default | import('../InlineComponent/index.js').default} */\n\tparent = undefined;\n\n\t/** @type {string} */\n\tobject = undefined;\n\t/**\n\t * @type {{\n\t * \t\tuses_context: boolean;\n\t * \t\tmutation: import('estree').Node | import('estree').Node[];\n\t * \t\tcontextual_dependencies: Set<string>;\n\t * \t\tlhs?: import('estree').Node;\n\t * \t}}\n\t */\n\thandler = undefined;\n\n\t/** @type {import('estree').Node} */\n\tsnippet = undefined;\n\n\t/** @type {boolean} */\n\tis_readonly = undefined;\n\n\t/** @type {boolean} */\n\tneeds_lock = undefined;\n\n\t/** @type {import('../../Renderer.js').BindingGroup} */\n\tbinding_group = undefined;\n\n\t/**\n\t * @param {import('../../Block.js').default} block\n\t * @param {import('../../../nodes/Binding.js').default} node\n\t * @param {import('./index.js').default | import('../InlineComponent/index.js').default} parent\n\t */\n\tconstructor(block, node, parent) {\n\t\tthis.node = node;\n\t\tthis.parent = parent;\n\t\tconst { dependencies } = this.node.expression;\n\t\tblock.add_dependencies(dependencies);\n\t\t// TODO does this also apply to e.g. `<input type='checkbox' bind:group='foo'>`?\n\t\thandle_select_value_binding(this, dependencies);\n\t\tif (node.is_contextual) {\n\t\t\tmark_each_block_bindings(this.parent, this.node);\n\t\t}\n\t\tthis.object = get_object(this.node.expression.node).name;\n\t\tif (this.node.name === 'group') {\n\t\t\tthis.binding_group = get_binding_group(parent.renderer, this, block);\n\t\t}\n\t\t// view to model\n\t\tthis.handler = get_event_handler(\n\t\t\tthis,\n\t\t\tparent.renderer,\n\t\t\tblock,\n\t\t\tthis.object,\n\t\t\tthis.node.raw_expression\n\t\t);\n\t\tthis.snippet = this.node.expression.manipulate(block);\n\t\tthis.is_readonly = this.node.is_readonly;\n\t\tthis.needs_lock = this.node.name === 'currentTime'; // TODO others?\n\t}\n\tget_dependencies() {\n\t\tconst dependencies = new Set(this.node.expression.dependencies);\n\t\tthis.node.expression.dependencies.forEach((prop) => {\n\t\t\tconst indirect_dependencies = this.parent.renderer.component.indirect_dependencies.get(prop);\n\t\t\tif (indirect_dependencies) {\n\t\t\t\tindirect_dependencies.forEach((indirect_dependency) => {\n\t\t\t\t\tdependencies.add(indirect_dependency);\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t\tif (this.binding_group) {\n\t\t\tthis.binding_group.list_dependencies.forEach((dep) => dependencies.add(dep));\n\t\t}\n\t\treturn dependencies;\n\t}\n\tget_update_dependencies() {\n\t\tconst object = this.object;\n\t\tconst dependencies = new Set();\n\t\tif (this.node.expression.template_scope.names.has(object)) {\n\t\t\tthis.node.expression.template_scope.dependencies_for_name\n\t\t\t\t.get(object)\n\t\t\t\t.forEach((name) => dependencies.add(name));\n\t\t} else {\n\t\t\tdependencies.add(object);\n\t\t}\n\t\tconst result = new Set(dependencies);\n\t\tdependencies.forEach((dependency) => {\n\t\t\tconst indirect_dependencies =\n\t\t\t\tthis.parent.renderer.component.indirect_dependencies.get(dependency);\n\t\t\tif (indirect_dependencies) {\n\t\t\t\tindirect_dependencies.forEach((indirect_dependency) => {\n\t\t\t\t\tresult.add(indirect_dependency);\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t\treturn result;\n\t}\n\tis_readonly_media_attribute() {\n\t\treturn this.node.is_readonly_media_attribute();\n\t}\n\n\t/**\n\t * @param {import('../../Block.js').default} block\n\t * @param {import('estree').Identifier} lock\n\t */\n\trender(block, lock) {\n\t\tif (this.is_readonly) return;\n\t\tconst { parent } = this;\n\n\t\t/** @type {any[]} */\n\t\tconst update_conditions = this.needs_lock ? [x`!${lock}`] : [];\n\n\t\t/** @type {any[]} */\n\t\tconst mount_conditions = [];\n\n\t\t/** @type {any} */\n\t\tlet update_or_condition = null;\n\t\tconst dependency_array = Array.from(this.get_dependencies());\n\t\tif (dependency_array.length > 0) {\n\t\t\tupdate_conditions.push(block.renderer.dirty(dependency_array));\n\t\t}\n\t\tif (parent.node.name === 'input') {\n\t\t\tconst type = parent.node.get_static_attribute_value('type');\n\t\t\tif (\n\t\t\t\ttype === null ||\n\t\t\t\ttype === '' ||\n\t\t\t\ttype === 'text' ||\n\t\t\t\ttype === 'email' ||\n\t\t\t\ttype === 'password' ||\n\t\t\t\ttype === 'search' ||\n\t\t\t\ttype === 'url'\n\t\t\t) {\n\t\t\t\tupdate_conditions.push(x`${parent.var}.${this.node.name} !== ${this.snippet}`);\n\t\t\t} else if (type === 'number') {\n\t\t\t\tupdate_conditions.push(x`@to_number(${parent.var}.${this.node.name}) !== ${this.snippet}`);\n\t\t\t}\n\t\t}\n\t\t// model to view\n\t\tlet update_dom = get_dom_updater(parent, this, false);\n\t\tlet mount_dom = get_dom_updater(parent, this, true);\n\t\t// special cases\n\t\tswitch (this.node.name) {\n\t\t\tcase 'group': {\n\t\t\t\tblock.renderer.add_to_context('$$binding_groups');\n\t\t\t\tthis.binding_group.add_element(block, this.parent.var);\n\t\t\t\tif (/** @type {import('./index.js').default} */ (this.parent).has_dynamic_value) {\n\t\t\t\t\tupdate_or_condition = /** @type {import('./index.js').default} */ (this.parent)\n\t\t\t\t\t\t.dynamic_value_condition;\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcase 'textContent':\n\t\t\t\tupdate_conditions.push(x`${this.snippet} !== ${parent.var}.textContent`);\n\t\t\t\tmount_conditions.push(x`${this.snippet} !== void 0`);\n\t\t\t\tbreak;\n\t\t\tcase 'innerText':\n\t\t\t\tupdate_conditions.push(x`${this.snippet} !== ${parent.var}.innerText`);\n\t\t\t\tmount_conditions.push(x`${this.snippet} !== void 0`);\n\t\t\t\tbreak;\n\t\t\tcase 'innerHTML':\n\t\t\t\tupdate_conditions.push(x`${this.snippet} !== ${parent.var}.innerHTML`);\n\t\t\t\tmount_conditions.push(x`${this.snippet} !== void 0`);\n\t\t\t\tbreak;\n\t\t\tcase 'currentTime':\n\t\t\t\tupdate_conditions.push(x`!@_isNaN(${this.snippet})`);\n\t\t\t\tmount_dom = null;\n\t\t\t\tbreak;\n\t\t\tcase 'playbackRate':\n\t\t\tcase 'volume':\n\t\t\t\tupdate_conditions.push(x`!@_isNaN(${this.snippet})`);\n\t\t\t\tmount_conditions.push(x`!@_isNaN(${this.snippet})`);\n\t\t\t\tbreak;\n\t\t\tcase 'paused': {\n\t\t\t\t// this is necessary to prevent audio restarting by itself\n\t\t\t\tconst last = block.get_unique_name(`${parent.var.name}_is_paused`);\n\t\t\t\tblock.add_variable(last, x`true`);\n\t\t\t\tupdate_conditions.push(x`${last} !== (${last} = ${this.snippet})`);\n\t\t\t\tupdate_dom = b`${parent.var}[${last} ? \"pause\" : \"play\"]();`;\n\t\t\t\tmount_dom = null;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tcase 'value':\n\t\t\t\tif (parent.node.get_static_attribute_value('type') === 'file') {\n\t\t\t\t\tupdate_dom = null;\n\t\t\t\t\tmount_dom = null;\n\t\t\t\t}\n\t\t}\n\t\tif (update_dom) {\n\t\t\tif (update_conditions.length > 0) {\n\t\t\t\tlet condition = update_conditions.reduce((lhs, rhs) => x`${lhs} && ${rhs}`);\n\t\t\t\tif (update_or_condition) condition = x`${update_or_condition} || (${condition})`;\n\t\t\t\tblock.chunks.update.push(b`\n\t\t\t\t\tif (${condition}) {\n\t\t\t\t\t\t${update_dom}\n\t\t\t\t\t}\n\t\t\t\t`);\n\t\t\t} else {\n\t\t\t\tblock.chunks.update.push(update_dom);\n\t\t\t}\n\t\t}\n\t\tif (mount_dom) {\n\t\t\tif (mount_conditions.length > 0) {\n\t\t\t\tconst condition = mount_conditions.reduce((lhs, rhs) => x`${lhs} && ${rhs}`);\n\t\t\t\tblock.chunks.mount.push(b`\n\t\t\t\t\tif (${condition}) {\n\t\t\t\t\t\t${mount_dom}\n\t\t\t\t\t}\n\t\t\t\t`);\n\t\t\t} else {\n\t\t\t\tblock.chunks.mount.push(mount_dom);\n\t\t\t}\n\t\t}\n\t}\n}\n\n/**\n * @param {import('./index.js').default | import('../InlineComponent/index.js').default} element\n * @param {BindingWrapper} binding\n * @param {boolean} mounting\n */\nfunction get_dom_updater(element, binding, mounting) {\n\tconst { node } = element;\n\tif (binding.is_readonly_media_attribute()) {\n\t\treturn null;\n\t}\n\tif (binding.node.name === 'this') {\n\t\treturn null;\n\t}\n\tif (node.name === 'select') {\n\t\treturn node.get_static_attribute_value('multiple') === true\n\t\t\t? b`@select_options(${element.var}, ${binding.snippet})`\n\t\t\t: mounting\n\t\t\t? b`@select_option(${element.var}, ${binding.snippet}, true)`\n\t\t\t: b`@select_option(${element.var}, ${binding.snippet})`;\n\t}\n\tif (binding.node.name === 'group') {\n\t\tconst type = node.get_static_attribute_value('type');\n\t\tconst condition =\n\t\t\ttype === 'checkbox'\n\t\t\t\t? x`~(${binding.snippet} || []).indexOf(${element.var}.__value)`\n\t\t\t\t: x`${element.var}.__value === ${binding.snippet}`;\n\t\treturn b`${element.var}.checked = ${condition};`;\n\t}\n\tif (binding.node.name === 'value') {\n\t\treturn b`@set_input_value(${element.var}, ${binding.snippet});`;\n\t}\n\treturn b`${element.var}.${binding.node.name} = ${binding.snippet};`;\n}\n\n/**\n * @param {import('../../Renderer.js').default} renderer\n * @param {BindingWrapper} binding\n * @param {import('../../Block.js').default} block\n */\nfunction get_binding_group(renderer, binding, block) {\n\tconst value = binding.node;\n\tconst { parts } = flatten_reference(value.raw_expression);\n\tlet keypath = parts.join('.');\n\tconst contexts = [];\n\tconst contextual_dependencies = new Set();\n\tconst { template_scope } = value.expression;\n\n\t/** @param {string} dep */\n\tconst add_contextual_dependency = (dep) => {\n\t\tcontextual_dependencies.add(dep);\n\t\tconst owner = template_scope.get_owner(dep);\n\t\tif (owner.type === 'EachBlock') {\n\t\t\tfor (const dep of owner.expression.contextual_dependencies) {\n\t\t\t\tadd_contextual_dependency(dep);\n\t\t\t}\n\t\t}\n\t};\n\tfor (const dep of value.expression.contextual_dependencies) {\n\t\tadd_contextual_dependency(dep);\n\t}\n\tfor (const dep of contextual_dependencies) {\n\t\tconst context = block.bindings.get(dep);\n\t\tlet key;\n\t\tlet name;\n\t\tif (context) {\n\t\t\tkey = context.object.name;\n\t\t\tname = context.property.name;\n\t\t} else {\n\t\t\tkey = dep;\n\t\t\tname = dep;\n\t\t}\n\t\tkeypath = `${key}@${keypath}`;\n\t\tcontexts.push(name);\n\t}\n\t// create a global binding_group across blocks\n\tif (!renderer.binding_groups.has(keypath)) {\n\t\tconst index = renderer.binding_groups.size;\n\t\t// the bind:group depends on the list in the {#each} block as well\n\t\t// as reordering (removing and adding back to the DOM) may affect the value\n\t\tconst list_dependencies = new Set();\n\t\tlet parent = value.parent;\n\t\twhile (parent) {\n\t\t\tif (parent.type === 'EachBlock') {\n\t\t\t\tfor (const dep of parent.expression.dynamic_dependencies()) {\n\t\t\t\t\tlist_dependencies.add(dep);\n\t\t\t\t}\n\t\t\t}\n\t\t\tparent = parent.parent;\n\t\t}\n\t\t/**\n\t\t * When using bind:group with logic blocks, the inputs with bind:group may be scattered across different blocks.\n\t\t * This therefore keeps track of all the <input> elements that have the same bind:group within the same block.\n\t\t */\n\t\tconst elements = new Map();\n\t\tcontexts.forEach((context) => {\n\t\t\trenderer.add_to_context(context, true);\n\t\t});\n\t\trenderer.binding_groups.set(keypath, {\n\t\t\tbinding_group: () => {\n\t\t\t\tlet obj = x`$$binding_groups[${index}]`;\n\t\t\t\tif (contexts.length > 0) {\n\t\t\t\t\tcontexts.forEach((secondary_index) => {\n\t\t\t\t\t\tobj = x`${obj}[${secondary_index}]`;\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\treturn obj;\n\t\t\t},\n\t\t\tcontexts,\n\t\t\tlist_dependencies,\n\t\t\tkeypath,\n\t\t\tadd_element(block, element) {\n\t\t\t\tif (!elements.has(block)) {\n\t\t\t\t\telements.set(block, []);\n\t\t\t\t}\n\t\t\t\telements.get(block).push(element);\n\t\t\t},\n\t\t\trender(block) {\n\t\t\t\tconst local_name = block.get_unique_name('binding_group');\n\t\t\t\tconst binding_group = block.renderer.reference('$$binding_groups');\n\t\t\t\tblock.add_variable(local_name);\n\t\t\t\tif (contexts.length > 0) {\n\t\t\t\t\tconst indexes = {\n\t\t\t\t\t\ttype: 'ArrayExpression',\n\t\t\t\t\t\telements: contexts.map((name) => block.renderer.reference(name))\n\t\t\t\t\t};\n\t\t\t\t\tblock.chunks.init.push(\n\t\t\t\t\t\tb`${local_name} = @init_binding_group_dynamic(${binding_group}[${index}], ${indexes})`\n\t\t\t\t\t);\n\t\t\t\t\tblock.chunks.update.push(\n\t\t\t\t\t\tb`if (${block.renderer.dirty(\n\t\t\t\t\t\t\tArray.from(list_dependencies)\n\t\t\t\t\t\t)}) ${local_name}.u(${indexes})`\n\t\t\t\t\t);\n\t\t\t\t} else {\n\t\t\t\t\tblock.chunks.init.push(\n\t\t\t\t\t\tb`${local_name} = @init_binding_group(${binding_group}[${index}])`\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t\tblock.chunks.hydrate.push(b`${local_name}.p(${elements.get(block)})`);\n\t\t\t\tblock.chunks.destroy.push(b`${local_name}.r()`);\n\t\t\t}\n\t\t});\n\t}\n\t// register the binding_group for the block\n\tconst binding_group = renderer.binding_groups.get(keypath);\n\tblock.binding_groups.add(binding_group);\n\treturn binding_group;\n}\n\n/**\n * @param {BindingWrapper} binding\n * @param {import('../../Renderer.js').default} renderer\n * @param {import('../../Block.js').default} block\n * @param {string} name\n * @param {import('estree').Node} lhs\n * @returns {{ uses_context: boolean; mutation: import('estree').Node | import('estree').Node[]; contextual_dependencies: Set<string>; lhs?: import('estree').Node; }}\n */\nfunction get_event_handler(binding, renderer, block, name, lhs) {\n\tconst contextual_dependencies = new Set(binding.node.expression.contextual_dependencies);\n\tconst context = block.bindings.get(name);\n\n\t/** @type {import('estree').Node[] | undefined} */\n\tlet set_store;\n\tif (context) {\n\t\tconst { object, property, store, snippet } = context;\n\t\tlhs = replace_object(lhs, snippet);\n\t\tcontextual_dependencies.add(object.name);\n\t\tcontextual_dependencies.add(property.name);\n\t\tcontextual_dependencies.delete(name);\n\t\tif (store) {\n\t\t\tset_store = b`${store}.set(${`$${store}`});`;\n\t\t}\n\t} else {\n\t\tconst object = get_object(lhs);\n\t\tif (object.name[0] === '$') {\n\t\t\tconst store = object.name.slice(1);\n\t\t\tset_store = b`${store}.set(${object.name});`;\n\t\t}\n\t}\n\tconst value = get_value_from_dom(renderer, binding.parent, binding, contextual_dependencies);\n\tconst mutation = b`\n\t\t${lhs} = ${value};\n\t\t${set_store}\n\t`;\n\treturn {\n\t\tuses_context: binding.node.is_contextual || binding.node.expression.uses_context,\n\t\tmutation,\n\t\tcontextual_dependencies,\n\t\tlhs\n\t};\n}\n\n/**\n * @param {import('../../Renderer.js').default} _renderer\n * @param {import('./index.js').default | import('../InlineComponent/index.js').default} element\n * @param {BindingWrapper} binding\n * @param {Set<string>} contextual_dependencies\n */\nfunction get_value_from_dom(_renderer, element, binding, contextual_dependencies) {\n\tconst { node } = element;\n\tconst { name } = binding.node;\n\tif (name === 'this') {\n\t\treturn x`$$value`;\n\t}\n\t// <div bind:contentRect|contentBoxSize|borderBoxSize|devicePixelContentBoxSize>\n\tif (regex_box_size.test(name)) {\n\t\treturn x`@ResizeObserverSingleton.entries.get(this)?.${name}`;\n\t}\n\t// <select bind:value='selected>\n\tif (node.name === 'select') {\n\t\treturn node.get_static_attribute_value('multiple') === true\n\t\t\t? x`@select_multiple_value(this)`\n\t\t\t: x`@select_value(this)`;\n\t}\n\tconst type = node.get_static_attribute_value('type');\n\t// <input type='checkbox' bind:group='foo'>\n\tif (name === 'group') {\n\t\tif (type === 'checkbox') {\n\t\t\tconst { binding_group, contexts } = binding.binding_group;\n\t\t\tadd_to_set(contextual_dependencies, contexts);\n\t\t\treturn x`@get_binding_group_value(${binding_group()}, this.__value, this.checked)`;\n\t\t}\n\t\treturn x`this.__value`;\n\t}\n\t// <input type='range|number' bind:value>\n\tif (type === 'range' || type === 'number') {\n\t\treturn x`@to_number(this.${name})`;\n\t}\n\tif (name === 'buffered' || name === 'seekable' || name === 'played') {\n\t\treturn x`@time_ranges_to_array(this.${name})`;\n\t}\n\t// everything else\n\treturn x`this.${name}`;\n}\n", "/**\n * @param {import('estree').Node | void} a\n * @param {import('estree').Node | void} b\n */\nexport function compare_node(a, b) {\n\tif (a === b) return true;\n\tif (!a || !b) return false;\n\tif (a.type !== b.type) return false;\n\tswitch (a.type) {\n\t\tcase 'Identifier':\n\t\t\treturn a.name === /** @type {import('estree').Identifier} */ (b).name;\n\t\tcase 'MemberExpression':\n\t\t\treturn (\n\t\t\t\tcompare_node(a.object, /** @type {import('estree').MemberExpression} */ (b).object) &&\n\t\t\t\tcompare_node(a.property, /** @type {import('estree').MemberExpression} */ (b).property) &&\n\t\t\t\ta.computed === /** @type {import('estree').MemberExpression} */ (b).computed\n\t\t\t);\n\t\tcase 'Literal':\n\t\t\treturn a.value === /** @type {import('estree').Literal} */ (b).value;\n\t}\n}\n", "import { b, x } from 'code-red';\nimport { compare_node } from '../../../utils/compare_node.js';\n\n/**\n * @param {import('../../../Component.js').default} component\n * @param {import('../../Block.js').default} block\n * @param {import('../Element/Binding.js').default} binding\n * @param {import('estree').Identifier} variable\n */\nexport default function bind_this(component, block, binding, variable) {\n\tconst fn = component.get_unique_name(`${variable.name}_binding`);\n\tblock.renderer.add_to_context(fn.name);\n\tconst callee = block.renderer.reference(fn.name);\n\tconst { contextual_dependencies, mutation } = binding.handler;\n\tconst dependencies = binding.get_update_dependencies();\n\tconst body = b`\n\t\t${mutation}\n\t\t${Array.from(dependencies)\n\t\t\t.filter((dep) => dep[0] !== '$')\n\t\t\t.filter((dep) => !contextual_dependencies.has(dep))\n\t\t\t.map((dep) => b`${block.renderer.invalidate(dep)};`)}\n\t`;\n\tif (contextual_dependencies.size) {\n\t\t/** @type {import('estree').Identifier[]} */\n\t\tconst params = Array.from(contextual_dependencies).map((name) => ({\n\t\t\ttype: 'Identifier',\n\t\t\tname\n\t\t}));\n\t\tcomponent.partly_hoisted.push(b`\n\t\t\tfunction ${fn}($$value, ${params}) {\n\t\t\t\t@binding_callbacks[$$value ? 'unshift' : 'push'](() => {\n\t\t\t\t\t${body}\n\t\t\t\t});\n\t\t\t}\n\t\t`);\n\t\tconst alias_map = new Map();\n\t\tconst args = [];\n\t\tfor (let id of params) {\n\t\t\tconst value = block.renderer.reference(id.name);\n\t\t\tlet found = false;\n\t\t\tif (block.variables.has(id.name)) {\n\t\t\t\tlet alias = id.name;\n\t\t\t\tfor (\n\t\t\t\t\tlet i = 1;\n\t\t\t\t\tblock.variables.has(alias) && !compare_node(block.variables.get(alias).init, value);\n\t\t\t\t\talias = `${id.name}_${i++}`\n\t\t\t\t);\n\t\t\t\talias_map.set(alias, id.name);\n\t\t\t\tid = { type: 'Identifier', name: alias };\n\t\t\t\tfound = block.variables.has(alias);\n\t\t\t}\n\t\t\targs.push(id);\n\t\t\tif (!found) {\n\t\t\t\tblock.add_variable(id, value);\n\t\t\t}\n\t\t}\n\t\tconst assign = block.get_unique_name(`assign_${variable.name}`);\n\t\tconst unassign = block.get_unique_name(`unassign_${variable.name}`);\n\t\tblock.chunks.init.push(b`\n\t\t\tconst ${assign} = () => ${callee}(${variable}, ${args});\n\t\t\tconst ${unassign} = () => ${callee}(null, ${args});\n\t\t`);\n\t\tconst condition = Array.from(args)\n\t\t\t.map(\n\t\t\t\t(name) => x`${name} !== ${block.renderer.reference(alias_map.get(name.name) || name.name)}`\n\t\t\t)\n\t\t\t.reduce((lhs, rhs) => x`${lhs} || ${rhs}`);\n\t\t// we push unassign and unshift assign so that references are\n\t\t// nulled out before they're created, to avoid glitches\n\t\t// with shifting indices\n\t\tblock.chunks.update.push(b`\n\t\t\tif (${condition}) {\n\t\t\t\t${unassign}();\n\t\t\t\t${args.map((a) => b`${a} = ${block.renderer.reference(alias_map.get(a.name) || a.name)}`)};\n\t\t\t\t${assign}();\n\t\t\t}`);\n\t\tblock.chunks.destroy.push(b`${unassign}();`);\n\t\treturn b`${assign}();`;\n\t}\n\tcomponent.partly_hoisted.push(b`\n\t\tfunction ${fn}($$value) {\n\t\t\t@binding_callbacks[$$value ? 'unshift' : 'push'](() => {\n\t\t\t\t${body}\n\t\t\t});\n\t\t}\n\t`);\n\tblock.chunks.destroy.push(b`${callee}(null);`);\n\treturn b`${callee}(${variable});`;\n}\n", "import { b, x } from 'code-red';\nimport Wrapper from './Wrapper.js';\n\n/**\n * @template {import('../../../nodes/MustacheTag.js').default | import('../../../nodes/RawMustacheTag.js').default} NodeType\n * @extends Wrapper<NodeType>\n */\nexport default class Tag extends Wrapper {\n\t/**\n\t * @param {import('../../Renderer.js').default} renderer\n\t * @param {import('../../Block.js').default} block\n\t * @param {import('./Wrapper.js').default} parent\n\t * @param {NodeType} node\n\t */\n\tconstructor(renderer, block, parent, node) {\n\t\tsuper(renderer, block, parent, node);\n\t\tblock.add_dependencies(node.expression.dependencies);\n\t}\n\n\t/**\n\t * @param {import('../../Block.js').default} block\n\t * @param {(value: import('estree').Node) => import('estree').Node | import('estree').Node[]} update\n\t */\n\trename_this_method(block, update) {\n\t\tconst dependencies = this.node.expression.dynamic_dependencies();\n\t\tlet snippet = this.node.expression.manipulate(block);\n\t\tconst value = this.node.should_cache && block.get_unique_name(`${this.var.name}_value`);\n\t\tconst content = this.node.should_cache ? value : snippet;\n\t\tsnippet = x`${snippet} + \"\"`;\n\t\tif (this.node.should_cache) block.add_variable(value, snippet); // TODO may need to coerce snippet to string\n\t\tif (dependencies.length > 0) {\n\t\t\tlet condition = block.renderer.dirty(dependencies);\n\t\t\tif (block.has_outros) {\n\t\t\t\tcondition = x`!#current || ${condition}`;\n\t\t\t}\n\t\t\tconst update_cached_value = x`${value} !== (${value} = ${snippet})`;\n\t\t\tif (this.node.should_cache) {\n\t\t\t\tcondition = x`${condition} && ${update_cached_value}`;\n\t\t\t}\n\t\t\tblock.chunks.update.push(\n\t\t\t\tb`if (${condition}) ${update(/** @type {import('estree').Node} */ (content))}`\n\t\t\t);\n\t\t}\n\t\treturn { init: content };\n\t}\n}\n", "import Tag from './shared/Tag.js';\nimport { x } from 'code-red';\nimport ElementWrapper from './Element/index.js';\n\n/** @extends Tag */\nexport default class MustacheTagWrapper extends Tag {\n\t/** @type {import('estree').Identifier} */\n\tvar = { type: 'Identifier', name: 't' };\n\n\t/**\n\t * @param {import('../Renderer.js').default} renderer\n\t * @param {import('../Block.js').default} block\n\t * @param {import('./shared/Wrapper.js').default} parent\n\t * @param {import('../../nodes/MustacheTag.js').default | import('../../nodes/RawMustacheTag.js').default} node\n\t */\n\tconstructor(renderer, block, parent, node) {\n\t\tsuper(renderer, block, parent, node);\n\t}\n\n\t/**\n\t * @param {import('../Block.js').default} block\n\t * @param {import('estree').Identifier} parent_node\n\t * @param {import('estree').Identifier} parent_nodes\n\t * @param {Record<string, unknown> | undefined} data\n\t */\n\trender(block, parent_node, parent_nodes, data) {\n\t\tconst contenteditable_attributes =\n\t\t\tthis.parent instanceof ElementWrapper &&\n\t\t\tthis.parent.attributes.filter((a) => a.node.name === 'contenteditable');\n\t\tconst spread_attributes =\n\t\t\tthis.parent instanceof ElementWrapper &&\n\t\t\tthis.parent.attributes.filter((a) => a.node.is_spread);\n\n\t\t/** @type {import('estree').Expression | true | undefined} */\n\t\tlet contenteditable_attr_value = undefined;\n\t\tif (contenteditable_attributes.length > 0) {\n\t\t\tconst attribute = /** @type {import('./Element/Attribute.js').default} */ (\n\t\t\t\tcontenteditable_attributes[0]\n\t\t\t);\n\t\t\tif ([true, 'true', ''].includes(attribute.node.get_static_value())) {\n\t\t\t\tcontenteditable_attr_value = true;\n\t\t\t} else {\n\t\t\t\tcontenteditable_attr_value = x`${attribute.get_value(block)}`;\n\t\t\t}\n\t\t} else if (spread_attributes.length > 0 && data.element_data_name) {\n\t\t\tcontenteditable_attr_value = x`${data.element_data_name}['contenteditable']`;\n\t\t}\n\t\tconst { init } = this.rename_this_method(block, (value) => {\n\t\t\tif (contenteditable_attr_value) {\n\t\t\t\tif (contenteditable_attr_value === true) {\n\t\t\t\t\treturn x`@set_data_contenteditable(${this.var}, ${value})`;\n\t\t\t\t} else {\n\t\t\t\t\treturn x`@set_data_maybe_contenteditable(${this.var}, ${value}, ${contenteditable_attr_value})`;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\treturn x`@set_data(${this.var}, ${value})`;\n\t\t\t}\n\t\t});\n\t\tblock.add_element(\n\t\t\tthis.var,\n\t\t\tx`@text(${init})`,\n\t\t\tparent_nodes && x`@claim_text(${parent_nodes}, ${init})`,\n\t\t\tparent_node\n\t\t);\n\t}\n}\n", "import { namespaces } from '../../../utils/namespaces.js';\nimport { b, x } from 'code-red';\nimport Tag from './shared/Tag.js';\nimport { is_head } from './shared/is_head.js';\n\n/** @extends Tag */\nexport default class RawMustacheTagWrapper extends Tag {\n\t/** @type {import('estree').Identifier} */\n\tvar = { type: 'Identifier', name: 'raw' };\n\n\t/**\n\t * @param {import('../Renderer.js').default} renderer\n\t * @param {import('../Block.js').default} block\n\t * @param {import('./shared/Wrapper.js').default} parent\n\t * @param {import('../../nodes/MustacheTag.js').default | import('../../nodes/RawMustacheTag.js').default} node\n\t */\n\tconstructor(renderer, block, parent, node) {\n\t\tsuper(renderer, block, parent, node);\n\t}\n\n\t/**\n\t * @param {import('../Block.js').default} block\n\t * @param {import('estree').Identifier} parent_node\n\t * @param {import('estree').Identifier} _parent_nodes\n\t */\n\trender(block, parent_node, _parent_nodes) {\n\t\tconst in_head = is_head(parent_node);\n\t\tconst can_use_innerhtml = !in_head && parent_node && !this.prev && !this.next;\n\t\tif (can_use_innerhtml && !this.renderer.options.hydratable) {\n\t\t\t/** @param {import('estree').Node} content */\n\t\t\tconst insert = (content) => b`${parent_node}.innerHTML = ${content};`[0];\n\t\t\tconst { init } = this.rename_this_method(block, (content) => insert(content));\n\t\t\tblock.chunks.mount.push(insert(init));\n\t\t} else {\n\t\t\tconst needs_anchor =\n\t\t\t\tin_head ||\n\t\t\t\t(this.next ? !this.next.is_dom_node() : !this.parent || !this.parent.is_dom_node());\n\t\t\tconst html_tag = block.get_unique_name('html_tag');\n\t\t\tconst html_anchor = needs_anchor && block.get_unique_name('html_anchor');\n\t\t\tblock.add_variable(html_tag);\n\t\t\tconst { init } = this.rename_this_method(block, (content) => x`${html_tag}.p(${content})`);\n\t\t\tconst update_anchor = needs_anchor ? html_anchor : this.next ? this.next.var : 'null';\n\t\t\tconst parent_element = /** @type {import('../../nodes/Element.js').default} */ (\n\t\t\t\tthis.node.find_nearest(/^Element/)\n\t\t\t);\n\t\t\tconst is_svg = parent_element && parent_element.namespace === namespaces.svg;\n\t\t\tblock.chunks.create.push(b`${html_tag} = new @HtmlTag(${is_svg ? 'true' : 'false'});`);\n\t\t\tif (this.renderer.options.hydratable) {\n\t\t\t\tblock.chunks.claim.push(\n\t\t\t\t\tb`${html_tag} = @claim_html_tag(${_parent_nodes}, ${is_svg ? 'true' : 'false'});`\n\t\t\t\t);\n\t\t\t}\n\t\t\tblock.chunks.hydrate.push(b`${html_tag}.a = ${update_anchor};`);\n\t\t\tblock.chunks.mount.push(\n\t\t\t\tb`${html_tag}.m(${init}, ${parent_node || '#target'}, ${parent_node ? null : '#anchor'});`\n\t\t\t);\n\t\t\tif (needs_anchor) {\n\t\t\t\tblock.add_element(html_anchor, x`@empty()`, x`@empty()`, parent_node);\n\t\t\t}\n\t\t\tif (!parent_node || in_head) {\n\t\t\t\tblock.chunks.destroy.push(b`if (detaching) ${html_tag}.d();`);\n\t\t\t}\n\t\t}\n\t}\n}\n", "import Wrapper from './shared/Wrapper.js';\nimport { x } from 'code-red';\n\n/** @extends Wrapper<import('../../nodes/Comment.js').default> */\nexport default class CommentWrapper extends Wrapper {\n\t/**\n\t * @param {import('../Renderer.js').default} renderer\n\t * @param {import('../Block.js').default} block\n\t * @param {import('./shared/Wrapper.js').default} parent\n\t * @param {import('../../nodes/Comment.js').default} node\n\t */\n\tconstructor(renderer, block, parent, node) {\n\t\tsuper(renderer, block, parent, node);\n\t\tthis.var = /** @type {import('estree').Identifier} */ (x`c`);\n\t}\n\n\t/**\n\t * @param {import('../Block.js').default} block\n\t * @param {import('estree').Identifier} parent_node\n\t * @param {import('estree').Identifier} parent_nodes\n\t */\n\trender(block, parent_node, parent_nodes) {\n\t\tif (!this.renderer.options.preserveComments) return;\n\t\tconst string_literal = {\n\t\t\ttype: 'Literal',\n\t\t\tvalue: this.node.data,\n\t\t\tloc: {\n\t\t\t\tstart: this.renderer.locate(this.node.start),\n\t\t\t\tend: this.renderer.locate(this.node.end)\n\t\t\t}\n\t\t};\n\t\tblock.add_element(\n\t\t\tthis.var,\n\t\t\tx`@comment(${string_literal})`,\n\t\t\tparent_nodes && x`@claim_comment(${parent_nodes}, ${string_literal})`,\n\t\t\tparent_node\n\t\t);\n\t}\n\ttext() {\n\t\tif (!this.renderer.options.preserveComments) return '';\n\t\treturn `<!--${this.node.data}-->`;\n\t}\n}\n", "import Wrapper from '../shared/Wrapper.js';\nimport { is_void } from '../../../../../shared/utils/names.js';\nimport FragmentWrapper from '../Fragment.js';\nimport { escape_html, string_literal } from '../../../utils/stringify.js';\nimport TextWrapper from '../Text.js';\nimport fix_attribute_casing from './fix_attribute_casing.js';\nimport { b, x, p } from 'code-red';\nimport { namespaces } from '../../../../utils/namespaces.js';\nimport AttributeWrapper from './Attribute.js';\nimport StyleAttributeWrapper from './StyleAttribute.js';\nimport SpreadAttributeWrapper from './SpreadAttribute.js';\nimport {\n\tregex_dimensions,\n\tregex_starts_with_newline,\n\tregex_backslashes,\n\tregex_border_box_size,\n\tregex_content_box_size,\n\tregex_device_pixel_content_box_size,\n\tregex_content_rect\n} from '../../../../utils/patterns.js';\nimport Binding from './Binding.js';\nimport add_to_set from '../../../utils/add_to_set.js';\nimport { add_event_handler } from '../shared/add_event_handlers.js';\nimport { add_action } from '../shared/add_actions.js';\nimport bind_this from '../shared/bind_this.js';\nimport { is_head } from '../shared/is_head.js';\nimport EventHandler from './EventHandler.js';\nimport { extract_names } from 'periscopic';\nimport Action from '../../../nodes/Action.js';\nimport MustacheTagWrapper from '../MustacheTag.js';\nimport RawMustacheTagWrapper from '../RawMustacheTag.js';\nimport is_dynamic from '../shared/is_dynamic.js';\nimport {\n\tis_name_contenteditable,\n\thas_contenteditable_attr\n} from '../../../utils/contenteditable.js';\nimport create_debugging_comment from '../shared/create_debugging_comment.js';\nimport { push_array } from '../../../../utils/push_array.js';\nimport CommentWrapper from '../Comment.js';\n\nconst regex_contains_radio_or_checkbox_or_file = /radio|checkbox|file/;\nconst regex_contains_radio_or_checkbox_or_range_or_file = /radio|checkbox|range|file/;\nconst events = [\n\t{\n\t\tevent_names: ['input'],\n\t\tfilter: (node, _name) =>\n\t\t\tnode.name === 'textarea' ||\n\t\t\t(node.name === 'input' &&\n\t\t\t\t!regex_contains_radio_or_checkbox_or_range_or_file.test(\n\t\t\t\t\t/** @type {string} */ (node.get_static_attribute_value('type'))\n\t\t\t\t))\n\t},\n\t{\n\t\tevent_names: ['input'],\n\t\tfilter: (node, name) => is_name_contenteditable(name) && has_contenteditable_attr(node)\n\t},\n\t{\n\t\tevent_names: ['change'],\n\t\tfilter: (node, _name) =>\n\t\t\tnode.name === 'select' ||\n\t\t\t(node.name === 'input' &&\n\t\t\t\tregex_contains_radio_or_checkbox_or_file.test(\n\t\t\t\t\t/** @type {string} */ (node.get_static_attribute_value('type'))\n\t\t\t\t))\n\t},\n\t{\n\t\tevent_names: ['change', 'input'],\n\t\tfilter: (node, _name) =>\n\t\t\tnode.name === 'input' && node.get_static_attribute_value('type') === 'range'\n\t},\n\t// resize events\n\t{\n\t\tevent_names: ['elementresize'],\n\t\tfilter: (_node, name) => regex_dimensions.test(name)\n\t},\n\t{\n\t\tevent_names: ['elementresizecontentbox'],\n\t\tfilter: (_node, name) => regex_content_rect.test(name) ?? regex_content_box_size.test(name)\n\t},\n\t{\n\t\tevent_names: ['elementresizeborderbox'],\n\t\tfilter: (_node, name) => regex_border_box_size.test(name)\n\t},\n\t{\n\t\tevent_names: ['elementresizedevicepixelcontentbox'],\n\t\tfilter: (_node, name) => regex_device_pixel_content_box_size.test(name)\n\t},\n\t// media events\n\t{\n\t\tevent_names: ['timeupdate'],\n\t\tfilter: (node, name) =>\n\t\t\tnode.is_media_node() && (name === 'currentTime' || name === 'played' || name === 'ended')\n\t},\n\t{\n\t\tevent_names: ['durationchange'],\n\t\tfilter: (node, name) => node.is_media_node() && name === 'duration'\n\t},\n\t{\n\t\tevent_names: ['play', 'pause'],\n\t\tfilter: (node, name) => node.is_media_node() && name === 'paused'\n\t},\n\t{\n\t\tevent_names: ['progress'],\n\t\tfilter: (node, name) => node.is_media_node() && name === 'buffered'\n\t},\n\t{\n\t\tevent_names: ['loadedmetadata'],\n\t\tfilter: (node, name) => node.is_media_node() && (name === 'buffered' || name === 'seekable')\n\t},\n\t{\n\t\tevent_names: ['volumechange'],\n\t\tfilter: (node, name) => node.is_media_node() && (name === 'volume' || name === 'muted')\n\t},\n\t{\n\t\tevent_names: ['ratechange'],\n\t\tfilter: (node, name) => node.is_media_node() && name === 'playbackRate'\n\t},\n\t{\n\t\tevent_names: ['seeking', 'seeked'],\n\t\tfilter: (node, name) => node.is_media_node() && name === 'seeking'\n\t},\n\t{\n\t\tevent_names: ['ended'],\n\t\tfilter: (node, name) => node.is_media_node() && name === 'ended'\n\t},\n\t{\n\t\tevent_names: ['resize'],\n\t\tfilter: (node, name) =>\n\t\t\tnode.is_media_node() && (name === 'videoHeight' || name === 'videoWidth')\n\t},\n\t{\n\t\t// from https://html.spec.whatwg.org/multipage/media.html#ready-states\n\t\t// and https://html.spec.whatwg.org/multipage/media.html#loading-the-media-resource\n\t\tevent_names: [\n\t\t\t'loadedmetadata',\n\t\t\t'loadeddata',\n\t\t\t'canplay',\n\t\t\t'canplaythrough',\n\t\t\t'playing',\n\t\t\t'waiting',\n\t\t\t'emptied'\n\t\t],\n\t\tfilter: (node, name) => node.is_media_node() && name === 'readyState'\n\t},\n\t// details event\n\t{\n\t\tevent_names: ['toggle'],\n\t\tfilter: (node, _name) => node.name === 'details'\n\t},\n\t{\n\t\tevent_names: ['load'],\n\t\tfilter: (_, name) => name === 'naturalHeight' || name === 'naturalWidth'\n\t}\n];\nconst CHILD_DYNAMIC_ELEMENT_BLOCK = 'child_dynamic_element';\nconst regex_invalid_variable_identifier_characters = /[^a-zA-Z0-9_$]/g;\nconst regex_minus_signs = /-/g;\n\n/** @extends Wrapper<import('../../../nodes/Element.js').default> */\nexport default class ElementWrapper extends Wrapper {\n\t/** @type {import('../Fragment.js').default} */\n\tfragment;\n\n\t/** @type {Array<AttributeWrapper | import('./StyleAttribute.js').default | import('./SpreadAttribute.js').default>} */\n\tattributes;\n\n\t/** @type {import('./Binding.js').default[]} */\n\tbindings;\n\n\t/** @type {import('./EventHandler.js').default[]} */\n\tevent_handlers;\n\n\t/** @type {string[]} */\n\tclass_dependencies;\n\n\t/** @type {Set<string>} */\n\tdynamic_style_dependencies;\n\n\t/** @type {boolean} */\n\thas_dynamic_attribute;\n\n\t/** @type {Set<string>} */\n\tselect_binding_dependencies;\n\n\t/** @type {boolean} */\n\thas_dynamic_value;\n\n\t/** @type {any} */\n\tdynamic_value_condition;\n\n\t/** @type {any} */\n\tvar;\n\n\t/** @type {boolean} */\n\tvoid;\n\n\t/** @type {import('../../Block.js').default} */\n\tchild_dynamic_element_block = null;\n\n\t/** @type {ElementWrapper} */\n\tchild_dynamic_element = null;\n\t/** */\n\telement_data_name = null;\n\n\t/**\n\t * @param {import('../../Renderer.js').default} renderer\n\t * @param {import('../../Block.js').default} block\n\t * @param {import('../shared/Wrapper.js').default} parent\n\t * @param {import('../../../nodes/Element.js').default} node\n\t * @param {boolean} strip_whitespace\n\t * @param {import('../shared/Wrapper.js').default} next_sibling\n\t */\n\tconstructor(renderer, block, parent, node, strip_whitespace, next_sibling) {\n\t\tsuper(renderer, block, parent, node);\n\t\tthis.var = {\n\t\t\ttype: 'Identifier',\n\t\t\tname: node.name.replace(regex_invalid_variable_identifier_characters, '_')\n\t\t};\n\t\tthis.void = is_void(node.name);\n\t\tthis.class_dependencies = [];\n\t\tif (node.is_dynamic_element && block.type !== CHILD_DYNAMIC_ELEMENT_BLOCK) {\n\t\t\tthis.child_dynamic_element_block = block.child({\n\t\t\t\tcomment: create_debugging_comment(node, renderer.component),\n\t\t\t\tname: renderer.component.get_unique_name('create_dynamic_element'),\n\t\t\t\ttype: CHILD_DYNAMIC_ELEMENT_BLOCK\n\t\t\t});\n\t\t\trenderer.blocks.push(this.child_dynamic_element_block);\n\t\t\tthis.child_dynamic_element = new ElementWrapper(\n\t\t\t\trenderer,\n\t\t\t\tthis.child_dynamic_element_block,\n\t\t\t\tparent,\n\t\t\t\tnode,\n\t\t\t\tstrip_whitespace,\n\t\t\t\tnext_sibling\n\t\t\t);\n\n\t\t\t// in the case of `parent_block -> child_dynamic_element_block -> child_dynamic_element`\n\t\t\t// `child_dynamic_element_block.add_intro/outro` is called inside `new ElementWrapper()`\n\t\t\t// but when `is_local === true` it does not bubble to parent_block\n\t\t\t// we manually add transitions back to the parent_block (#8233)\n\t\t\tif (node.intro) block.add_intro(node.intro.is_local);\n\t\t\tif (node.outro) block.add_outro(node.outro.is_local);\n\n\t\t\t// the original svelte:element is never used for rendering, because\n\t\t\t// it gets assigned a child_dynamic_element which is used in all rendering logic.\n\t\t\t// so doing all of this on the original svelte:element will just cause double\n\t\t\t// code, because it will be done again on the child_dynamic_element.\n\t\t\treturn;\n\t\t}\n\t\tthis.dynamic_style_dependencies = new Set();\n\t\tif (this.node.children.length) {\n\t\t\tthis.node.lets.forEach((l) => {\n\t\t\t\textract_names(l.value || l.name).forEach((name) => {\n\t\t\t\t\trenderer.add_to_context(name, true);\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\t\tthis.attributes = this.node.attributes.map((attribute) => {\n\t\t\tif (attribute.name === 'style') {\n\t\t\t\treturn new StyleAttributeWrapper(this, block, attribute);\n\t\t\t}\n\t\t\tif (attribute.type === 'Spread') {\n\t\t\t\treturn new SpreadAttributeWrapper(this, block, attribute);\n\t\t\t}\n\t\t\treturn new AttributeWrapper(this, block, attribute);\n\t\t});\n\t\tthis.has_dynamic_attribute = !!this.attributes.find(\n\t\t\t(attr) => attr.node.get_dependencies().length > 0\n\t\t);\n\t\t// ordinarily, there'll only be one... but we need to handle\n\t\t// the rare case where an element can have multiple bindings,\n\t\t// e.g. <audio bind:paused bind:currentTime>\n\t\tthis.bindings = this.node.bindings.map((binding) => new Binding(block, binding, this));\n\t\tthis.event_handlers = this.node.handlers.map(\n\t\t\t(event_handler) => new EventHandler(event_handler, this)\n\t\t);\n\n\t\tif (node.intro) block.add_intro(node.intro.is_local);\n\t\tif (node.outro) block.add_outro(node.outro.is_local);\n\n\t\tif (node.animation) {\n\t\t\tblock.add_animation();\n\t\t}\n\t\tblock.add_dependencies(node.tag_expr.dependencies);\n\t\t// add directive and handler dependencies\n\t\t[node.animation, node.outro, ...node.actions, ...node.classes, ...node.styles].forEach(\n\t\t\t(directive) => {\n\t\t\t\tif (directive && directive.expression) {\n\t\t\t\t\tblock.add_dependencies(directive.expression.dependencies);\n\t\t\t\t}\n\t\t\t}\n\t\t);\n\t\tnode.handlers.forEach((handler) => {\n\t\t\tif (handler.expression) {\n\t\t\t\tblock.add_dependencies(handler.expression.dependencies);\n\t\t\t}\n\t\t});\n\t\tthis.fragment = new FragmentWrapper(\n\t\t\trenderer,\n\t\t\tblock,\n\t\t\tnode.children,\n\t\t\tthis,\n\t\t\tstrip_whitespace,\n\t\t\tnext_sibling\n\t\t);\n\t\tthis.element_data_name = block.get_unique_name(`${this.var.name}_data`);\n\t}\n\n\t/**\n\t * @param {import('../../Block.js').default} block\n\t * @param {import('estree').Identifier} parent_node\n\t * @param {import('estree').Identifier} parent_nodes\n\t */\n\trender(block, parent_node, parent_nodes) {\n\t\tif (this.child_dynamic_element) {\n\t\t\tthis.render_dynamic_element(block, parent_node, parent_nodes);\n\t\t} else {\n\t\t\tthis.render_element(block, parent_node, parent_nodes);\n\t\t}\n\t}\n\n\t/**\n\t * @param {import('../../Block.js').default} block\n\t * @param {import('estree').Identifier} parent_node\n\t * @param {import('estree').Identifier} parent_nodes\n\t */\n\trender_dynamic_element(block, parent_node, parent_nodes) {\n\t\tthis.child_dynamic_element.render(\n\t\t\tthis.child_dynamic_element_block,\n\t\t\tnull,\n\t\t\t/** @type {unknown} */ /** @type {import('estree').Identifier} */ (x`#nodes`)\n\t\t);\n\t\tconst is_tag_dynamic = this.node.tag_expr.dynamic_dependencies().length > 0;\n\t\tconst tag = this.node.tag_expr.manipulate(block);\n\t\tblock.chunks.init.push(b`\n\t\t\t${this.renderer.options.dev && b`@validate_dynamic_element(${tag});`}\n\t\t\t${\n\t\t\t\tthis.renderer.options.dev &&\n\t\t\t\tthis.node.children.length > 0 &&\n\t\t\t\tb`@validate_void_dynamic_element(${tag});`\n\t\t\t}\n\t\t\tlet ${this.var} = ${tag} && ${this.child_dynamic_element_block.name}(#ctx);\n\t\t`);\n\t\tblock.chunks.create.push(b`\n\t\t\tif (${this.var}) ${this.var}.c();\n\t\t`);\n\t\tif (this.renderer.options.hydratable) {\n\t\t\tblock.chunks.claim.push(b`\n\t\t\t\tif (${this.var}) ${this.var}.l(${parent_nodes});\n\t\t\t`);\n\t\t}\n\t\tblock.chunks.mount.push(b`\n\t\t\tif (${this.var}) ${this.var}.m(${parent_node || '#target'}, ${parent_node ? 'null' : '#anchor'});\n\t\t`);\n\t\tif (is_tag_dynamic) {\n\t\t\tconst previous_tag = block.get_unique_name('previous_tag');\n\t\t\tblock.add_variable(previous_tag, tag);\n\t\t\tconst anchor = this.get_or_create_anchor(block, parent_node, parent_nodes);\n\t\t\tconst has_transitions = !!(this.node.intro || this.node.outro);\n\t\t\tconst not_equal = this.renderer.component.component_options.immutable\n\t\t\t\t? x`@not_equal`\n\t\t\t\t: x`@safe_not_equal`;\n\t\t\tconst tag_will_be_removed = block.get_unique_name('tag_will_be_removed');\n\t\t\tif (has_transitions) {\n\t\t\t\tblock.add_variable(tag_will_be_removed, x`false`);\n\t\t\t}\n\t\t\tblock.chunks.update.push(b`\n\t\t\t\tif (${tag}) {\n\t\t\t\t\tif (!${previous_tag}) {\n\t\t\t\t\t\t${this.var} = ${this.child_dynamic_element_block.name}(#ctx);\n\t\t\t\t\t\t${previous_tag} = ${tag};\n\t\t\t\t\t\t${this.var}.c();\n\t\t\t\t\t\t${has_transitions && b`@transition_in(${this.var})`}\n\t\t\t\t\t\t${this.var}.m(${this.get_update_mount_node(anchor)}, ${anchor});\n\t\t\t\t\t} else if (${not_equal}(${previous_tag}, ${tag})) {\n\t\t\t\t\t\t${this.var}.d(1);\n\t\t\t\t\t\t${this.renderer.options.dev && b`@validate_dynamic_element(${tag});`}\n\t\t\t\t\t\t${\n\t\t\t\t\t\t\tthis.renderer.options.dev &&\n\t\t\t\t\t\t\tthis.node.children.length > 0 &&\n\t\t\t\t\t\t\tb`@validate_void_dynamic_element(${tag});`\n\t\t\t\t\t\t}\n\t\t\t\t\t\t${this.var} = ${this.child_dynamic_element_block.name}(#ctx);\n\t\t\t\t\t\t${previous_tag} = ${tag};\n\t\t\t\t\t\t${this.var}.c();\n\t\t\t\t\t\t${\n\t\t\t\t\t\t\thas_transitions &&\n\t\t\t\t\t\t\tb`if (${tag_will_be_removed}) {\n\t\t\t\t\t\t\t${tag_will_be_removed} = false;\n\t\t\t\t\t\t\t@transition_in(${this.var})\n\t\t\t\t\t\t}`\n\t\t\t\t\t\t}\n\t\t\t\t\t\t${this.var}.m(${this.get_update_mount_node(anchor)}, ${anchor});\n\t\t\t\t\t} else {\n\t\t\t\t\t\t${\n\t\t\t\t\t\t\thas_transitions &&\n\t\t\t\t\t\t\tb`if (${tag_will_be_removed}) {\n\t\t\t\t\t\t\t${tag_will_be_removed} = false;\n\t\t\t\t\t\t\t@transition_in(${this.var})\n\t\t\t\t\t\t}`\n\t\t\t\t\t\t}\n\t\t\t\t\t\t${this.var}.p(#ctx, #dirty);\n\t\t\t\t\t}\n\t\t\t\t} else if (${previous_tag}) {\n\t\t\t\t\t${\n\t\t\t\t\t\thas_transitions\n\t\t\t\t\t\t\t? b`\n\t\t\t\t\t\t\t\t${tag_will_be_removed} = true;\n\t\t\t\t\t\t\t\t@group_outros();\n\t\t\t\t\t\t\t\t@transition_out(${this.var}, 1, 1, () => {\n\t\t\t\t\t\t\t\t\t${this.var} = null;\n\t\t\t\t\t\t\t\t\t${previous_tag} = ${tag};\n\t\t\t\t\t\t\t\t\t${tag_will_be_removed} = false;\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t@check_outros();\n\t\t\t\t\t\t\t`\n\t\t\t\t\t\t\t: b`\n\t\t\t\t\t\t\t\t${this.var}.d(1);\n\t\t\t\t\t\t\t\t${this.var} = null;\n\t\t\t\t\t\t\t\t${previous_tag} = ${tag};\n\t\t\t\t\t\t\t`\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t`);\n\t\t} else {\n\t\t\tblock.chunks.update.push(b`\n\t\t\t\tif (${tag}) {\n\t\t\t\t\t${this.var}.p(#ctx, #dirty);\n\t\t\t\t}\n\t\t\t`);\n\t\t}\n\t\tif (this.child_dynamic_element_block.has_intros) {\n\t\t\tblock.chunks.intro.push(b`@transition_in(${this.var}, #local);`);\n\t\t}\n\t\tif (this.child_dynamic_element_block.has_outros) {\n\t\t\tblock.chunks.outro.push(b`@transition_out(${this.var}, #local);`);\n\t\t}\n\t\tblock.chunks.destroy.push(b`if (${this.var}) ${this.var}.d(detaching)`);\n\t\tif (this.node.animation) {\n\t\t\tconst measurements = block.get_unique_name('measurements');\n\t\t\tblock.add_variable(measurements);\n\t\t\tblock.chunks.measure.push(b`${measurements} = ${this.var}.r()`);\n\t\t\tblock.chunks.fix.push(b`${this.var}.f();`);\n\t\t\tblock.chunks.animate.push(b`\n\t\t\t\t${this.var}.s(${measurements});\n\t\t\t\t${this.var}.a()\n\t\t\t`);\n\t\t}\n\t}\n\tis_dom_node() {\n\t\treturn super.is_dom_node() && !this.child_dynamic_element;\n\t}\n\n\t/**\n\t * @param {import('../../Block.js').default} block\n\t * @param {import('estree').Identifier} parent_node\n\t * @param {import('estree').Identifier} parent_nodes\n\t */\n\trender_element(block, parent_node, parent_nodes) {\n\t\tconst { renderer } = this;\n\t\tconst hydratable = renderer.options.hydratable;\n\t\tif (this.node.name === 'noscript') return;\n\t\tconst node = this.var;\n\t\tconst nodes = parent_nodes && block.get_unique_name(`${this.var.name}_nodes`); // if we're in unclaimable territory, i.e. <head>, parent_nodes is null\n\t\tconst children = x`@children(${this.node.name === 'template' ? x`${node}.content` : node})`;\n\t\tblock.add_variable(node);\n\t\tconst render_statement = this.get_render_statement(block);\n\t\tblock.chunks.create.push(b`${node} = ${render_statement};`);\n\t\tconst { can_use_textcontent, can_optimise_to_html_string, can_optimise_hydration } = this.node;\n\t\tif (hydratable) {\n\t\t\tif (parent_nodes) {\n\t\t\t\tblock.chunks.claim.push(b`\n\t\t\t\t\t${node} = ${this.get_claim_statement(block, parent_nodes, can_optimise_hydration)};\n\t\t\t\t`);\n\t\t\t\tif (!can_optimise_hydration && !this.void && this.node.children.length > 0) {\n\t\t\t\t\tblock.chunks.claim.push(b`\n\t\t\t\t\t\tvar ${nodes} = ${children};\n\t\t\t\t\t`);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tblock.chunks.claim.push(b`${node} = ${render_statement};`);\n\t\t\t}\n\t\t}\n\t\tif (parent_node) {\n\t\t\tconst append = b`@append(${parent_node}, ${node});`;\n\t\t\t/** @type {import('estree').CallExpression} */ (\n\t\t\t\t/** @type {import('estree').ExpressionStatement} */ (append[0]).expression\n\t\t\t).callee.loc = {\n\t\t\t\tstart: this.renderer.locate(this.node.start),\n\t\t\t\tend: this.renderer.locate(this.node.end)\n\t\t\t};\n\t\t\tblock.chunks.mount.push(append);\n\t\t\tif (is_head(parent_node)) {\n\t\t\t\tblock.chunks.destroy.push(b`@detach(${node});`);\n\t\t\t}\n\t\t} else {\n\t\t\tconst insert = b`@insert(#target, ${node}, #anchor);`;\n\t\t\t/** @type {import('estree').CallExpression} */ (\n\t\t\t\t/** @type {import('estree').ExpressionStatement} */ (insert[0]).expression\n\t\t\t).callee.loc = {\n\t\t\t\tstart: this.renderer.locate(this.node.start),\n\t\t\t\tend: this.renderer.locate(this.node.end)\n\t\t\t};\n\t\t\tblock.chunks.mount.push(insert);\n\t\t\t// TODO we eventually need to consider what happens to elements\n\t\t\t// that belong to the same outgroup as an outroing element...\n\t\t\tblock.chunks.destroy.push(b`if (detaching) @detach(${node});`);\n\t\t}\n\t\t// insert static children with textContent or innerHTML\n\t\t// skip textcontent for <template>.  append nodes to TemplateElement.content instead\n\t\tif (can_optimise_to_html_string && (!hydratable || can_optimise_hydration)) {\n\t\t\tif (this.fragment.nodes.length === 1 && this.fragment.nodes[0].node.type === 'Text') {\n\t\t\t\t/** @type {import('estree').Node} */\n\t\t\t\tlet text = string_literal(\n\t\t\t\t\t/** @type {import('../Text.js').default} */ (this.fragment.nodes[0]).data\n\t\t\t\t);\n\t\t\t\tif (hydratable) {\n\t\t\t\t\tconst variable = block.get_unique_name('textContent');\n\t\t\t\t\tblock.add_variable(variable, text);\n\t\t\t\t\ttext = variable;\n\t\t\t\t}\n\t\t\t\tblock.chunks.create.push(b`${node}.textContent = ${text};`);\n\t\t\t\tif (hydratable) {\n\t\t\t\t\tblock.chunks.claim.push(\n\t\t\t\t\t\tb`if (@get_svelte_dataset(${node}) !== \"${this.node.hash()}\") ${node}.textContent = ${text};`\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tconst state = {\n\t\t\t\t\tquasi: {\n\t\t\t\t\t\ttype: 'TemplateElement',\n\t\t\t\t\t\tvalue: { raw: '' }\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t\t/** @type {import('estree').Node} */\n\t\t\t\tlet literal = {\n\t\t\t\t\ttype: 'TemplateLiteral',\n\t\t\t\t\texpressions: [],\n\t\t\t\t\tquasis: []\n\t\t\t\t};\n\t\t\t\tconst can_use_raw_text = !this.node.can_use_innerhtml && can_use_textcontent;\n\t\t\t\tto_html(\n\t\t\t\t\t/** @type {unknown} */ /** @type {Array<ElementWrapper | import('../Comment.js').default | import('../Text.js').default>} */ (\n\t\t\t\t\t\tthis.fragment.nodes\n\t\t\t\t\t),\n\t\t\t\t\tblock,\n\t\t\t\t\tliteral,\n\t\t\t\t\tstate,\n\t\t\t\t\tcan_use_raw_text\n\t\t\t\t);\n\t\t\t\tliteral.quasis.push(/** @type {any} */ (state.quasi));\n\t\t\t\tif (hydratable) {\n\t\t\t\t\tconst variable = block.get_unique_name('textContent');\n\t\t\t\t\tblock.add_variable(variable, literal);\n\t\t\t\t\tliteral = variable;\n\t\t\t\t}\n\t\t\t\tconst property = this.node.can_use_innerhtml ? 'innerHTML' : 'textContent';\n\t\t\t\tblock.chunks.create.push(b`${node}.${property} = ${literal};`);\n\t\t\t\tif (hydratable) {\n\t\t\t\t\tblock.chunks.claim.push(\n\t\t\t\t\t\tb`if (@get_svelte_dataset(${node}) !== \"${this.node.hash()}\") ${node}.${property} = ${literal};`\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tthis.fragment.nodes.forEach((child) => {\n\t\t\t\tchild.render(block, this.node.name === 'template' ? x`${node}.content` : node, nodes, {\n\t\t\t\t\telement_data_name: this.element_data_name\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\t\tconst event_handler_or_binding_uses_context =\n\t\t\tthis.bindings.some((binding) => binding.handler.uses_context) ||\n\t\t\tthis.node.handlers.some((handler) => handler.uses_context) ||\n\t\t\tthis.node.actions.some((action) => action.uses_context);\n\t\tif (event_handler_or_binding_uses_context) {\n\t\t\tblock.maintain_context = true;\n\t\t}\n\t\tif (this.node.is_dynamic_element) {\n\t\t\tthis.add_dynamic_element_attributes(block);\n\t\t} else {\n\t\t\tthis.add_attributes(block);\n\t\t}\n\t\tthis.add_directives_in_order(block);\n\t\tthis.add_transitions(block);\n\t\tthis.add_animation(block);\n\t\tthis.add_classes(block);\n\t\tthis.add_styles(block);\n\t\tthis.add_manual_style_scoping(block);\n\t\tif (nodes && hydratable && !this.void && !can_optimise_hydration) {\n\t\t\tblock.chunks.claim.push(\n\t\t\t\tb`${this.node.children.length > 0 ? nodes : children}.forEach(@detach);`\n\t\t\t);\n\t\t}\n\t\tif (renderer.options.dev) {\n\t\t\tconst loc = renderer.meta_locate(this.node.start);\n\t\t\tblock.chunks.hydrate.push(\n\t\t\t\tb`@add_location(${this.var}, ${renderer.file_var}, ${loc.line - 1}, ${loc.column}, ${\n\t\t\t\t\t// TODO this.node.start isn't correct if there's a source map. But since we don't know how the\n\t\t\t\t\t// original source file looked, there's not much we can do.\n\t\t\t\t\tthis.node.start\n\t\t\t\t});`\n\t\t\t);\n\t\t}\n\t\tblock.renderer.dirty(this.node.tag_expr.dynamic_dependencies());\n\t}\n\n\t/** @param {import('../../Block.js').default} block */\n\tget_render_statement(block) {\n\t\tconst { name, namespace, tag_expr } = this.node;\n\t\tconst reference = tag_expr.manipulate(block);\n\t\tif (namespace === namespaces.svg) {\n\t\t\treturn x`@svg_element(${reference})`;\n\t\t}\n\t\tif (namespace) {\n\t\t\treturn x`@_document.createElementNS(\"${namespace}\", \"${name}\")`;\n\t\t}\n\n\t\t/** @type {import('./Attribute.js').default} */\n\t\tconst is = /** @type {any} */ (this.attributes.find((attr) => attr.node.name === 'is'));\n\t\tif (is) {\n\t\t\treturn x`@element_is(\"${name}\", ${is\n\t\t\t\t.render_chunks(block)\n\t\t\t\t.reduce((lhs, rhs) => x`${lhs} + ${rhs}`)})`;\n\t\t}\n\t\treturn x`@element(${reference})`;\n\t}\n\n\t/**\n\t * @param {import('../../Block.js').default} block\n\t * @param {import('estree').Identifier} nodes\n\t * @param {boolean} to_optimise_hydration\n\t */\n\tget_claim_statement(block, nodes, to_optimise_hydration) {\n\t\tconst attributes = this.attributes\n\t\t\t.filter((attr) => !(attr instanceof SpreadAttributeWrapper) && !attr.property_name)\n\t\t\t.map(\n\t\t\t\t(attr) =>\n\t\t\t\t\tp`${\n\t\t\t\t\t\t/** @type {import('./StyleAttribute.js').default | import('./Attribute.js').default} */ (\n\t\t\t\t\t\t\tattr\n\t\t\t\t\t\t).name\n\t\t\t\t\t}: true`\n\t\t\t);\n\n\t\t/** @type {string | ReturnType<typeof x>} */\n\t\tlet reference;\n\t\tif (this.node.tag_expr.node.type === 'Literal') {\n\t\t\tif (this.node.namespace) {\n\t\t\t\treference = `\"${this.node.tag_expr.node.value}\"`;\n\t\t\t} else {\n\t\t\t\treference = `\"${\n\t\t\t\t\t/** @type {String} */ (this.node.tag_expr.node.value || '').toUpperCase()\n\t\t\t\t}\"`;\n\t\t\t}\n\t\t} else if (this.node.namespace) {\n\t\t\treference = x`${this.node.tag_expr.manipulate(block)}`;\n\t\t} else {\n\t\t\treference = x`(${this.node.tag_expr.manipulate(block)} || 'null').toUpperCase()`;\n\t\t}\n\t\tif (to_optimise_hydration) {\n\t\t\tattributes.push(p`[\"data-svelte-h\"]: true`);\n\t\t}\n\t\tif (this.node.namespace === namespaces.svg) {\n\t\t\treturn x`@claim_svg_element(${nodes}, ${reference}, { ${attributes} })`;\n\t\t} else {\n\t\t\treturn x`@claim_element(${nodes}, ${reference}, { ${attributes} })`;\n\t\t}\n\t}\n\n\t/** @param {import('../../Block.js').default} block */\n\tadd_directives_in_order(block) {\n\t\t/** @typedef {EventHandler | BindingGroup | Binding | Action} OrderedAttribute */\n\n\t\tconst binding_groups = events\n\t\t\t.map((event) => ({\n\t\t\t\tevents: event.event_names,\n\t\t\t\tbindings: this.bindings\n\t\t\t\t\t.filter((binding) => binding.node.name !== 'this')\n\t\t\t\t\t.filter((binding) => event.filter(this.node, binding.node.name))\n\t\t\t}))\n\t\t\t.filter((group) => group.bindings.length);\n\t\tconst this_binding = this.bindings.find((b) => b.node.name === 'this');\n\n\t\t/** @param {OrderedAttribute} item */\n\t\tfunction getOrder(item) {\n\t\t\tif (item instanceof EventHandler) {\n\t\t\t\treturn item.node.start;\n\t\t\t} else if (item instanceof Binding) {\n\t\t\t\treturn item.node.start;\n\t\t\t} else if (item instanceof Action) {\n\t\t\t\treturn item.start;\n\t\t\t} else {\n\t\t\t\treturn item.bindings[0].node.start;\n\t\t\t}\n\t\t}\n\t\t/** @type {OrderedAttribute[]} */ ([\n\t\t\t...binding_groups,\n\t\t\t...this.event_handlers,\n\t\t\tthis_binding,\n\t\t\t...this.node.actions\n\t\t])\n\t\t\t.filter(Boolean)\n\t\t\t.sort((a, b) => getOrder(a) - getOrder(b))\n\t\t\t.forEach((item) => {\n\t\t\t\tif (item instanceof EventHandler) {\n\t\t\t\t\tadd_event_handler(block, this.var, item);\n\t\t\t\t} else if (item instanceof Binding) {\n\t\t\t\t\tthis.add_this_binding(block, item);\n\t\t\t\t} else if (item instanceof Action) {\n\t\t\t\t\tadd_action(block, this.var, item);\n\t\t\t\t} else {\n\t\t\t\t\tthis.add_bindings(block, item);\n\t\t\t\t}\n\t\t\t});\n\t}\n\n\t/**\n\t * @param {import('../../Block.js').default} block\n\t * @param {BindingGroup} binding_group\n\t */\n\tadd_bindings(block, binding_group) {\n\t\tconst { renderer } = this;\n\t\tif (binding_group.bindings.length === 0) return;\n\t\trenderer.component.has_reactive_assignments = true;\n\t\tconst lock = binding_group.bindings.some((binding) => binding.needs_lock)\n\t\t\t? block.get_unique_name(`${this.var.name}_updating`)\n\t\t\t: null;\n\t\tif (lock) block.add_variable(lock, x`false`);\n\t\tconst handler = renderer.component.get_unique_name(\n\t\t\t`${this.var.name}_${binding_group.events.join('_')}_handler`\n\t\t);\n\t\trenderer.add_to_context(handler.name);\n\t\t// TODO figure out how to handle locks\n\t\tconst needs_lock = binding_group.bindings.some((binding) => binding.needs_lock);\n\n\t\t/** @type {Set<string>} */\n\t\tconst dependencies = new Set();\n\n\t\t/** @type {Set<string>} */\n\t\tconst contextual_dependencies = new Set();\n\t\tbinding_group.bindings.forEach((binding) => {\n\t\t\t// TODO this is a mess\n\t\t\tadd_to_set(dependencies, binding.get_update_dependencies());\n\t\t\tadd_to_set(contextual_dependencies, binding.handler.contextual_dependencies);\n\t\t\tbinding.render(block, lock);\n\t\t});\n\t\t// media bindings — awkward special case. The native timeupdate events\n\t\t// fire too infrequently, so we need to take matters into our\n\t\t// own hands\n\n\t\t/** @type {import('estree').Identifier | undefined} */\n\t\tlet animation_frame;\n\t\tif (binding_group.events[0] === 'timeupdate') {\n\t\t\tanimation_frame = block.get_unique_name(`${this.var.name}_animationframe`);\n\t\t\tblock.add_variable(animation_frame);\n\t\t}\n\t\tconst has_local_function = contextual_dependencies.size > 0 || needs_lock || animation_frame;\n\t\tlet callee = renderer.reference(handler);\n\t\t// TODO dry this out — similar code for event handlers and component bindings\n\t\tif (has_local_function) {\n\t\t\tconst args = Array.from(contextual_dependencies).map((name) => renderer.reference(name));\n\t\t\t// need to create a block-local function that calls an instance-level function\n\t\t\tif (animation_frame) {\n\t\t\t\tblock.chunks.init.push(b`\n\t\t\t\t\tfunction ${handler}() {\n\t\t\t\t\t\t@_cancelAnimationFrame(${animation_frame});\n\t\t\t\t\t\tif (!${this.var}.paused) {\n\t\t\t\t\t\t\t${animation_frame} = @raf(${handler});\n\t\t\t\t\t\t\t${needs_lock && b`${lock} = true;`}\n\t\t\t\t\t\t}\n\t\t\t\t\t\t${callee}.call(${this.var}, ${args});\n\t\t\t\t\t}\n\t\t\t\t`);\n\t\t\t} else {\n\t\t\t\tblock.chunks.init.push(b`\n\t\t\t\t\tfunction ${handler}() {\n\t\t\t\t\t\t${needs_lock && b`${lock} = true;`}\n\t\t\t\t\t\t${callee}.call(${this.var}, ${args});\n\t\t\t\t\t}\n\t\t\t\t`);\n\t\t\t}\n\t\t\tcallee = handler;\n\t\t}\n\t\tconst params = Array.from(contextual_dependencies).map((name) => ({\n\t\t\ttype: 'Identifier',\n\t\t\tname\n\t\t}));\n\t\tthis.renderer.component.partly_hoisted.push(b`\n\t\t\tfunction ${handler}(${params}) {\n\t\t\t\t${binding_group.bindings.map((b) => b.handler.mutation)}\n\t\t\t\t${Array.from(dependencies)\n\t\t\t\t\t.filter((dep) => dep[0] !== '$')\n\t\t\t\t\t.filter((dep) => !contextual_dependencies.has(dep))\n\t\t\t\t\t.map((dep) => b`${this.renderer.invalidate(dep)};`)}\n\t\t\t}\n\t\t`);\n\t\tbinding_group.events.forEach((name) => {\n\t\t\tif (\n\t\t\t\t[\n\t\t\t\t\t'elementresize',\n\t\t\t\t\t'elementresizecontentbox',\n\t\t\t\t\t'elementresizeborderbox',\n\t\t\t\t\t'elementresizedevicepixelcontentbox'\n\t\t\t\t].indexOf(name) !== -1\n\t\t\t) {\n\t\t\t\tconst resize_listener = block.get_unique_name(`${this.var.name}_resize_listener`);\n\t\t\t\tblock.add_variable(resize_listener);\n\t\t\t\t// Can't dynamically do `@fn[name]`, code-red doesn't know how to resolve it\n\t\t\t\tswitch (name) {\n\t\t\t\t\tcase 'elementresize':\n\t\t\t\t\t\tblock.chunks.mount.push(\n\t\t\t\t\t\t\tb`${resize_listener} = @add_iframe_resize_listener(${this.var}, ${callee}.bind(${this.var}));`\n\t\t\t\t\t\t);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'elementresizecontentbox':\n\t\t\t\t\t\tblock.chunks.mount.push(\n\t\t\t\t\t\t\tb`${resize_listener} = @resize_observer_content_box.observe(${this.var}, ${callee}.bind(${this.var}));`\n\t\t\t\t\t\t);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'elementresizeborderbox':\n\t\t\t\t\t\tblock.chunks.mount.push(\n\t\t\t\t\t\t\tb`${resize_listener} = @resize_observer_border_box.observe(${this.var}, ${callee}.bind(${this.var}));`\n\t\t\t\t\t\t);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'elementresizedevicepixelcontentbox':\n\t\t\t\t\t\tblock.chunks.mount.push(\n\t\t\t\t\t\t\tb`${resize_listener} = @resize_observer_device_pixel_content_box.observe(${this.var}, ${callee}.bind(${this.var}));`\n\t\t\t\t\t\t);\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tblock.chunks.destroy.push(b`${resize_listener}();`);\n\t\t\t} else {\n\t\t\t\tblock.event_listeners.push(x`@listen(${this.var}, \"${name}\", ${callee})`);\n\t\t\t}\n\t\t});\n\t\tconst some_initial_state_is_undefined = binding_group.bindings\n\t\t\t.map((binding) => x`${binding.snippet} === void 0`)\n\t\t\t.reduce((lhs, rhs) => x`${lhs} || ${rhs}`);\n\t\tconst should_initialise =\n\t\t\tthis.node.name === 'select' ||\n\t\t\tbinding_group.bindings.find(\n\t\t\t\t(binding) =>\n\t\t\t\t\tbinding.node.name === 'indeterminate' ||\n\t\t\t\t\tis_name_contenteditable(binding.node.name) ||\n\t\t\t\t\tbinding.is_readonly_media_attribute()\n\t\t\t);\n\t\tif (should_initialise) {\n\t\t\tconst callback = has_local_function ? handler : x`() => ${callee}.call(${this.var})`;\n\t\t\tblock.chunks.hydrate.push(\n\t\t\t\tb`if (${some_initial_state_is_undefined}) @add_render_callback(${callback});`\n\t\t\t);\n\t\t}\n\t\tif (binding_group.events[0] === 'elementresize') {\n\t\t\tblock.chunks.hydrate.push(b`@add_render_callback(() => ${callee}.call(${this.var}));`);\n\t\t}\n\t\tif (lock) {\n\t\t\tblock.chunks.update.push(b`${lock} = false;`);\n\t\t}\n\t}\n\n\t/**\n\t * @param {import('../../Block.js').default} block\n\t * @param {import('./Binding.js').default} this_binding\n\t */\n\tadd_this_binding(block, this_binding) {\n\t\tconst { renderer } = this;\n\t\trenderer.component.has_reactive_assignments = true;\n\t\tconst binding_callback = bind_this(renderer.component, block, this_binding, this.var);\n\t\tblock.chunks.mount.push(binding_callback);\n\t}\n\n\t/** @param {import('../../Block.js').default} block */\n\tadd_attributes(block) {\n\t\t// Get all the class and style dependencies first\n\t\tthis.attributes.forEach((attribute) => {\n\t\t\tif (attribute.node.name === 'class') {\n\t\t\t\tconst dependencies = attribute.node.get_dependencies();\n\t\t\t\tpush_array(this.class_dependencies, dependencies);\n\t\t\t} else if (attribute.node.name === 'style') {\n\t\t\t\tadd_to_set(this.dynamic_style_dependencies, attribute.node.get_dependencies());\n\t\t\t}\n\t\t});\n\t\tif (this.node.attributes.some((attr) => attr.is_spread)) {\n\t\t\tthis.add_spread_attributes(block);\n\t\t\treturn;\n\t\t}\n\t\tthis.attributes.forEach((attribute) => {\n\t\t\tattribute.render(block);\n\t\t});\n\t}\n\n\t/** @param {import('../../Block.js').default} block */\n\tadd_spread_attributes(block) {\n\t\tconst levels = block.get_unique_name(`${this.var.name}_levels`);\n\t\tconst initial_props = [];\n\t\tconst updates = [];\n\t\tthis.attributes.forEach((attr) => {\n\t\t\tconst dependencies = attr.node.get_dependencies();\n\t\t\tconst condition = dependencies.length > 0 ? block.renderer.dirty(dependencies) : null;\n\t\t\tif (attr instanceof SpreadAttributeWrapper) {\n\t\t\t\tconst snippet = attr.node.expression.manipulate(block);\n\t\t\t\tinitial_props.push(snippet);\n\t\t\t\tupdates.push(condition ? x`${condition} && ${snippet}` : snippet);\n\t\t\t} else {\n\t\t\t\tconst name = attr.property_name || attr.name;\n\t\t\t\tinitial_props.push(x`{ ${name}: ${attr.get_init(block, attr.get_value(block))} }`);\n\t\t\t\tconst snippet = x`{ ${name}: ${attr.should_cache ? attr.last : attr.get_value(block)} }`;\n\t\t\t\tupdates.push(\n\t\t\t\t\tcondition ? x`${attr.get_dom_update_conditions(block, condition)} && ${snippet}` : snippet\n\t\t\t\t);\n\t\t\t}\n\t\t});\n\t\tblock.chunks.init.push(b`\n\t\t\tlet ${levels} = [${initial_props}];\n\n\t\t\tlet ${this.element_data_name} = {};\n\t\t\tfor (let #i = 0; #i < ${levels}.length; #i += 1) {\n\t\t\t\t${this.element_data_name} = @assign(${this.element_data_name}, ${levels}[#i]);\n\t\t\t}\n\t\t`);\n\t\tconst fn =\n\t\t\tthis.node.namespace === namespaces.svg\n\t\t\t\t? x`@set_svg_attributes`\n\t\t\t\t: this.node.is_dynamic_element\n\t\t\t\t? x`@set_dynamic_element_data(${this.node.tag_expr.manipulate(block)})`\n\t\t\t\t: x`@set_attributes`;\n\t\tblock.chunks.hydrate.push(b`${fn}(${this.var}, ${this.element_data_name});`);\n\t\tif (this.has_dynamic_attribute) {\n\t\t\tblock.chunks.update.push(b`\n\t\t\t\t${fn}(${this.var}, ${this.element_data_name} = @get_spread_update(${levels}, [\n\t\t\t\t\t${updates}\n\t\t\t\t]));\n\t\t\t`);\n\t\t}\n\t\t// handle edge cases for elements\n\t\tif (this.node.name === 'select') {\n\t\t\tconst dependencies = new Set();\n\t\t\tfor (const attr of this.attributes) {\n\t\t\t\tfor (const dep of attr.node.dependencies) {\n\t\t\t\t\tdependencies.add(dep);\n\t\t\t\t}\n\t\t\t}\n\t\t\tblock.chunks.mount.push(b`\n\t\t\t\t'value' in ${this.element_data_name} && (${this.element_data_name}.multiple ? @select_options : @select_option)(${this.var}, ${this.element_data_name}.value);\n\t\t\t`);\n\t\t\tblock.chunks.update.push(b`\n\t\t\t\tif (${block.renderer.dirty(Array.from(dependencies))} && 'value' in ${this.element_data_name}) (${\n\t\t\t\tthis.element_data_name\n\t\t\t}.multiple ? @select_options : @select_option)(${this.var}, ${this.element_data_name}.value);\n\t\t\t`);\n\t\t} else if (\n\t\t\tthis.node.name === 'input' &&\n\t\t\tthis.attributes.find((attr) => attr.node.name === 'value')\n\t\t) {\n\t\t\tconst type = this.node.get_static_attribute_value('type');\n\t\t\tif (\n\t\t\t\ttype === null ||\n\t\t\t\ttype === '' ||\n\t\t\t\ttype === 'text' ||\n\t\t\t\ttype === 'email' ||\n\t\t\t\ttype === 'password'\n\t\t\t) {\n\t\t\t\tblock.chunks.mount.push(b`\n\t\t\t\t\tif ('value' in ${this.element_data_name}) {\n\t\t\t\t\t\t${this.var}.value = ${this.element_data_name}.value;\n\t\t\t\t\t}\n\t\t\t\t`);\n\t\t\t\tblock.chunks.update.push(b`\n\t\t\t\t\tif ('value' in ${this.element_data_name}) {\n\t\t\t\t\t\t${this.var}.value = ${this.element_data_name}.value;\n\t\t\t\t\t}\n\t\t\t\t`);\n\t\t\t}\n\t\t}\n\t\tif (['button', 'input', 'keygen', 'select', 'textarea'].includes(this.node.name)) {\n\t\t\tblock.chunks.mount.push(b`\n\t\t\t\tif (${this.var}.autofocus) ${this.var}.focus();\n\t\t\t`);\n\t\t}\n\t}\n\n\t/** @param {import('../../Block.js').default} block */\n\tadd_dynamic_element_attributes(block) {\n\t\tif (this.attributes.length === 0) return;\n\t\tif (this.has_dynamic_attribute) {\n\t\t\tthis.add_spread_attributes(block);\n\t\t\treturn;\n\t\t}\n\t\tconst static_attributes = [];\n\t\tthis.attributes.forEach((attr) => {\n\t\t\tif (attr instanceof SpreadAttributeWrapper) {\n\t\t\t\tconst snippet = { type: 'SpreadElement', argument: attr.node.expression.manipulate(block) };\n\t\t\t\tstatic_attributes.push(snippet);\n\t\t\t} else {\n\t\t\t\tconst name = attr.property_name || attr.name;\n\t\t\t\tstatic_attributes.push(p`${name}: ${attr.get_value(block)}`);\n\t\t\t}\n\t\t});\n\t\tconst fn =\n\t\t\tthis.node.namespace === namespaces.svg\n\t\t\t\t? x`@set_svg_attributes`\n\t\t\t\t: this.node.is_dynamic_element\n\t\t\t\t? x`@set_dynamic_element_data(${this.node.tag_expr.manipulate(block)})`\n\t\t\t\t: x`@set_attributes`;\n\t\tblock.chunks.hydrate.push(b`${fn}(${this.var}, {${static_attributes}});`);\n\t}\n\n\t/** @param {import('../../Block.js').default} block */\n\tadd_transitions(block) {\n\t\tconst { intro, outro } = this.node;\n\t\tif (!intro && !outro) return;\n\t\tif (intro === outro) {\n\t\t\t// bidirectional transition\n\t\t\tconst name = block.get_unique_name(`${this.var.name}_transition`);\n\t\t\tconst snippet = intro.expression ? intro.expression.manipulate(block) : x`{}`;\n\t\t\tblock.add_variable(name);\n\t\t\tconst fn = this.renderer.reference(intro.name);\n\t\t\tconst intro_block = b`\n\t\t\t\t@add_render_callback(() => {\n\t\t\t\t\tif (!#current) return;\n\t\t\t\t\tif (!${name}) ${name} = @create_bidirectional_transition(${this.var}, ${fn}, ${snippet}, true);\n\t\t\t\t\t${name}.run(1);\n\t\t\t\t});\n\t\t\t`;\n\t\t\tconst outro_block = b`\n\t\t\t\tif (!${name}) ${name} = @create_bidirectional_transition(${this.var}, ${fn}, ${snippet}, false);\n\t\t\t\t${name}.run(0);\n\t\t\t`;\n\t\t\tif (intro.is_local) {\n\t\t\t\tblock.chunks.intro.push(b`\n\t\t\t\t\tif (#local) {\n\t\t\t\t\t\t${intro_block}\n\t\t\t\t\t}\n\t\t\t\t`);\n\t\t\t\tblock.chunks.outro.push(b`\n\t\t\t\t\tif (#local) {\n\t\t\t\t\t\t${outro_block}\n\t\t\t\t\t}\n\t\t\t\t`);\n\t\t\t} else {\n\t\t\t\tblock.chunks.intro.push(intro_block);\n\t\t\t\tblock.chunks.outro.push(outro_block);\n\t\t\t}\n\t\t\tblock.chunks.destroy.push(b`if (detaching && ${name}) ${name}.end();`);\n\t\t} else {\n\t\t\tconst intro_name = intro && block.get_unique_name(`${this.var.name}_intro`);\n\t\t\tconst outro_name = outro && block.get_unique_name(`${this.var.name}_outro`);\n\t\t\tif (intro) {\n\t\t\t\tblock.add_variable(intro_name);\n\t\t\t\tconst snippet = intro.expression ? intro.expression.manipulate(block) : x`{}`;\n\t\t\t\tconst fn = this.renderer.reference(intro.name);\n\t\t\t\tlet intro_block;\n\t\t\t\tif (outro) {\n\t\t\t\t\tintro_block = b`\n\t\t\t\t\t\t@add_render_callback(() => {\n\t\t\t\t\t\t\tif (!#current) return;\n\t\t\t\t\t\t\tif (${outro_name}) ${outro_name}.end(1);\n\t\t\t\t\t\t\t${intro_name} = @create_in_transition(${this.var}, ${fn}, ${snippet});\n\t\t\t\t\t\t\t${intro_name}.start();\n\t\t\t\t\t\t});\n\t\t\t\t\t`;\n\t\t\t\t\tblock.chunks.outro.push(b`if (${intro_name}) ${intro_name}.invalidate();`);\n\t\t\t\t} else {\n\t\t\t\t\tintro_block = b`\n\t\t\t\t\t\tif (!${intro_name}) {\n\t\t\t\t\t\t\t@add_render_callback(() => {\n\t\t\t\t\t\t\t\t${intro_name} = @create_in_transition(${this.var}, ${fn}, ${snippet});\n\t\t\t\t\t\t\t\t${intro_name}.start();\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t`;\n\t\t\t\t}\n\t\t\t\tif (intro.is_local) {\n\t\t\t\t\tintro_block = b`\n\t\t\t\t\t\tif (#local) {\n\t\t\t\t\t\t\t${intro_block}\n\t\t\t\t\t\t}\n\t\t\t\t\t`;\n\t\t\t\t}\n\t\t\t\tblock.chunks.intro.push(intro_block);\n\t\t\t}\n\t\t\tif (outro) {\n\t\t\t\tblock.add_variable(outro_name);\n\t\t\t\tconst snippet = outro.expression ? outro.expression.manipulate(block) : x`{}`;\n\t\t\t\tconst fn = this.renderer.reference(outro.name);\n\t\t\t\tif (!intro) {\n\t\t\t\t\tblock.chunks.intro.push(b`\n\t\t\t\t\t\tif (${outro_name}) ${outro_name}.end(1);\n\t\t\t\t\t`);\n\t\t\t\t}\n\t\t\t\t// TODO hide elements that have outro'd (unless they belong to a still-outroing\n\t\t\t\t// group) prior to their removal from the DOM\n\t\t\t\tlet outro_block = b`\n\t\t\t\t\t${outro_name} = @create_out_transition(${this.var}, ${fn}, ${snippet});\n\t\t\t\t`;\n\t\t\t\tif (outro.is_local) {\n\t\t\t\t\toutro_block = b`\n\t\t\t\t\t\tif (#local) {\n\t\t\t\t\t\t\t${outro_block}\n\t\t\t\t\t\t}\n\t\t\t\t\t`;\n\t\t\t\t}\n\t\t\t\tblock.chunks.outro.push(outro_block);\n\t\t\t\tblock.chunks.destroy.push(b`if (detaching && ${outro_name}) ${outro_name}.end();`);\n\t\t\t}\n\t\t}\n\t\tif (\n\t\t\t(intro && intro.expression && intro.expression.dependencies.size) ||\n\t\t\t(outro && outro.expression && outro.expression.dependencies.size)\n\t\t) {\n\t\t\tblock.maintain_context = true;\n\t\t}\n\t}\n\n\t/** @param {import('../../Block.js').default} block */\n\tadd_animation(block) {\n\t\tif (!this.node.animation) return;\n\t\tconst { outro } = this.node;\n\t\tconst rect = block.get_unique_name('rect');\n\t\tconst stop_animation = block.get_unique_name('stop_animation');\n\t\tblock.add_variable(rect);\n\t\tblock.add_variable(stop_animation, x`@noop`);\n\t\tblock.chunks.measure.push(b`\n\t\t\t${rect} = ${this.var}.getBoundingClientRect();\n\t\t`);\n\t\tif (block.type === CHILD_DYNAMIC_ELEMENT_BLOCK) {\n\t\t\tblock.chunks.measure.push(b`return ${rect}`);\n\t\t\tblock.chunks.restore_measurements.push(b`${rect} = #measurement;`);\n\t\t}\n\t\tblock.chunks.fix.push(b`\n\t\t\t@fix_position(${this.var});\n\t\t\t${stop_animation}();\n\t\t\t${outro && b`@add_transform(${this.var}, ${rect});`}\n\t\t`);\n\n\t\t/** @type {import('estree').Node | ReturnType<typeof x>} */\n\t\tlet params;\n\t\tif (this.node.animation.expression) {\n\t\t\tparams = this.node.animation.expression.manipulate(block);\n\t\t\tif (this.node.animation.expression.dynamic_dependencies().length) {\n\t\t\t\t// if `params` is dynamic, calculate params ahead of time in the `.r()` method\n\t\t\t\tconst params_var = block.get_unique_name('params');\n\t\t\t\tblock.add_variable(params_var);\n\t\t\t\tblock.chunks.measure.push(b`${params_var} = ${params};`);\n\t\t\t\tparams = params_var;\n\t\t\t}\n\t\t} else {\n\t\t\tparams = x`{}`;\n\t\t}\n\t\tconst name = this.renderer.reference(this.node.animation.name);\n\t\tblock.chunks.animate.push(b`\n\t\t\t${stop_animation}();\n\t\t\t${stop_animation} = @create_animation(${this.var}, ${rect}, ${name}, ${params});\n\t\t`);\n\t}\n\n\t/** @param {import('../../Block.js').default} block */\n\tadd_classes(block) {\n\t\tconst has_spread = this.node.attributes.some((attr) => attr.is_spread);\n\t\tthis.node.classes.forEach((class_directive) => {\n\t\t\tconst { expression, name } = class_directive;\n\t\t\tlet snippet;\n\t\t\tlet dependencies;\n\t\t\tif (expression) {\n\t\t\t\tsnippet = expression.manipulate(block);\n\t\t\t\tdependencies = expression.dependencies;\n\t\t\t} else {\n\t\t\t\tsnippet = name;\n\t\t\t\tdependencies = new Set([name]);\n\t\t\t}\n\t\t\tconst updater = b`@toggle_class(${this.var}, \"${name}\", ${snippet});`;\n\t\t\tblock.chunks.hydrate.push(updater);\n\t\t\tif ((this.node.is_dynamic_element || has_spread) && this.has_dynamic_attribute) {\n\t\t\t\tblock.chunks.update.push(updater);\n\t\t\t} else if ((dependencies && dependencies.size > 0) || this.class_dependencies.length) {\n\t\t\t\tconst all_dependencies = this.class_dependencies.concat(...dependencies);\n\t\t\t\tlet condition = block.renderer.dirty(all_dependencies);\n\t\t\t\tif (block.has_outros) {\n\t\t\t\t\tcondition = x`!#current || ${condition}`;\n\t\t\t\t}\n\t\t\t\t// If all of the dependencies are non-dynamic (don't get updated) then there is no reason\n\t\t\t\t// to add an updater for this.\n\t\t\t\tconst any_dynamic_dependencies = all_dependencies.some((dep) => {\n\t\t\t\t\tconst variable = this.renderer.component.var_lookup.get(dep);\n\t\t\t\t\treturn !variable || is_dynamic(variable);\n\t\t\t\t});\n\t\t\t\tif (any_dynamic_dependencies) {\n\t\t\t\t\tblock.chunks.update.push(b`\n\t\t\t\t\t\tif (${condition}) {\n\t\t\t\t\t\t\t${updater}\n\t\t\t\t\t\t}\n\t\t\t\t\t`);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\n\t/** @param {import('../../Block.js').default} block */\n\tadd_styles(block) {\n\t\tconst has_spread = this.node.attributes.some((attr) => attr.is_spread);\n\n\t\t/** @type {import('estree').Identifier | undefined} */\n\t\tlet style_changed_var;\n\t\tconst maybe_create_style_changed_var = () => {\n\t\t\tif (!style_changed_var && this.dynamic_style_dependencies.size) {\n\t\t\t\tstyle_changed_var = block.get_unique_name('style_changed');\n\t\t\t\tconst style_attr_dirty = block.renderer.dirty([...this.dynamic_style_dependencies]);\n\t\t\t\tblock.chunks.update.push(b`const ${style_changed_var} = ${style_attr_dirty};`);\n\t\t\t}\n\t\t};\n\t\tthis.node.styles.forEach((style_directive) => {\n\t\t\tconst { name, expression, important, should_cache } = style_directive;\n\t\t\tconst snippet = expression.manipulate(block);\n\t\t\tlet cached_snippet;\n\t\t\tif (should_cache) {\n\t\t\t\tcached_snippet = block.get_unique_name(`style_${name.replace(regex_minus_signs, '_')}`);\n\t\t\t\tblock.add_variable(cached_snippet, snippet);\n\t\t\t}\n\t\t\tconst updater = b`@set_style(${this.var}, \"${name}\", ${\n\t\t\t\tshould_cache ? cached_snippet : snippet\n\t\t\t}, ${important ? 1 : null})`;\n\t\t\tblock.chunks.hydrate.push(updater);\n\t\t\tconst self_deps = expression.dynamic_dependencies();\n\t\t\tconst all_deps = new Set([...self_deps, ...this.dynamic_style_dependencies]);\n\t\t\tlet condition = block.renderer.dirty([...all_deps]);\n\t\t\t// Assume that style has changed through the spread attribute\n\t\t\tif (has_spread) {\n\t\t\t\tif (should_cache && all_deps.size) {\n\t\t\t\t\t// Update the cached value\n\t\t\t\t\tblock.chunks.update.push(b`\n\t\t\t\t\t\tif (${condition}) {\n\t\t\t\t\t\t\t${cached_snippet} = ${snippet};\n\t\t\t\t\t\t}`);\n\t\t\t\t}\n\t\t\t\tblock.chunks.update.push(updater);\n\t\t\t} else {\n\t\t\t\tif (all_deps.size === 0) return;\n\t\t\t\tif (should_cache) {\n\t\t\t\t\tcondition = x`${condition} && ${cached_snippet} !== (${cached_snippet} = ${snippet})`;\n\t\t\t\t}\n\t\t\t\tif (this.dynamic_style_dependencies.size > 0) {\n\t\t\t\t\tmaybe_create_style_changed_var();\n\t\t\t\t\tcondition = x`${condition} || ${style_changed_var}`;\n\t\t\t\t}\n\t\t\t\tblock.chunks.update.push(b`\n\t\t\t\t\tif (${condition}) {\n\t\t\t\t\t\t${updater}\n\t\t\t\t\t}\n\t\t\t\t`);\n\t\t\t}\n\t\t});\n\t}\n\n\t/** @param {import('../../Block.js').default} block */\n\tadd_manual_style_scoping(block) {\n\t\tif (this.node.needs_manual_style_scoping) {\n\t\t\tconst updater = b`@toggle_class(${this.var}, \"${this.node.component.stylesheet.id}\", true);`;\n\t\t\tblock.chunks.hydrate.push(updater);\n\t\t\tblock.chunks.update.push(updater);\n\t\t}\n\t}\n}\nconst regex_backticks = /`/g;\nconst regex_dollar_signs = /\\$/g;\n/**\n * @param {Array<\n * \t\timport('../Comment.js').default | ElementWrapper | import('../Text.js').default | import('../MustacheTag.js').default | import('../RawMustacheTag.js').default\n * \t>} wrappers\n * @param {import('../../Block.js').default} block\n * @param {any} literal\n * @param {any} state\n * @param {boolean} [can_use_raw_text]\n */\nfunction to_html(wrappers, block, literal, state, can_use_raw_text) {\n\twrappers.forEach((wrapper) => {\n\t\tif (wrapper instanceof CommentWrapper) {\n\t\t\tstate.quasi.value.raw += wrapper.text();\n\t\t} else if (wrapper instanceof TextWrapper) {\n\t\t\t// Don't add the <pre>/<textarea> newline logic here because pre/textarea.innerHTML\n\t\t\t// would keep the leading newline, too, only someParent.innerHTML = '..<pre/textarea>..' won't\n\t\t\tif (wrapper.use_space()) {\n\t\t\t\t// use space instead of the text content\n\t\t\t\tstate.quasi.value.raw += ' ';\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst parent = /** @type {import('../../../nodes/Element.js').default} */ (\n\t\t\t\twrapper.node.parent\n\t\t\t);\n\t\t\tconst raw =\n\t\t\t\tparent && (parent.name === 'script' || parent.name === 'style' || can_use_raw_text);\n\t\t\tstate.quasi.value.raw += (raw ? wrapper.data : escape_html(wrapper.data))\n\t\t\t\t.replace(regex_backslashes, '\\\\\\\\')\n\t\t\t\t.replace(regex_backticks, '\\\\`')\n\t\t\t\t.replace(regex_dollar_signs, '\\\\$');\n\t\t} else if (wrapper instanceof MustacheTagWrapper || wrapper instanceof RawMustacheTagWrapper) {\n\t\t\tliteral.quasis.push(state.quasi);\n\t\t\tliteral.expressions.push(wrapper.node.expression.manipulate(block));\n\t\t\tstate.quasi = {\n\t\t\t\ttype: 'TemplateElement',\n\t\t\t\tvalue: { raw: '' }\n\t\t\t};\n\t\t} else if (wrapper.node.name === 'noscript') {\n\t\t\t// do nothing\n\t\t} else {\n\t\t\tconst nodeName = wrapper.node.name;\n\t\t\t// element\n\t\t\tstate.quasi.value.raw += `<${nodeName}`;\n\t\t\tconst is_empty_textarea = nodeName === 'textarea' && wrapper.fragment.nodes.length === 0;\n\t\t\t/** @type {ElementWrapper} */ (wrapper).attributes.forEach((attr) => {\n\t\t\t\tif (is_empty_textarea && attr.node.name === 'value') {\n\t\t\t\t\t// The value attribute of <textarea> renders as content.\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (attr instanceof SpreadAttributeWrapper) {\n\t\t\t\t\tliteral.quasis.push(state.quasi);\n\t\t\t\t\tliteral.expressions.push(x`@stringify_spread(${attr.node.expression.manipulate(block)})`);\n\t\t\t\t\tstate.quasi = {\n\t\t\t\t\t\ttype: 'TemplateElement',\n\t\t\t\t\t\tvalue: { raw: '' }\n\t\t\t\t\t};\n\t\t\t\t} else {\n\t\t\t\t\tstate.quasi.value.raw += ` ${fix_attribute_casing(attr.node.name)}=\"`;\n\t\t\t\t\tto_html_for_attr_value(attr, block, literal, state);\n\t\t\t\t\tstate.quasi.value.raw += '\"';\n\t\t\t\t}\n\t\t\t});\n\t\t\tif (!wrapper.void) {\n\t\t\t\tstate.quasi.value.raw += '>';\n\t\t\t\tif (nodeName === 'pre') {\n\t\t\t\t\t// Two or more leading newlines are required to restore the leading newline immediately after `<pre>`.\n\t\t\t\t\t// see https://html.spec.whatwg.org/multipage/grouping-content.html#the-pre-element\n\t\t\t\t\tconst first = wrapper.fragment.nodes[0];\n\t\t\t\t\tif (\n\t\t\t\t\t\tfirst &&\n\t\t\t\t\t\tfirst.node.type === 'Text' &&\n\t\t\t\t\t\tregex_starts_with_newline.test(first.node.data)\n\t\t\t\t\t) {\n\t\t\t\t\t\tstate.quasi.value.raw += '\\n';\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (is_empty_textarea) {\n\t\t\t\t\t// The <textarea> renders the value attribute as content because the content is stored in the value attribute.\n\t\t\t\t\tconst value_attribute = wrapper.attributes.find((attr) => attr.node.name === 'value');\n\t\t\t\t\tif (value_attribute) {\n\t\t\t\t\t\t// Two or more leading newlines are required to restore the leading newline immediately after `<textarea>`.\n\t\t\t\t\t\t// see https://html.spec.whatwg.org/multipage/syntax.html#element-restrictions\n\t\t\t\t\t\tconst first = value_attribute.node.chunks[0];\n\t\t\t\t\t\tif (first && first.type === 'Text' && regex_starts_with_newline.test(first.data)) {\n\t\t\t\t\t\t\tstate.quasi.value.raw += '\\n';\n\t\t\t\t\t\t}\n\t\t\t\t\t\tto_html_for_attr_value(value_attribute, block, literal, state);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tto_html(\n\t\t\t\t\t/** @type {Array<ElementWrapper | import('../Text.js').default>} */ (\n\t\t\t\t\t\twrapper.fragment.nodes\n\t\t\t\t\t),\n\t\t\t\t\tblock,\n\t\t\t\t\tliteral,\n\t\t\t\t\tstate\n\t\t\t\t);\n\t\t\t\tstate.quasi.value.raw += `</${nodeName}>`;\n\t\t\t} else {\n\t\t\t\tstate.quasi.value.raw += '/>';\n\t\t\t}\n\t\t}\n\t});\n}\n\n/**\n * @param {import('./Attribute.js').default | import('./StyleAttribute.js').default | import('./SpreadAttribute.js').default} attr\n * @param {import('../../Block.js').default} block\n * @param {any} literal\n * @param {any} state\n */\nfunction to_html_for_attr_value(attr, block, literal, state) {\n\tattr.node.chunks.forEach((chunk) => {\n\t\tif (chunk.type === 'Text') {\n\t\t\tstate.quasi.value.raw += escape_html(chunk.data);\n\t\t} else {\n\t\t\tliteral.quasis.push(state.quasi);\n\t\t\tliteral.expressions.push(chunk.manipulate(block));\n\t\t\tstate.quasi = {\n\t\t\t\ttype: 'TemplateElement',\n\t\t\t\tvalue: { raw: '' }\n\t\t\t};\n\t\t}\n\t});\n}\n\n/** @typedef {Object} BindingGroup\n * @property {string[]} events\n * @property {Binding[]} bindings\n */\n", "import Wrapper from './shared/Wrapper.js';\nimport FragmentWrapper from './Fragment.js';\nimport { x, b } from 'code-red';\n\n/** @extends Wrapper<import('../../nodes/Head.js').default> */\nexport default class HeadWrapper extends Wrapper {\n\t/** @type {import('./Fragment.js').default} */\n\tfragment;\n\n\t/**\n\t * @param {import('../Renderer.js').default} renderer\n\t * @param {import('../Block.js').default} block\n\t * @param {import('./shared/Wrapper.js').default} parent\n\t * @param {import('../../nodes/Head.js').default} node\n\t * @param {boolean} strip_whitespace\n\t * @param {import('./shared/Wrapper.js').default} next_sibling\n\t */\n\tconstructor(renderer, block, parent, node, strip_whitespace, next_sibling) {\n\t\tsuper(renderer, block, parent, node);\n\t\tthis.fragment = new FragmentWrapper(\n\t\t\trenderer,\n\t\t\tblock,\n\t\t\tnode.children,\n\t\t\tthis,\n\t\t\tstrip_whitespace,\n\t\t\tnext_sibling\n\t\t);\n\t}\n\n\t/**\n\t * @param {import('../Block.js').default} block\n\t * @param {import('estree').Identifier} _parent_node\n\t * @param {import('estree').Identifier} _parent_nodes\n\t */\n\trender(block, _parent_node, _parent_nodes) {\n\t\t/** @type {import('estree').Identifier} */\n\t\tlet nodes;\n\t\tif (this.renderer.options.hydratable && this.fragment.nodes.length) {\n\t\t\tnodes = block.get_unique_name('head_nodes');\n\t\t\tblock.chunks.claim.push(\n\t\t\t\tb`const ${nodes} = @head_selector('${this.node.id}', @_document.head);`\n\t\t\t);\n\t\t}\n\t\tthis.fragment.render(\n\t\t\tblock,\n\t\t\t/** @type {unknown} */ /** @type {import('estree').Identifier} */ (x`@_document.head`),\n\t\t\tnodes\n\t\t);\n\t\tif (nodes && this.renderer.options.hydratable) {\n\t\t\tblock.chunks.claim.push(b`${nodes}.forEach(@detach);`);\n\t\t}\n\t}\n}\n", "import Wrapper from './shared/Wrapper.js';\nimport create_debugging_comment from './shared/create_debugging_comment.js';\nimport FragmentWrapper from './Fragment.js';\nimport { b, x } from 'code-red';\nimport { walk } from 'estree-walker';\nimport { is_head } from './shared/is_head.js';\nimport { push_array } from '../../../utils/push_array.js';\nimport { add_const_tags, add_const_tags_context } from './shared/add_const_tags.js';\n\n/** @param {import('../../nodes/ElseBlock.js').default} node */\nfunction is_else_if(node) {\n\treturn node && node.children.length === 1 && node.children[0].type === 'IfBlock';\n}\n\n/** @extends Wrapper<import('../../nodes/IfBlock.js').default | import('../../nodes/ElseBlock.js').default> */\nclass IfBlockBranch extends Wrapper {\n\t/** @type {import('../Block.js').default} */\n\tblock;\n\n\t/** @type {import('./Fragment.js').default} */\n\tfragment;\n\n\t/** @type {string[]} */\n\tdependencies;\n\n\t/** @type {any} */\n\tcondition;\n\n\t/** @type {import('estree').Node} */\n\tsnippet;\n\n\t/** @type {boolean} */\n\tis_dynamic;\n\n\t/** */\n\tvar = null;\n\n\t/** @type {import('estree').Node | undefined} */\n\tget_ctx_name;\n\n\t/**\n\t * @param {import('../Renderer.js').default} renderer\n\t * @param {import('../Block.js').default} block\n\t * @param {IfBlockWrapper} parent\n\t * @param {import('../../nodes/IfBlock.js').default | import('../../nodes/ElseBlock.js').default} node\n\t * @param {boolean} strip_whitespace\n\t * @param {import('./shared/Wrapper.js').default} next_sibling\n\t */\n\tconstructor(renderer, block, parent, node, strip_whitespace, next_sibling) {\n\t\tsuper(renderer, block, parent, node);\n\t\tconst { expression } = /** @type {import('../../nodes/IfBlock.js').default} */ (node);\n\t\tconst is_else = !expression;\n\t\tif (expression) {\n\t\t\tthis.dependencies = expression.dynamic_dependencies();\n\t\t\t// TODO is this the right rule? or should any non-reference count?\n\t\t\t// const should_cache = !is_reference(expression.node, null) && dependencies.length > 0;\n\t\t\tlet should_cache = false;\n\t\t\twalk(expression.node, {\n\t\t\t\tenter(node) {\n\t\t\t\t\tif (node.type === 'CallExpression' || node.type === 'NewExpression') {\n\t\t\t\t\t\tshould_cache = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t\tif (should_cache) {\n\t\t\t\tthis.condition = block.get_unique_name('show_if');\n\t\t\t\tthis.snippet = /** @type {import('estree').Node} */ (expression.manipulate(block));\n\t\t\t} else {\n\t\t\t\tthis.condition = expression.manipulate(block);\n\t\t\t}\n\t\t}\n\t\tadd_const_tags_context(renderer, this.node.const_tags);\n\t\tthis.block = block.child({\n\t\t\tcomment: create_debugging_comment(node, parent.renderer.component),\n\t\t\tname: parent.renderer.component.get_unique_name(\n\t\t\t\tis_else ? 'create_else_block' : 'create_if_block'\n\t\t\t),\n\t\t\ttype: /** @type {import('../../nodes/IfBlock.js').default} */ (node).expression\n\t\t\t\t? 'if'\n\t\t\t\t: 'else'\n\t\t});\n\t\tthis.fragment = new FragmentWrapper(\n\t\t\trenderer,\n\t\t\tthis.block,\n\t\t\tnode.children,\n\t\t\tparent,\n\t\t\tstrip_whitespace,\n\t\t\tnext_sibling\n\t\t);\n\t\tthis.is_dynamic = this.block.dependencies.size > 0;\n\t\tif (node.const_tags.length > 0) {\n\t\t\tthis.get_ctx_name = parent.renderer.component.get_unique_name(\n\t\t\t\tis_else ? 'get_else_ctx' : 'get_if_ctx'\n\t\t\t);\n\t\t}\n\t}\n}\n\n/** @extends Wrapper<import('../../nodes/IfBlock.js').default> */\nexport default class IfBlockWrapper extends Wrapper {\n\t/** @typedef {'detaching' | null} DetachingOrNull */\n\n\t/** @type {IfBlockBranch[]} */\n\tbranches;\n\t/** */\n\tneeds_update = false;\n\n\t/** @type {import('estree').Identifier} */\n\tvar = { type: 'Identifier', name: 'if_block' };\n\n\t/**\n\t * @param {import('../Renderer.js').default} renderer\n\t * @param {import('../Block.js').default} block\n\t * @param {import('./shared/Wrapper.js').default} parent\n\t * @param {import('../../nodes/IfBlock.js').default} node\n\t * @param {boolean} strip_whitespace\n\t * @param {import('./shared/Wrapper.js').default} next_sibling\n\t */\n\tconstructor(renderer, block, parent, node, strip_whitespace, next_sibling) {\n\t\tsuper(renderer, block, parent, node);\n\t\tthis.branches = [];\n\n\t\t/** @type {import('../Block.js').default[]} */\n\t\tconst blocks = [];\n\t\tlet is_dynamic = false;\n\t\tlet has_intros = false;\n\t\tlet has_outros = false;\n\n\t\t/** @param {import('../../nodes/IfBlock.js').default} node */\n\t\tconst create_branches = (node) => {\n\t\t\tconst branch = new IfBlockBranch(renderer, block, this, node, strip_whitespace, next_sibling);\n\t\t\tthis.branches.push(branch);\n\t\t\tblocks.push(branch.block);\n\t\t\tblock.add_dependencies(node.expression.dependencies);\n\t\t\tif (branch.block.dependencies.size > 0) {\n\t\t\t\t// the condition, or its contents, is dynamic\n\t\t\t\tis_dynamic = true;\n\t\t\t\tblock.add_dependencies(branch.block.dependencies);\n\t\t\t}\n\t\t\tif (branch.dependencies && branch.dependencies.length > 0) {\n\t\t\t\t// the condition itself is dynamic\n\t\t\t\tthis.needs_update = true;\n\t\t\t}\n\t\t\tif (branch.block.has_intros) has_intros = true;\n\t\t\tif (branch.block.has_outros) has_outros = true;\n\t\t\tif (is_else_if(node.else)) {\n\t\t\t\tcreate_branches(\n\t\t\t\t\t/** @type {import('../../nodes/IfBlock.js').default} */ (node.else.children[0])\n\t\t\t\t);\n\t\t\t} else if (node.else) {\n\t\t\t\tconst branch = new IfBlockBranch(\n\t\t\t\t\trenderer,\n\t\t\t\t\tblock,\n\t\t\t\t\tthis,\n\t\t\t\t\tnode.else,\n\t\t\t\t\tstrip_whitespace,\n\t\t\t\t\tnext_sibling\n\t\t\t\t);\n\t\t\t\tthis.branches.push(branch);\n\t\t\t\tblocks.push(branch.block);\n\t\t\t\tif (branch.block.dependencies.size > 0) {\n\t\t\t\t\tis_dynamic = true;\n\t\t\t\t\tblock.add_dependencies(branch.block.dependencies);\n\t\t\t\t}\n\t\t\t\tif (branch.block.has_intros) has_intros = true;\n\t\t\t\tif (branch.block.has_outros) has_outros = true;\n\t\t\t}\n\t\t};\n\t\tcreate_branches(this.node);\n\t\tblocks.forEach((block) => {\n\t\t\tblock.has_update_method = is_dynamic;\n\t\t\tblock.has_intro_method = has_intros;\n\t\t\tblock.has_outro_method = has_outros;\n\t\t});\n\t\tpush_array(renderer.blocks, blocks);\n\t}\n\n\t/**\n\t * @param {import('../Block.js').default} block\n\t * @param {import('estree').Identifier} parent_node\n\t * @param {import('estree').Identifier} parent_nodes\n\t */\n\trender(block, parent_node, parent_nodes) {\n\t\tconst name = this.var;\n\t\tconst needs_anchor = this.next\n\t\t\t? !this.next.is_dom_node()\n\t\t\t: !parent_node || !this.parent.is_dom_node();\n\t\tconst anchor = needs_anchor\n\t\t\t? block.get_unique_name(`${this.var.name}_anchor`)\n\t\t\t: (this.next && this.next.var) || 'null';\n\t\tconst has_else = !this.branches[this.branches.length - 1].condition;\n\t\tconst if_exists_condition = has_else ? null : name;\n\t\tconst dynamic = this.branches[0].block.has_update_method; // can use [0] as proxy for all, since they necessarily have the same value\n\t\tconst has_intros = this.branches[0].block.has_intro_method;\n\t\tconst has_outros = this.branches[0].block.has_outro_method;\n\t\tconst has_transitions = has_intros || has_outros;\n\t\tthis.branches.forEach((branch) => {\n\t\t\tif (branch.get_ctx_name) {\n\t\t\t\tthis.renderer.blocks.push(b`\n\t\t\t\tfunction ${branch.get_ctx_name}(#ctx) {\n\t\t\t\t\tconst child_ctx = #ctx.slice();\n\t\t\t\t\t${add_const_tags(block, branch.node.const_tags, 'child_ctx')}\n\t\t\t\t\treturn child_ctx;\n\t\t\t\t}\n\t\t\t\t`);\n\t\t\t}\n\t\t});\n\t\tconst vars = { name, anchor, if_exists_condition, has_else, has_transitions };\n\n\t\t/** @type {DetachingOrNull} */\n\t\tconst detaching = parent_node && !is_head(parent_node) ? null : 'detaching';\n\t\tif (this.node.else) {\n\t\t\tthis.branches.forEach((branch) => {\n\t\t\t\tif (branch.snippet) block.add_variable(branch.condition);\n\t\t\t});\n\t\t\tif (has_outros) {\n\t\t\t\tthis.render_compound_with_outros(\n\t\t\t\t\tblock,\n\t\t\t\t\tparent_node,\n\t\t\t\t\tparent_nodes,\n\t\t\t\t\tdynamic,\n\t\t\t\t\tvars,\n\t\t\t\t\tdetaching\n\t\t\t\t);\n\t\t\t\tblock.chunks.outro.push(b`@transition_out(${name});`);\n\t\t\t} else {\n\t\t\t\tthis.render_compound(block, parent_node, parent_nodes, dynamic, vars, detaching);\n\t\t\t}\n\t\t} else {\n\t\t\tthis.render_simple(block, parent_node, parent_nodes, dynamic, vars, detaching);\n\t\t\tif (has_outros) {\n\t\t\t\tblock.chunks.outro.push(b`@transition_out(${name});`);\n\t\t\t}\n\t\t}\n\t\tif (if_exists_condition) {\n\t\t\tblock.chunks.create.push(b`if (${if_exists_condition}) ${name}.c();`);\n\t\t} else {\n\t\t\tblock.chunks.create.push(b`${name}.c();`);\n\t\t}\n\t\tif (parent_nodes && this.renderer.options.hydratable) {\n\t\t\tif (if_exists_condition) {\n\t\t\t\tblock.chunks.claim.push(b`if (${if_exists_condition}) ${name}.l(${parent_nodes});`);\n\t\t\t} else {\n\t\t\t\tblock.chunks.claim.push(b`${name}.l(${parent_nodes});`);\n\t\t\t}\n\t\t}\n\t\tif (has_intros || has_outros) {\n\t\t\tblock.chunks.intro.push(b`@transition_in(${name});`);\n\t\t}\n\t\tif (needs_anchor) {\n\t\t\tblock.add_element(\n\t\t\t\t/** @type {import('estree').Identifier} */ (anchor),\n\t\t\t\tx`@empty()`,\n\t\t\t\tparent_nodes && x`@empty()`,\n\t\t\t\tparent_node\n\t\t\t);\n\t\t}\n\t\tthis.branches.forEach((branch) => {\n\t\t\tbranch.fragment.render(\n\t\t\t\tbranch.block,\n\t\t\t\tnull,\n\t\t\t\t/** @type {unknown} */ /** @type {import('estree').Identifier} */ (x`#nodes`)\n\t\t\t);\n\t\t});\n\t}\n\n\t/**\n\t * @param {import('../Block.js').default} block\n\t * @param {import('estree').Identifier} parent_node\n\t * @param {import('estree').Identifier} _parent_nodes\n\t * @param {boolean} dynamic\n\t * @param {any} opts\n\t * @param {DetachingOrNull} detaching\n\t */\n\trender_compound(\n\t\tblock,\n\t\tparent_node,\n\t\t_parent_nodes,\n\t\tdynamic,\n\t\t{ name, anchor, has_else, if_exists_condition, has_transitions },\n\t\tdetaching\n\t) {\n\t\tconst select_block_type = this.renderer.component.get_unique_name('select_block_type');\n\t\tconst current_block_type = block.get_unique_name('current_block_type');\n\t\tconst need_select_block_ctx = this.branches.some((branch) => branch.get_ctx_name);\n\t\tconst select_block_ctx = need_select_block_ctx\n\t\t\t? block.get_unique_name('select_block_ctx')\n\t\t\t: null;\n\t\tconst if_ctx = select_block_ctx ? x`${select_block_ctx}(#ctx, ${current_block_type})` : x`#ctx`;\n\t\tconst get_block = has_else\n\t\t\t? x`${current_block_type}(${if_ctx})`\n\t\t\t: x`${current_block_type} && ${current_block_type}(${if_ctx})`;\n\t\tif (this.needs_update) {\n\t\t\tblock.chunks.init.push(b`\n\t\t\t\tfunction ${select_block_type}(#ctx, #dirty) {\n\t\t\t\t\t${this.branches.map(({ dependencies, condition, snippet }) => {\n\t\t\t\t\t\treturn b`${\n\t\t\t\t\t\t\tsnippet && dependencies.length > 0\n\t\t\t\t\t\t\t\t? b`if (${block.renderer.dirty(dependencies)}) ${condition} = null;`\n\t\t\t\t\t\t\t\t: null\n\t\t\t\t\t\t}`;\n\t\t\t\t\t})}\n\t\t\t\t\t${this.branches.map(({ condition, snippet, block }) =>\n\t\t\t\t\t\tcondition\n\t\t\t\t\t\t\t? b`\n\t\t\t\t\t\t\t\t${snippet && b`if (${condition} == null) ${condition} = !!${snippet}`}\n\t\t\t\t\t\t\t\tif (${condition}) return ${block.name};`\n\t\t\t\t\t\t\t: b`return ${block.name};`\n\t\t\t\t\t)}\n\t\t\t\t}\n\t\t\t`);\n\t\t} else {\n\t\t\tblock.chunks.init.push(b`\n\t\t\t\tfunction ${select_block_type}(#ctx, #dirty) {\n\t\t\t\t\t${this.branches.map(({ condition, snippet, block }) =>\n\t\t\t\t\t\tcondition\n\t\t\t\t\t\t\t? b`if (${snippet || condition}) return ${block.name};`\n\t\t\t\t\t\t\t: b`return ${block.name};`\n\t\t\t\t\t)}\n\t\t\t\t}\n\t\t\t`);\n\t\t}\n\t\tif (need_select_block_ctx) {\n\t\t\t// if all branches needs create a context\n\t\t\tif (this.branches.every((branch) => branch.get_ctx_name)) {\n\t\t\t\tblock.chunks.init.push(b`\n\t\t\t\t\tfunction ${select_block_ctx}(#ctx, #type) {\n\t\t\t\t\t\t${this.branches\n\t\t\t\t\t\t\t.map(({ condition, get_ctx_name, block }) => {\n\t\t\t\t\t\t\t\treturn condition\n\t\t\t\t\t\t\t\t\t? b`if (#type === ${block.name}) return ${get_ctx_name}(#ctx);`\n\t\t\t\t\t\t\t\t\t: b`return ${get_ctx_name}(#ctx);`;\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t.filter(Boolean)}\n\t\t\t\t\t}\n\t\t\t\t`);\n\t\t\t} else {\n\t\t\t\t// when not all branches need to create a new context,\n\t\t\t\t// this code is simpler\n\t\t\t\tblock.chunks.init.push(b`\n\t\t\t\t\tfunction ${select_block_ctx}(#ctx, #type) {\n\t\t\t\t\t\t${this.branches\n\t\t\t\t\t\t\t.map(({ get_ctx_name, block }) => {\n\t\t\t\t\t\t\t\treturn get_ctx_name\n\t\t\t\t\t\t\t\t\t? b`if (#type === ${block.name}) return ${get_ctx_name}(#ctx);`\n\t\t\t\t\t\t\t\t\t: null;\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t.filter(Boolean)}\n\t\t\t\t\t\treturn #ctx;\n\t\t\t\t\t}\n\t\t\t\t`);\n\t\t\t}\n\t\t}\n\t\tblock.chunks.init.push(b`\n\t\t\tlet ${current_block_type} = ${select_block_type}(#ctx, ${this.renderer.get_initial_dirty()});\n\t\t\tlet ${name} = ${get_block};\n\t\t`);\n\t\tconst initial_mount_node = parent_node || '#target';\n\t\tconst anchor_node = parent_node ? 'null' : '#anchor';\n\t\tif (if_exists_condition) {\n\t\t\tblock.chunks.mount.push(\n\t\t\t\tb`if (${if_exists_condition}) ${name}.m(${initial_mount_node}, ${anchor_node});`\n\t\t\t);\n\t\t} else {\n\t\t\tblock.chunks.mount.push(b`${name}.m(${initial_mount_node}, ${anchor_node});`);\n\t\t}\n\t\tif (this.needs_update) {\n\t\t\tconst update_mount_node = this.get_update_mount_node(anchor);\n\t\t\tconst change_block = b`\n\t\t\t\t${if_exists_condition ? b`if (${if_exists_condition}) ${name}.d(1)` : b`${name}.d(1)`};\n\t\t\t\t${name} = ${get_block};\n\t\t\t\tif (${name}) {\n\t\t\t\t\t${name}.c();\n\t\t\t\t\t${has_transitions && b`@transition_in(${name}, 1);`}\n\t\t\t\t\t${name}.m(${update_mount_node}, ${anchor});\n\t\t\t\t}\n\t\t\t`;\n\t\t\tif (dynamic) {\n\t\t\t\tblock.chunks.update.push(b`\n\t\t\t\t\tif (${current_block_type} === (${current_block_type} = ${select_block_type}(#ctx, #dirty)) && ${name}) {\n\t\t\t\t\t\t${name}.p(${if_ctx}, #dirty);\n\t\t\t\t\t} else {\n\t\t\t\t\t\t${change_block}\n\t\t\t\t\t}\n\t\t\t\t`);\n\t\t\t} else {\n\t\t\t\tblock.chunks.update.push(b`\n\t\t\t\t\tif (${current_block_type} !== (${current_block_type} = ${select_block_type}(#ctx, #dirty))) {\n\t\t\t\t\t\t${change_block}\n\t\t\t\t\t}\n\t\t\t\t`);\n\t\t\t}\n\t\t} else if (dynamic) {\n\t\t\tif (if_exists_condition) {\n\t\t\t\tblock.chunks.update.push(b`if (${if_exists_condition}) ${name}.p(${if_ctx}, #dirty);`);\n\t\t\t} else {\n\t\t\t\tblock.chunks.update.push(b`${name}.p(${if_ctx}, #dirty);`);\n\t\t\t}\n\t\t}\n\t\tif (if_exists_condition) {\n\t\t\tblock.chunks.destroy.push(b`\n\t\t\t\tif (${if_exists_condition}) {\n\t\t\t\t\t${name}.d(${detaching});\n\t\t\t\t}\n\t\t\t`);\n\t\t} else {\n\t\t\tblock.chunks.destroy.push(b`\n\t\t\t\t${name}.d(${detaching});\n\t\t\t`);\n\t\t}\n\t}\n\t// if any of the siblings have outros, we need to keep references to the blocks\n\t// (TODO does this only apply to bidi transitions?)\n\n\t/**\n\t * @param {import('../Block.js').default} block\n\t * @param {import('estree').Identifier} parent_node\n\t * @param {import('estree').Identifier} _parent_nodes\n\t * @param {boolean} dynamic\n\t * @param {any} opts\n\t * @param {DetachingOrNull} detaching\n\t */\n\trender_compound_with_outros(\n\t\tblock,\n\t\tparent_node,\n\t\t_parent_nodes,\n\t\tdynamic,\n\t\t{ name, anchor, has_else, has_transitions, if_exists_condition },\n\t\tdetaching\n\t) {\n\t\tconst select_block_type = this.renderer.component.get_unique_name('select_block_type');\n\t\tconst current_block_type_index = block.get_unique_name('current_block_type_index');\n\t\tconst previous_block_index = block.get_unique_name('previous_block_index');\n\t\tconst if_block_creators = block.get_unique_name('if_block_creators');\n\t\tconst if_blocks = block.get_unique_name('if_blocks');\n\t\tconst need_select_block_ctx = this.branches.some((branch) => branch.get_ctx_name);\n\t\tconst select_block_ctx = need_select_block_ctx\n\t\t\t? block.get_unique_name('select_block_ctx')\n\t\t\t: null;\n\t\tconst if_ctx = select_block_ctx\n\t\t\t? x`${select_block_ctx}(#ctx, ${current_block_type_index})`\n\t\t\t: x`#ctx`;\n\t\tconst if_current_block_type_index = has_else\n\t\t\t? (nodes) => nodes\n\t\t\t: (nodes) => b`if (~${current_block_type_index}) { ${nodes} }`;\n\t\tblock.add_variable(current_block_type_index);\n\t\tblock.add_variable(name);\n\t\tblock.chunks.init.push(b`\n\t\t\tconst ${if_block_creators} = [\n\t\t\t\t${this.branches.map((branch) => branch.block.name)}\n\t\t\t];\n\n\t\t\tconst ${if_blocks} = [];\n\n\t\t\t${\n\t\t\t\tthis.needs_update\n\t\t\t\t\t? b`\n\t\t\t\t\tfunction ${select_block_type}(#ctx, #dirty) {\n\t\t\t\t\t\t${this.branches.map(({ dependencies, condition, snippet }) => {\n\t\t\t\t\t\t\treturn b`${\n\t\t\t\t\t\t\t\tsnippet && dependencies.length > 0\n\t\t\t\t\t\t\t\t\t? b`if (${block.renderer.dirty(dependencies)}) ${condition} = null;`\n\t\t\t\t\t\t\t\t\t: null\n\t\t\t\t\t\t\t}`;\n\t\t\t\t\t\t})}\n\t\t\t\t\t\t${this.branches.map(({ condition, snippet }, i) =>\n\t\t\t\t\t\t\tcondition\n\t\t\t\t\t\t\t\t? b`\n\t\t\t\t\t\t\t\t${snippet && b`if (${condition} == null) ${condition} = !!${snippet}`}\n\t\t\t\t\t\t\t\tif (${condition}) return ${i};`\n\t\t\t\t\t\t\t\t: b`return ${i};`\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t${!has_else && b`return -1;`}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t`\n\t\t\t\t\t: b`\n\t\t\t\t\tfunction ${select_block_type}(#ctx, #dirty) {\n\t\t\t\t\t\t${this.branches.map(({ condition, snippet }, i) =>\n\t\t\t\t\t\t\tcondition ? b`if (${snippet || condition}) return ${i};` : b`return ${i};`\n\t\t\t\t\t\t)}\n\t\t\t\t\t\t${!has_else && b`return -1;`}\n\t\t\t\t\t}\n\t\t\t\t`\n\t\t\t}\n\t\t`);\n\t\tif (need_select_block_ctx) {\n\t\t\t// if all branches needs create a context\n\t\t\tif (this.branches.every((branch) => branch.get_ctx_name)) {\n\t\t\t\tblock.chunks.init.push(b`\n\t\t\t\t\tfunction ${select_block_ctx}(#ctx, #index) {\n\t\t\t\t\t\t${this.branches\n\t\t\t\t\t\t\t.map(({ condition, get_ctx_name }, i) => {\n\t\t\t\t\t\t\t\treturn condition\n\t\t\t\t\t\t\t\t\t? b`if (#index === ${i}) return ${get_ctx_name}(#ctx);`\n\t\t\t\t\t\t\t\t\t: b`return ${get_ctx_name}(#ctx);`;\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t.filter(Boolean)}\n\t\t\t\t\t}\n\t\t\t\t`);\n\t\t\t} else {\n\t\t\t\t// when not all branches need to create a new context,\n\t\t\t\t// this code is simpler\n\t\t\t\tblock.chunks.init.push(b`\n\t\t\t\t\tfunction ${select_block_ctx}(#ctx, #index) {\n\t\t\t\t\t\t${this.branches\n\t\t\t\t\t\t\t.map(({ get_ctx_name }, i) => {\n\t\t\t\t\t\t\t\treturn get_ctx_name ? b`if (#index === ${i}) return ${get_ctx_name}(#ctx);` : null;\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t.filter(Boolean)}\n\t\t\t\t\t\treturn #ctx;\n\t\t\t\t\t}\n\t\t\t\t`);\n\t\t\t}\n\t\t}\n\t\tif (has_else) {\n\t\t\tblock.chunks.init.push(b`\n\t\t\t\t${current_block_type_index} = ${select_block_type}(#ctx, ${this.renderer.get_initial_dirty()});\n\t\t\t\t${name} = ${if_blocks}[${current_block_type_index}] = ${if_block_creators}[${current_block_type_index}](${if_ctx});\n\t\t\t`);\n\t\t} else {\n\t\t\tblock.chunks.init.push(b`\n\t\t\t\tif (~(${current_block_type_index} = ${select_block_type}(#ctx, ${this.renderer.get_initial_dirty()}))) {\n\t\t\t\t\t${name} = ${if_blocks}[${current_block_type_index}] = ${if_block_creators}[${current_block_type_index}](${if_ctx});\n\t\t\t\t}\n\t\t\t`);\n\t\t}\n\t\tconst initial_mount_node = parent_node || '#target';\n\t\tconst anchor_node = parent_node ? 'null' : '#anchor';\n\t\tblock.chunks.mount.push(\n\t\t\tif_current_block_type_index(\n\t\t\t\tb`${if_blocks}[${current_block_type_index}].m(${initial_mount_node}, ${anchor_node});`\n\t\t\t)\n\t\t);\n\t\tif (this.needs_update) {\n\t\t\tconst update_mount_node = this.get_update_mount_node(anchor);\n\t\t\tconst destroy_old_block = b`\n\t\t\t\t@group_outros();\n\t\t\t\t@transition_out(${if_blocks}[${previous_block_index}], 1, 1, () => {\n\t\t\t\t\t${if_blocks}[${previous_block_index}] = null;\n\t\t\t\t});\n\t\t\t\t@check_outros();\n\t\t\t`;\n\t\t\tconst create_new_block = b`\n\t\t\t\t${name} = ${if_blocks}[${current_block_type_index}];\n\t\t\t\tif (!${name}) {\n\t\t\t\t\t${name} = ${if_blocks}[${current_block_type_index}] = ${if_block_creators}[${current_block_type_index}](${if_ctx});\n\t\t\t\t\t${name}.c();\n\t\t\t\t} else {\n\t\t\t\t\t${dynamic && b`${name}.p(${if_ctx}, #dirty);`}\n\t\t\t\t}\n\t\t\t\t${has_transitions && b`@transition_in(${name}, 1);`}\n\t\t\t\t${name}.m(${update_mount_node}, ${anchor});\n\t\t\t`;\n\t\t\tconst change_block = has_else\n\t\t\t\t? b`\n\t\t\t\t\t${destroy_old_block}\n\n\t\t\t\t\t${create_new_block}\n\t\t\t\t`\n\t\t\t\t: b`\n\t\t\t\t\tif (${name}) {\n\t\t\t\t\t\t${destroy_old_block}\n\t\t\t\t\t}\n\n\t\t\t\t\tif (~${current_block_type_index}) {\n\t\t\t\t\t\t${create_new_block}\n\t\t\t\t\t} else {\n\t\t\t\t\t\t${name} = null;\n\t\t\t\t\t}\n\t\t\t\t`;\n\t\t\tblock.chunks.update.push(b`\n\t\t\t\tlet ${previous_block_index} = ${current_block_type_index};\n\t\t\t\t${current_block_type_index} = ${select_block_type}(#ctx, #dirty);\n\t\t\t`);\n\t\t\tif (dynamic) {\n\t\t\t\tblock.chunks.update.push(b`\n\t\t\t\t\tif (${current_block_type_index} === ${previous_block_index}) {\n\t\t\t\t\t\t${if_current_block_type_index(b`${if_blocks}[${current_block_type_index}].p(${if_ctx}, #dirty);`)}\n\t\t\t\t\t} else {\n\t\t\t\t\t\t${change_block}\n\t\t\t\t\t}\n\t\t\t\t`);\n\t\t\t} else {\n\t\t\t\tblock.chunks.update.push(b`\n\t\t\t\t\tif (${current_block_type_index} !== ${previous_block_index}) {\n\t\t\t\t\t\t${change_block}\n\t\t\t\t\t}\n\t\t\t\t`);\n\t\t\t}\n\t\t} else if (dynamic) {\n\t\t\tif (if_exists_condition) {\n\t\t\t\tblock.chunks.update.push(b`if (${if_exists_condition}) ${name}.p(${if_ctx}, #dirty);`);\n\t\t\t} else {\n\t\t\t\tblock.chunks.update.push(b`${name}.p(${if_ctx}, #dirty);`);\n\t\t\t}\n\t\t}\n\t\tblock.chunks.destroy.push(\n\t\t\tif_current_block_type_index(b`${if_blocks}[${current_block_type_index}].d(${detaching});`)\n\t\t);\n\t}\n\n\t/**\n\t * @param {import('../Block.js').default} block\n\t * @param {import('estree').Identifier} parent_node\n\t * @param {import('estree').Identifier} _parent_nodes\n\t * @param {boolean} dynamic\n\t * @param {any} opts\n\t * @param {DetachingOrNull} detaching\n\t */\n\trender_simple(\n\t\tblock,\n\t\tparent_node,\n\t\t_parent_nodes,\n\t\tdynamic,\n\t\t{ name, anchor, if_exists_condition, has_transitions },\n\t\tdetaching\n\t) {\n\t\tconst branch = this.branches[0];\n\t\tconst if_ctx = branch.get_ctx_name ? x`${branch.get_ctx_name}(#ctx)` : x`#ctx`;\n\t\tif (branch.snippet) block.add_variable(branch.condition, branch.snippet);\n\t\tblock.chunks.init.push(b`\n\t\t\tlet ${name} = ${branch.condition} && ${branch.block.name}(${if_ctx});\n\t\t`);\n\t\tconst initial_mount_node = parent_node || '#target';\n\t\tconst anchor_node = parent_node ? 'null' : '#anchor';\n\t\tblock.chunks.mount.push(b`if (${name}) ${name}.m(${initial_mount_node}, ${anchor_node});`);\n\t\tif (branch.dependencies.length > 0) {\n\t\t\tconst update_mount_node = this.get_update_mount_node(anchor);\n\t\t\tconst enter = b`\n\t\t\t\tif (${name}) {\n\t\t\t\t\t${dynamic && b`${name}.p(${if_ctx}, #dirty);`}\n\t\t\t\t\t${\n\t\t\t\t\t\thas_transitions &&\n\t\t\t\t\t\tb`if (${block.renderer.dirty(branch.dependencies)}) {\n\t\t\t\t\t\t\t\t\t@transition_in(${name}, 1);\n\t\t\t\t\t\t\t\t}`\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\t${name} = ${branch.block.name}(${if_ctx});\n\t\t\t\t\t${name}.c();\n\t\t\t\t\t${has_transitions && b`@transition_in(${name}, 1);`}\n\t\t\t\t\t${name}.m(${update_mount_node}, ${anchor});\n\t\t\t\t}\n\t\t\t`;\n\t\t\tif (branch.snippet) {\n\t\t\t\tblock.chunks.update.push(\n\t\t\t\t\tb`if (${block.renderer.dirty(branch.dependencies)}) ${branch.condition} = ${\n\t\t\t\t\t\tbranch.snippet\n\t\t\t\t\t}`\n\t\t\t\t);\n\t\t\t}\n\t\t\t// no `p()` here — we don't want to update outroing nodes,\n\t\t\t// as that will typically result in glitching\n\t\t\tif (branch.block.has_outro_method) {\n\t\t\t\tblock.chunks.update.push(b`\n\t\t\t\t\tif (${branch.condition}) {\n\t\t\t\t\t\t${enter}\n\t\t\t\t\t} else if (${name}) {\n\t\t\t\t\t\t@group_outros();\n\t\t\t\t\t\t@transition_out(${name}, 1, 1, () => {\n\t\t\t\t\t\t\t${name} = null;\n\t\t\t\t\t\t});\n\t\t\t\t\t\t@check_outros();\n\t\t\t\t\t}\n\t\t\t\t`);\n\t\t\t} else {\n\t\t\t\tblock.chunks.update.push(b`\n\t\t\t\t\tif (${branch.condition}) {\n\t\t\t\t\t\t${enter}\n\t\t\t\t\t} else if (${name}) {\n\t\t\t\t\t\t${name}.d(1);\n\t\t\t\t\t\t${name} = null;\n\t\t\t\t\t}\n\t\t\t\t`);\n\t\t\t}\n\t\t} else if (dynamic) {\n\t\t\tblock.chunks.update.push(b`\n\t\t\t\tif (${branch.condition}) ${name}.p(${if_ctx}, #dirty);\n\t\t\t`);\n\t\t}\n\t\tif (if_exists_condition) {\n\t\t\tblock.chunks.destroy.push(b`\n\t\t\t\tif (${if_exists_condition}) ${name}.d(${detaching});\n\t\t\t`);\n\t\t} else {\n\t\t\tblock.chunks.destroy.push(b`\n\t\t\t\t${name}.d(${detaching});\n\t\t\t`);\n\t\t}\n\t}\n}\n", "import Wrapper from './shared/Wrapper.js';\nimport create_debugging_comment from './shared/create_debugging_comment.js';\nimport FragmentWrapper from './Fragment.js';\nimport { b, x } from 'code-red';\n\n/** @extends Wrapper<import('../../nodes/KeyBlock.js').default> */\nexport default class KeyBlockWrapper extends Wrapper {\n\t/** @type {import('./Fragment.js').default} */\n\tfragment;\n\n\t/** @type {import('../Block.js').default} */\n\tblock;\n\n\t/** @type {string[]} */\n\tdependencies;\n\n\t/** @type {import('estree').Identifier} */\n\tvar = { type: 'Identifier', name: 'key_block' };\n\n\t/**\n\t * @param {import('../Renderer.js').default} renderer\n\t * @param {import('../Block.js').default} block\n\t * @param {import('./shared/Wrapper.js').default} parent\n\t * @param {import('../../nodes/KeyBlock.js').default} node\n\t * @param {boolean} strip_whitespace\n\t * @param {import('./shared/Wrapper.js').default} next_sibling\n\t */\n\tconstructor(renderer, block, parent, node, strip_whitespace, next_sibling) {\n\t\tsuper(renderer, block, parent, node);\n\t\tthis.dependencies = node.expression.dynamic_dependencies();\n\t\tif (this.dependencies.length) {\n\t\t\tblock = block.child({\n\t\t\t\tcomment: create_debugging_comment(node, renderer.component),\n\t\t\t\tname: renderer.component.get_unique_name('create_key_block'),\n\t\t\t\ttype: 'key'\n\t\t\t});\n\t\t\tblock.add_dependencies(node.expression.dependencies);\n\t\t\trenderer.blocks.push(block);\n\t\t}\n\t\tthis.block = block;\n\t\tthis.fragment = new FragmentWrapper(\n\t\t\trenderer,\n\t\t\tthis.block,\n\t\t\tnode.children,\n\t\t\tthis,\n\t\t\tstrip_whitespace,\n\t\t\tnext_sibling\n\t\t);\n\t}\n\n\t/**\n\t * @param {import('../Block.js').default} block\n\t * @param {import('estree').Identifier} parent_node\n\t * @param {import('estree').Identifier} parent_nodes\n\t */\n\trender(block, parent_node, parent_nodes) {\n\t\tif (this.dependencies.length === 0) {\n\t\t\tthis.render_static_key(block, parent_node, parent_nodes);\n\t\t} else {\n\t\t\tthis.render_dynamic_key(block, parent_node, parent_nodes);\n\t\t}\n\t}\n\n\t/**\n\t * @param {import('../Block.js').default} _block\n\t * @param {import('estree').Identifier} parent_node\n\t * @param {import('estree').Identifier} parent_nodes\n\t */\n\trender_static_key(_block, parent_node, parent_nodes) {\n\t\tthis.fragment.render(this.block, parent_node, parent_nodes);\n\t}\n\n\t/**\n\t * @param {import('../Block.js').default} block\n\t * @param {import('estree').Identifier} parent_node\n\t * @param {import('estree').Identifier} parent_nodes\n\t */\n\trender_dynamic_key(block, parent_node, parent_nodes) {\n\t\tthis.fragment.render(\n\t\t\tthis.block,\n\t\t\tnull,\n\t\t\t/** @type {unknown} */ /** @type {import('estree').Identifier} */ (x`#nodes`)\n\t\t);\n\t\tconst has_transitions = !!(this.block.has_intro_method || this.block.has_outro_method);\n\t\tconst dynamic = this.block.has_update_method;\n\t\tconst previous_key = block.get_unique_name('previous_key');\n\t\tconst snippet = this.node.expression.manipulate(block);\n\t\tblock.add_variable(previous_key, snippet);\n\t\tconst not_equal = this.renderer.component.component_options.immutable\n\t\t\t? x`@not_equal`\n\t\t\t: x`@safe_not_equal`;\n\t\tconst condition = x`${this.renderer.dirty(\n\t\t\tthis.dependencies\n\t\t)} && ${not_equal}(${previous_key}, ${previous_key} = ${snippet})`;\n\t\tblock.chunks.init.push(b`\n\t\t\tlet ${this.var} = ${this.block.name}(#ctx);\n\t\t`);\n\t\tblock.chunks.create.push(b`${this.var}.c();`);\n\t\tif (this.renderer.options.hydratable) {\n\t\t\tblock.chunks.claim.push(b`${this.var}.l(${parent_nodes});`);\n\t\t}\n\t\tblock.chunks.mount.push(\n\t\t\tb`${this.var}.m(${parent_node || '#target'}, ${parent_node ? 'null' : '#anchor'});`\n\t\t);\n\t\tconst anchor = this.get_or_create_anchor(block, parent_node, parent_nodes);\n\t\tconst body = b`\n\t\t\t${\n\t\t\t\thas_transitions\n\t\t\t\t\t? b`\n\t\t\t\t\t\t@group_outros();\n\t\t\t\t\t\t@transition_out(${this.var}, 1, 1, @noop);\n\t\t\t\t\t\t@check_outros();\n\t\t\t\t\t`\n\t\t\t\t\t: b`${this.var}.d(1);`\n\t\t\t}\n\t\t\t${this.var} = ${this.block.name}(#ctx);\n\t\t\t${this.var}.c();\n\t\t\t${has_transitions && b`@transition_in(${this.var}, 1)`}\n\t\t\t${this.var}.m(${this.get_update_mount_node(anchor)}, ${anchor});\n\t\t`;\n\t\tif (dynamic) {\n\t\t\tblock.chunks.update.push(b`\n\t\t\t\tif (${condition}) {\n\t\t\t\t\t${body}\n\t\t\t\t} else {\n\t\t\t\t\t${this.var}.p(#ctx, #dirty);\n\t\t\t\t}\n\t\t\t`);\n\t\t} else {\n\t\t\tblock.chunks.update.push(b`\n\t\t\t\tif (${condition}) {\n\t\t\t\t\t${body}\n\t\t\t\t}\n\t\t\t`);\n\t\t}\n\t\tif (has_transitions) {\n\t\t\tblock.chunks.intro.push(b`@transition_in(${this.var})`);\n\t\t\tblock.chunks.outro.push(b`@transition_out(${this.var})`);\n\t\t}\n\t\tblock.chunks.destroy.push(b`${this.var}.d(detaching)`);\n\t}\n}\n", "/**\n * @param {string} name\n */\nexport function string_to_member_expression(name) {\n\tconst parts = name.split('.');\n\t/** @type {import('estree').MemberExpression | import('estree').Identifier} */\n\tlet node = {\n\t\ttype: 'Identifier',\n\t\tname: parts[0]\n\t};\n\tfor (let i = 1; i < parts.length; i++) {\n\t\tnode = /** @type {import('estree').MemberExpression} */ ({\n\t\t\ttype: 'MemberExpression',\n\t\t\tobject: node,\n\t\t\tproperty: { type: 'Identifier', name: parts[i] }\n\t\t});\n\t}\n\treturn node;\n}\n", "import { x, p } from 'code-red';\n\n/**\n * @param {import('../../Block.js').default} block\n * @param {import('../../../nodes/shared/TemplateScope.js').default} scope\n * @param {import('../../../nodes/Let.js').default[]} lets\n */\nexport function get_slot_definition(block, scope, lets) {\n\tif (lets.length === 0) return { block, scope };\n\tconst context_input = {\n\t\ttype: 'ObjectPattern',\n\t\tproperties: lets.map((l) => ({\n\t\t\ttype: 'Property',\n\t\t\tkind: 'init',\n\t\t\tkey: l.name,\n\t\t\tvalue: l.value || l.name\n\t\t}))\n\t};\n\tconst properties = [];\n\tconst value_map = new Map();\n\tlets.forEach((l) => {\n\t\t/** @type {import('estree').Identifier} */\n\t\tlet value;\n\t\tif (l.names.length > 1) {\n\t\t\t// more than one, probably destructuring\n\t\t\tconst unique_name = block.get_unique_name(l.names.join('_')).name;\n\t\t\tvalue_map.set(l.value, unique_name);\n\t\t\tvalue = { type: 'Identifier', name: unique_name };\n\t\t} else {\n\t\t\tvalue = l.value || l.name;\n\t\t}\n\t\tproperties.push({\n\t\t\ttype: 'Property',\n\t\t\tkind: 'init',\n\t\t\tkey: l.name,\n\t\t\tvalue\n\t\t});\n\t});\n\tconst changes_input = {\n\t\ttype: 'ObjectPattern',\n\t\tproperties\n\t};\n\n\t/** @type {Set<string>} */\n\tconst names = new Set();\n\n\t/** @type {Map<string, string>} */\n\tconst names_lookup = new Map();\n\tlets.forEach((l) => {\n\t\tl.names.forEach((name) => {\n\t\t\tnames.add(name);\n\t\t\tif (value_map.has(l.value)) {\n\t\t\t\tnames_lookup.set(name, value_map.get(l.value));\n\t\t\t}\n\t\t});\n\t});\n\tconst context = {\n\t\ttype: 'ObjectExpression',\n\t\tproperties: Array.from(names).map(\n\t\t\t(name) => p`${block.renderer.context_lookup.get(name).index}: ${name}`\n\t\t)\n\t};\n\tconst { context_lookup } = block.renderer;\n\t// i am well aware that this code is gross\n\t// TODO: context-overflow make it less gross\n\tconst changes = {\n\t\ttype: 'ParenthesizedExpression',\n\t\tget expression() {\n\t\t\tif (block.renderer.context_overflow) {\n\t\t\t\tconst grouped = [];\n\t\t\t\tArray.from(names).forEach((name) => {\n\t\t\t\t\tconst i = /** @type {number} */ (context_lookup.get(name).index.value);\n\t\t\t\t\tconst g = Math.floor(i / 31);\n\t\t\t\t\tconst lookup_name = names_lookup.has(name) ? names_lookup.get(name) : name;\n\t\t\t\t\tif (!grouped[g]) grouped[g] = [];\n\t\t\t\t\tgrouped[g].push({ name: lookup_name, n: i % 31 });\n\t\t\t\t});\n\t\t\t\tconst elements = [];\n\t\t\t\tfor (let g = 0; g < grouped.length; g += 1) {\n\t\t\t\t\telements[g] = grouped[g]\n\t\t\t\t\t\t? grouped[g]\n\t\t\t\t\t\t\t\t.map(({ name, n }) => x`${name} ? ${1 << n} : 0`)\n\t\t\t\t\t\t\t\t.reduce((lhs, rhs) => x`${lhs} | ${rhs}`)\n\t\t\t\t\t\t: x`0`;\n\t\t\t\t}\n\t\t\t\treturn {\n\t\t\t\t\ttype: 'ArrayExpression',\n\t\t\t\t\telements\n\t\t\t\t};\n\t\t\t}\n\t\t\treturn /** @type {import('estree').BinaryExpression} */ (\n\t\t\t\tArray.from(names)\n\t\t\t\t\t.map((name) => {\n\t\t\t\t\t\tconst lookup_name = names_lookup.has(name) ? names_lookup.get(name) : name;\n\t\t\t\t\t\tconst i = /** @type {number} */ (context_lookup.get(name).index.value);\n\t\t\t\t\t\treturn x`${lookup_name} ? ${1 << i} : 0`;\n\t\t\t\t\t})\n\t\t\t\t\t.reduce((lhs, rhs) => x`${lhs} | ${rhs}`)\n\t\t\t);\n\t\t}\n\t};\n\treturn {\n\t\tblock,\n\t\tscope,\n\t\tget_context: x`${context_input} => ${context}`,\n\t\tget_changes: x`${changes_input} => ${changes}`\n\t};\n}\n", "import Wrapper from './shared/Wrapper.js';\nimport FragmentWrapper from './Fragment.js';\nimport create_debugging_comment from './shared/create_debugging_comment.js';\nimport { get_slot_definition } from './shared/get_slot_definition.js';\nimport { b, x } from 'code-red';\nimport { sanitize } from '../../../utils/names.js';\nimport { extract_names } from 'periscopic';\nimport { add_const_tags, add_const_tags_context } from './shared/add_const_tags.js';\n\n/** @extends Wrapper<import('../../nodes/SlotTemplate.js').default> */\nexport default class SlotTemplateWrapper extends Wrapper {\n\t/** @type {import('./Fragment.js').default} */\n\tfragment;\n\n\t/** @type {import('../Block.js').default} */\n\tblock;\n\n\t/**\n\t * @param {import('../Renderer.js').default} renderer\n\t * @param {import('../Block.js').default} block\n\t * @param {import('./shared/Wrapper.js').default} parent\n\t * @param {import('../../nodes/SlotTemplate.js').default} node\n\t * @param {boolean} strip_whitespace\n\t * @param {import('./shared/Wrapper.js').default} next_sibling\n\t */\n\tconstructor(renderer, block, parent, node, strip_whitespace, next_sibling) {\n\t\tsuper(renderer, block, parent, node);\n\t\tconst { scope, lets, const_tags, slot_template_name } = this.node;\n\t\tlets.forEach((l) => {\n\t\t\textract_names(l.value || l.name).forEach((name) => {\n\t\t\t\trenderer.add_to_context(name, true);\n\t\t\t});\n\t\t});\n\t\tadd_const_tags_context(renderer, const_tags);\n\t\tthis.block = block.child({\n\t\t\tcomment: create_debugging_comment(this.node, this.renderer.component),\n\t\t\tname: this.renderer.component.get_unique_name(`create_${sanitize(slot_template_name)}_slot`),\n\t\t\ttype: 'slot'\n\t\t});\n\t\tthis.renderer.blocks.push(this.block);\n\n\t\t/** @type {import('./InlineComponent/index.js').default} */ (this.parent).set_slot(\n\t\t\tslot_template_name,\n\t\t\tget_slot_definition(this.block, scope, lets)\n\t\t);\n\t\tthis.fragment = new FragmentWrapper(\n\t\t\trenderer,\n\t\t\tthis.block,\n\t\t\tnode.type === 'SlotTemplate' ? node.children : [node],\n\t\t\tthis,\n\t\t\tstrip_whitespace,\n\t\t\tnext_sibling\n\t\t);\n\t\tthis.block.parent.add_dependencies(this.block.dependencies);\n\t}\n\trender() {\n\t\tthis.fragment.render(this.block, null, /** @type {import('estree').Identifier} */ (x`#nodes`));\n\t\tif (this.node.const_tags.length > 0) {\n\t\t\tthis.render_get_context();\n\t\t}\n\t}\n\trender_get_context() {\n\t\tconst get_context = this.block.renderer.component.get_unique_name('get_context');\n\t\tthis.block.renderer.blocks.push(b`\n\t\t\tfunction ${get_context}(#ctx) {\n\t\t\t\t${add_const_tags(this.block, this.node.const_tags, '#ctx')}\n\t\t\t}\n\t\t`);\n\t\tthis.block.chunks.declarations.push(b`${get_context}(#ctx)`);\n\t\tif (this.block.has_update_method) {\n\t\t\tthis.block.chunks.update.unshift(b`${get_context}(#ctx)`);\n\t\t}\n\t}\n}\n", "import { b, p, x } from 'code-red';\nimport { extract_ignores_above_node } from '../../../../utils/extract_svelte_ignore.js';\nimport { sanitize } from '../../../../utils/names.js';\nimport { namespaces } from '../../../../utils/namespaces.js';\nimport compiler_warnings from '../../../compiler_warnings.js';\nimport add_to_set from '../../../utils/add_to_set.js';\nimport { string_to_member_expression } from '../../../utils/string_to_member_expression.js';\nimport BindingWrapper from '../Element/Binding.js';\nimport EventHandler from '../Element/EventHandler.js';\nimport SlotTemplateWrapper from '../SlotTemplate.js';\nimport Wrapper from '../shared/Wrapper.js';\nimport bind_this from '../shared/bind_this.js';\nimport is_dynamic from '../shared/is_dynamic.js';\nimport { is_head } from '../shared/is_head.js';\nimport mark_each_block_bindings from '../shared/mark_each_block_bindings.js';\n\nconst regex_invalid_variable_identifier_characters = /[^a-zA-Z_$]/g;\n\n/** @extends Wrapper<import('../../../nodes/InlineComponent.js').default> */\nexport default class InlineComponentWrapper extends Wrapper {\n\t/**\n\t * @typedef {{\n\t * \tblock: import('../../Block.js').default;\n\t * \tscope: import('../../../nodes/shared/TemplateScope.js').default;\n\t * \tget_context?: import('estree').Node;\n\t * \tget_changes?: import('estree').Node;\n\t * }} SlotDefinition\n\t */\n\n\t/** @type {Map<string, SlotDefinition>} */\n\tslots = new Map();\n\n\t/** @type {import('../Fragment.js').default} */\n\tfragment;\n\n\t/** @type {Array<Wrapper | import('../Fragment.js').default>} */\n\tchildren = [];\n\n\t/**\n\t * @param {import('../../Renderer.js').default} renderer\n\t * @param {import('../../Block.js').default} block\n\t * @param {import('../shared/Wrapper.js').default} parent\n\t * @param {import('../../../nodes/InlineComponent.js').default} node\n\t * @param {boolean} strip_whitespace\n\t * @param {import('../shared/Wrapper.js').default} next_sibling\n\t */\n\tconstructor(renderer, block, parent, node, strip_whitespace, next_sibling) {\n\t\tsuper(renderer, block, parent, node);\n\t\tif (this.node.expression) {\n\t\t\tblock.add_dependencies(this.node.expression.dependencies);\n\t\t}\n\t\tthis.node.attributes.forEach((attr) => {\n\t\t\tblock.add_dependencies(attr.dependencies);\n\t\t});\n\t\tthis.node.bindings.forEach((binding) => {\n\t\t\tif (binding.is_contextual) {\n\t\t\t\tmark_each_block_bindings(this, binding);\n\t\t\t}\n\t\t\tblock.add_dependencies(binding.expression.dependencies);\n\t\t});\n\t\tthis.node.handlers.forEach((handler) => {\n\t\t\tif (handler.expression) {\n\t\t\t\tblock.add_dependencies(handler.expression.dependencies);\n\t\t\t}\n\t\t});\n\t\tthis.node.css_custom_properties.forEach((attr) => {\n\t\t\tblock.add_dependencies(attr.dependencies);\n\t\t});\n\t\tthis.var = {\n\t\t\ttype: /** @type {const} */ ('Identifier'),\n\t\t\tname: (this.node.name === 'svelte:self'\n\t\t\t\t? renderer.component.name.name\n\t\t\t\t: this.node.name === 'svelte:component'\n\t\t\t\t? 'switch_instance'\n\t\t\t\t: sanitize(this.node.name)\n\t\t\t).toLowerCase()\n\t\t};\n\t\tif (this.node.children.length) {\n\t\t\tthis.children = this.node.children.map(\n\t\t\t\t(child) =>\n\t\t\t\t\tnew SlotTemplateWrapper(\n\t\t\t\t\t\trenderer,\n\t\t\t\t\t\tblock,\n\t\t\t\t\t\tthis,\n\t\t\t\t\t\t/** @type {import('../../../nodes/SlotTemplate.js').default} */ (child),\n\t\t\t\t\t\tstrip_whitespace,\n\t\t\t\t\t\tnext_sibling\n\t\t\t\t\t)\n\t\t\t);\n\t\t}\n\t\tblock.add_outro();\n\t}\n\n\t/**\n\t * @param {string} name\n\t * @param {SlotDefinition} slot_definition\n\t */\n\tset_slot(name, slot_definition) {\n\t\tif (this.slots.has(name)) {\n\t\t\tif (name === 'default') {\n\t\t\t\tthrow new Error('Found elements without slot attribute when using slot=\"default\"');\n\t\t\t}\n\t\t\tthrow new Error(`Duplicate slot name \"${name}\" in <${this.node.name}>`);\n\t\t}\n\t\tthis.slots.set(name, slot_definition);\n\t}\n\twarn_if_reactive() {\n\t\tlet { name } = this.node;\n\t\tconst top = name.split('.')[0]; // <T.foo/> etc. should check for T instead of \"T.foo\"\n\t\tconst variable = this.renderer.component.var_lookup.get(top);\n\t\tif (!variable) {\n\t\t\treturn;\n\t\t}\n\t\tconst ignores = extract_ignores_above_node(this.node);\n\t\tthis.renderer.component.push_ignores(ignores);\n\t\tif (\n\t\t\tvariable.reassigned ||\n\t\t\tvariable.export_name || // or a prop\n\t\t\tvariable.mutated\n\t\t) {\n\t\t\tthis.renderer.component.warn(this.node, compiler_warnings.reactive_component(name));\n\t\t}\n\t\tthis.renderer.component.pop_ignores();\n\t}\n\n\t/**\n\t * @param {import('../../Block.js').default} block\n\t * @param {import('estree').Identifier} parent_node\n\t * @param {import('estree').Identifier} parent_nodes\n\t */\n\trender(block, parent_node, parent_nodes) {\n\t\tthis.warn_if_reactive();\n\t\tconst { renderer } = this;\n\t\tconst { component } = renderer;\n\t\tconst name = this.var;\n\t\tblock.add_variable(name);\n\t\tconst component_opts = /** @type {import('estree').ObjectExpression} */ (x`{}`);\n\n\t\t/** @type {Array<import('estree').Node | import('estree').Node[]>} */\n\t\tconst statements = [];\n\n\t\t/** @type {Array<import('estree').Node | import('estree').Node[]>} */\n\t\tconst updates = [];\n\t\tthis.children.forEach((child) => {\n\t\t\tthis.renderer.add_to_context('$$scope', true);\n\t\t\tchild.render(block, null, /** @type {import('estree').Identifier} */ (x`#nodes`));\n\t\t});\n\n\t\t/** @type {import('estree').Identifier | undefined} */\n\t\tlet props;\n\t\tconst name_changes = block.get_unique_name(`${name.name}_changes`);\n\t\tconst uses_spread = !!this.node.attributes.find((a) => a.is_spread);\n\t\t// removing empty slot\n\t\tfor (const slot of this.slots.keys()) {\n\t\t\tif (!this.slots.get(slot).block.has_content()) {\n\t\t\t\tthis.renderer.remove_block(this.slots.get(slot).block);\n\t\t\t\tthis.slots.delete(slot);\n\t\t\t}\n\t\t}\n\t\tconst has_css_custom_properties = this.node.css_custom_properties.length > 0;\n\t\tconst is_svg_namespace = this.node.namespace === namespaces.svg;\n\t\tconst css_custom_properties_wrapper_element = is_svg_namespace ? 'g' : 'div';\n\t\tconst css_custom_properties_wrapper = has_css_custom_properties\n\t\t\t? block.get_unique_name(css_custom_properties_wrapper_element)\n\t\t\t: null;\n\t\tif (has_css_custom_properties) {\n\t\t\tblock.add_variable(css_custom_properties_wrapper);\n\t\t}\n\t\tconst initial_props =\n\t\t\tthis.slots.size > 0\n\t\t\t\t? [\n\t\t\t\t\t\tp`$$slots: {\n\t\t\t\t\t${Array.from(this.slots).map(([name, slot]) => {\n\t\t\t\t\t\treturn p`${name}: [${slot.block.name}, ${slot.get_context || null}, ${\n\t\t\t\t\t\t\tslot.get_changes || null\n\t\t\t\t\t\t}]`;\n\t\t\t\t\t})}\n\t\t\t\t}`,\n\t\t\t\t\t\tp`$$scope: {\n\t\t\t\t\tctx: #ctx\n\t\t\t\t}`\n\t\t\t\t  ]\n\t\t\t\t: [];\n\t\tconst attribute_object = uses_spread\n\t\t\t? x`{ ${initial_props} }`\n\t\t\t: x`{\n\t\t\t\t${this.node.attributes.map((attr) => p`${attr.name}: ${attr.get_value(block)}`)},\n\t\t\t\t${initial_props}\n\t\t\t}`;\n\t\tif (this.node.attributes.length || this.node.bindings.length || initial_props.length) {\n\t\t\tif (!uses_spread && this.node.bindings.length === 0) {\n\t\t\t\tcomponent_opts.properties.push(p`props: ${attribute_object}`);\n\t\t\t} else {\n\t\t\t\tprops = block.get_unique_name(`${name.name}_props`);\n\t\t\t\tcomponent_opts.properties.push(p`props: ${props}`);\n\t\t\t}\n\t\t}\n\t\tif (component.compile_options.dev) {\n\t\t\t// TODO this is a terrible hack, but without it the component\n\t\t\t// will complain that options.target is missing. This would\n\t\t\t// work better if components had separate public and private\n\t\t\t// APIs\n\t\t\tcomponent_opts.properties.push(p`$$inline: true`);\n\t\t}\n\t\tconst fragment_dependencies = new Set(this.slots.size ? ['$$scope'] : []);\n\t\tthis.slots.forEach((slot) => {\n\t\t\tslot.block.dependencies.forEach((name) => {\n\t\t\t\tconst is_let = slot.scope.is_let(name);\n\t\t\t\tconst variable = renderer.component.var_lookup.get(name);\n\t\t\t\tif (is_let || is_dynamic(variable)) fragment_dependencies.add(name);\n\t\t\t});\n\t\t});\n\t\tconst dynamic_attributes = this.node.attributes.filter((a) => a.get_dependencies().length > 0);\n\t\tif (\n\t\t\t!uses_spread &&\n\t\t\t(dynamic_attributes.length > 0 ||\n\t\t\t\tthis.node.bindings.length > 0 ||\n\t\t\t\tfragment_dependencies.size > 0)\n\t\t) {\n\t\t\tupdates.push(b`const ${name_changes} = {};`);\n\t\t}\n\t\tif (this.node.attributes.length) {\n\t\t\tif (uses_spread) {\n\t\t\t\tconst levels = block.get_unique_name(`${this.var.name}_spread_levels`);\n\t\t\t\tconst initial_props = [];\n\t\t\t\tconst changes = [];\n\n\t\t\t\t/** @type {Set<string>} */\n\t\t\t\tconst all_dependencies = new Set();\n\t\t\t\tthis.node.attributes.forEach((attr) => {\n\t\t\t\t\tadd_to_set(all_dependencies, attr.dependencies);\n\t\t\t\t});\n\t\t\t\tthis.node.attributes.forEach((attr, i) => {\n\t\t\t\t\tconst { name, dependencies } = attr;\n\t\t\t\t\tconst condition =\n\t\t\t\t\t\tdependencies.size > 0 && dependencies.size !== all_dependencies.size\n\t\t\t\t\t\t\t? renderer.dirty(Array.from(dependencies))\n\t\t\t\t\t\t\t: null;\n\t\t\t\t\tconst unchanged = dependencies.size === 0;\n\n\t\t\t\t\t/** @type {import('estree').Node | ReturnType<typeof x>} */\n\t\t\t\t\tlet change_object;\n\t\t\t\t\tif (attr.is_spread) {\n\t\t\t\t\t\tconst value = attr.expression.manipulate(block);\n\t\t\t\t\t\tinitial_props.push(value);\n\t\t\t\t\t\tlet value_object = value;\n\t\t\t\t\t\tif (attr.expression.node.type !== 'ObjectExpression') {\n\t\t\t\t\t\t\tvalue_object = x`@get_spread_object(${value})`;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tchange_object = value_object;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tconst obj = x`{ ${name}: ${attr.get_value(block)} }`;\n\t\t\t\t\t\tinitial_props.push(obj);\n\t\t\t\t\t\tchange_object = obj;\n\t\t\t\t\t}\n\t\t\t\t\tchanges.push(\n\t\t\t\t\t\tunchanged\n\t\t\t\t\t\t\t? x`${levels}[${i}]`\n\t\t\t\t\t\t\t: condition\n\t\t\t\t\t\t\t? x`${condition} && ${change_object}`\n\t\t\t\t\t\t\t: change_object\n\t\t\t\t\t);\n\t\t\t\t});\n\t\t\t\tblock.chunks.init.push(b`\n\t\t\t\t\tconst ${levels} = [\n\t\t\t\t\t\t${initial_props}\n\t\t\t\t\t];\n\t\t\t\t`);\n\t\t\t\tstatements.push(b`\n\t\t\t\t\tfor (let #i = 0; #i < ${levels}.length; #i += 1) {\n\t\t\t\t\t\t${props} = @assign(${props}, ${levels}[#i]);\n\t\t\t\t\t}\n\t\t\t\t`);\n\t\t\t\tif (all_dependencies.size) {\n\t\t\t\t\tconst condition = renderer.dirty(Array.from(all_dependencies));\n\t\t\t\t\tif (this.node.name === 'svelte:component') {\n\t\t\t\t\t\t// statements will become switch_props function body\n\t\t\t\t\t\t// rewrite last statement, add props update logic\n\t\t\t\t\t\tstatements[statements.length - 1] = b`\n\t\t\t\t\t\t\tif (#dirty !== undefined && ${condition}) {\n\t\t\t\t\t\t\t\t${props} = @get_spread_update(${levels}, [\n\t\t\t\t\t\t\t\t\t${changes}\n\t\t\t\t\t\t\t\t]);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tfor (let #i = 0; #i < ${levels}.length; #i += 1) {\n\t\t\t\t\t\t\t\t\t${props} = @assign(${props}, ${levels}[#i]);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t`;\n\t\t\t\t\t}\n\t\t\t\t\tupdates.push(b`\n\t\t\t\t\t\tconst ${name_changes} = ${condition} ? @get_spread_update(${levels}, [\n\t\t\t\t\t\t\t${changes}\n\t\t\t\t\t\t]) : {}\n\t\t\t\t\t`);\n\t\t\t\t} else {\n\t\t\t\t\tupdates.push(b`\n\t\t\t\t\t\tconst ${name_changes} = {};\n\t\t\t\t\t`);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tdynamic_attributes.forEach((attribute) => {\n\t\t\t\t\tconst dependencies = attribute.get_dependencies();\n\t\t\t\t\tif (dependencies.length > 0) {\n\t\t\t\t\t\tconst condition = renderer.dirty(dependencies);\n\t\t\t\t\t\tupdates.push(b`\n\t\t\t\t\t\t\tif (${condition}) ${name_changes}.${attribute.name} = ${attribute.get_value(block)};\n\t\t\t\t\t\t`);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t\tif (fragment_dependencies.size > 0) {\n\t\t\tupdates.push(b`\n\t\t\t\tif (${renderer.dirty(Array.from(fragment_dependencies))}) {\n\t\t\t\t\t${name_changes}.$$scope = { dirty: #dirty, ctx: #ctx };\n\t\t\t\t}`);\n\t\t}\n\t\tconst munged_bindings = this.node.bindings.map((binding) => {\n\t\t\tcomponent.has_reactive_assignments = true;\n\t\t\tif (binding.name === 'this') {\n\t\t\t\treturn bind_this(component, block, new BindingWrapper(block, binding, this), this.var);\n\t\t\t}\n\t\t\tconst id = component.get_unique_name(`${this.var.name}_${binding.name}_binding`);\n\t\t\trenderer.add_to_context(id.name);\n\t\t\tconst callee = renderer.reference(id);\n\t\t\tconst updating = block.get_unique_name(`updating_${binding.name}`);\n\t\t\tblock.add_variable(updating);\n\t\t\tconst snippet = binding.expression.manipulate(block);\n\t\t\tstatements.push(b`\n\t\t\t\tif (${snippet} !== void 0) {\n\t\t\t\t\t${props}.${binding.name} = ${snippet};\n\t\t\t\t}`);\n\t\t\tupdates.push(b`\n\t\t\t\tif (!${updating} && ${renderer.dirty(Array.from(binding.expression.dependencies))}) {\n\t\t\t\t\t${updating} = true;\n\t\t\t\t\t${name_changes}.${binding.name} = ${snippet};\n\t\t\t\t\t@add_flush_callback(() => ${updating} = false);\n\t\t\t\t}\n\t\t\t`);\n\t\t\tconst contextual_dependencies = Array.from(binding.expression.contextual_dependencies);\n\t\t\tconst dependencies = Array.from(binding.expression.dependencies);\n\t\t\tlet lhs = binding.raw_expression;\n\t\t\tif (binding.is_contextual && binding.expression.node.type === 'Identifier') {\n\t\t\t\t// bind:x={y} — we can't just do `y = x`, we need to\n\t\t\t\t// to `array[index] = x;\n\t\t\t\tconst { name } = binding.expression.node;\n\t\t\t\tconst { object, property, snippet } = block.bindings.get(name);\n\t\t\t\tlhs = snippet;\n\t\t\t\tcontextual_dependencies.push(object.name, property.name);\n\t\t\t}\n\n\t\t\t/** @type {import('estree').Identifier[]} */\n\t\t\tconst params = [/** @type {import('estree').Identifier} */ (x`#value`)];\n\t\t\tconst args = [x`#value`];\n\t\t\tif (contextual_dependencies.length > 0) {\n\t\t\t\tcontextual_dependencies.forEach((name) => {\n\t\t\t\t\tparams.push({\n\t\t\t\t\t\ttype: 'Identifier',\n\t\t\t\t\t\tname\n\t\t\t\t\t});\n\t\t\t\t\trenderer.add_to_context(name, true);\n\t\t\t\t\targs.push(renderer.reference(name));\n\t\t\t\t});\n\t\t\t\tblock.maintain_context = true; // TODO put this somewhere more logical\n\t\t\t}\n\t\t\tblock.chunks.init.push(b`\n\t\t\t\tfunction ${id}(#value) {\n\t\t\t\t\t${callee}(${args});\n\t\t\t\t}\n\t\t\t`);\n\t\t\tlet invalidate_binding = b`\n\t\t\t\t${lhs} = #value;\n\t\t\t\t${renderer.invalidate(dependencies[0])};\n\t\t\t`;\n\t\t\tif (binding.expression.node.type === 'MemberExpression') {\n\t\t\t\tinvalidate_binding = b`\n\t\t\t\t\tif ($$self.$$.not_equal(${lhs}, #value)) {\n\t\t\t\t\t\t${invalidate_binding}\n\t\t\t\t\t}\n\t\t\t\t`;\n\t\t\t}\n\t\t\tconst body = b`\n\t\t\t\tfunction ${id}(${params}) {\n\t\t\t\t\t${invalidate_binding}\n\t\t\t\t}\n\t\t\t`;\n\t\t\tcomponent.partly_hoisted.push(body);\n\t\t\treturn b`@binding_callbacks.push(() => @bind(${this.var}, '${binding.name}', ${id}));`;\n\t\t});\n\t\tconst munged_handlers = this.node.handlers.map((handler) => {\n\t\t\tconst event_handler = new EventHandler(handler, this);\n\t\t\tlet snippet = event_handler.get_snippet(block);\n\t\t\tif (handler.modifiers.has('once')) snippet = x`@once(${snippet})`;\n\t\t\treturn b`${name}.$on(\"${handler.name}\", ${snippet});`;\n\t\t});\n\t\tconst mount_target = has_css_custom_properties\n\t\t\t? css_custom_properties_wrapper\n\t\t\t: parent_node || '#target';\n\t\tconst mount_anchor = has_css_custom_properties ? 'null' : parent_node ? 'null' : '#anchor';\n\t\tconst to_claim = parent_nodes && this.renderer.options.hydratable;\n\t\tlet claim_nodes = parent_nodes;\n\t\tif (this.node.name === 'svelte:component') {\n\t\t\tconst switch_value = block.get_unique_name('switch_value');\n\t\t\tconst switch_props = block.get_unique_name('switch_props');\n\t\t\tconst snippet = this.node.expression.manipulate(block);\n\t\t\tconst dependencies = this.node.expression.dynamic_dependencies();\n\t\t\tif (has_css_custom_properties) {\n\t\t\t\tthis.set_css_custom_properties(\n\t\t\t\t\tblock,\n\t\t\t\t\tcss_custom_properties_wrapper,\n\t\t\t\t\tcss_custom_properties_wrapper_element,\n\t\t\t\t\tis_svg_namespace\n\t\t\t\t);\n\t\t\t}\n\t\t\tblock.chunks.init.push(b`\n\t\t\t\tvar ${switch_value} = ${snippet};\n\n\t\t\t\tfunction ${switch_props}(#ctx, #dirty) {\n\t\t\t\t\t${\n\t\t\t\t\t\t(this.node.attributes.length > 0 || this.node.bindings.length > 0) &&\n\t\t\t\t\t\tb`\n\t\t\t\t\t${props && b`let ${props} = ${attribute_object};`}`\n\t\t\t\t\t}\n\t\t\t\t\t${statements}\n\t\t\t\t\treturn ${component_opts};\n\t\t\t\t}\n\n\t\t\t\tif (${switch_value}) {\n\t\t\t\t\t${name} = @construct_svelte_component(${switch_value}, ${switch_props}(#ctx));\n\n\t\t\t\t\t${munged_bindings}\n\t\t\t\t\t${munged_handlers}\n\t\t\t\t}\n\t\t\t`);\n\t\t\tblock.chunks.create.push(b`if (${name}) @create_component(${name}.$$.fragment);`);\n\t\t\tif (css_custom_properties_wrapper)\n\t\t\t\tthis.create_css_custom_properties_wrapper_mount_chunk(\n\t\t\t\t\tblock,\n\t\t\t\t\tparent_node,\n\t\t\t\t\tcss_custom_properties_wrapper\n\t\t\t\t);\n\t\t\tblock.chunks.mount.push(\n\t\t\t\tb`if (${name}) @mount_component(${name}, ${mount_target}, ${mount_anchor});`\n\t\t\t);\n\t\t\tif (to_claim) {\n\t\t\t\tif (css_custom_properties_wrapper)\n\t\t\t\t\tclaim_nodes = this.create_css_custom_properties_wrapper_claim_chunk(\n\t\t\t\t\t\tblock,\n\t\t\t\t\t\tclaim_nodes,\n\t\t\t\t\t\tcss_custom_properties_wrapper,\n\t\t\t\t\t\tcss_custom_properties_wrapper_element,\n\t\t\t\t\t\tis_svg_namespace\n\t\t\t\t\t);\n\t\t\t\tblock.chunks.claim.push(\n\t\t\t\t\tb`if (${name}) @claim_component(${name}.$$.fragment, ${claim_nodes});`\n\t\t\t\t);\n\t\t\t}\n\t\t\tconst tmp_anchor = this.get_or_create_anchor(block, parent_node, parent_nodes);\n\t\t\tconst anchor = has_css_custom_properties ? 'null' : tmp_anchor;\n\t\t\tconst update_mount_node = has_css_custom_properties\n\t\t\t\t? css_custom_properties_wrapper\n\t\t\t\t: this.get_update_mount_node(tmp_anchor);\n\t\t\tconst update_insert =\n\t\t\t\tcss_custom_properties_wrapper &&\n\t\t\t\t(tmp_anchor.name !== 'null'\n\t\t\t\t\t? b`@insert(${tmp_anchor}.parentNode, ${css_custom_properties_wrapper}, ${tmp_anchor});`\n\t\t\t\t\t: b`@insert(${parent_node}, ${css_custom_properties_wrapper}, ${tmp_anchor});`);\n\t\t\tlet update_condition = x`${switch_value} !== (${switch_value} = ${snippet})`;\n\t\t\tif (dependencies.length > 0) {\n\t\t\t\tupdate_condition = x`${block.renderer.dirty(dependencies)} && ${update_condition}`;\n\t\t\t}\n\t\t\tblock.chunks.update.push(b`\n\t\t\t\tif (${update_condition}) {\n\t\t\t\t\tif (${name}) {\n\t\t\t\t\t\t@group_outros();\n\t\t\t\t\t\tconst old_component = ${name};\n\t\t\t\t\t\t@transition_out(old_component.$$.fragment, 1, 0, () => {\n\t\t\t\t\t\t\t@destroy_component(old_component, 1);\n\t\t\t\t\t\t\t${has_css_custom_properties ? b`@detach(${update_mount_node})` : null}\n\t\t\t\t\t\t});\n\t\t\t\t\t\t@check_outros();\n\t\t\t\t\t}\n\n\t\t\t\t\tif (${switch_value}) {\n\t\t\t\t\t\t${update_insert}\n\t\t\t\t\t\t${name} = @construct_svelte_component(${switch_value}, ${switch_props}(#ctx, #dirty));\n\n\t\t\t\t\t\t${munged_bindings}\n\t\t\t\t\t\t${munged_handlers}\n\n\t\t\t\t\t\t@create_component(${name}.$$.fragment);\n\t\t\t\t\t\t@transition_in(${name}.$$.fragment, 1);\n\t\t\t\t\t\t@mount_component(${name}, ${update_mount_node}, ${anchor});\n\t\t\t\t\t} else {\n\t\t\t\t\t\t${name} = null;\n\t\t\t\t\t}\n\t\t\t\t} else if (${switch_value}) {\n\t\t\t\t\t${updates}\n\t\t\t\t\t${updates.length > 0 && b`${name}.$set(${name_changes});`}\n\t\t\t\t}\n\t\t\t`);\n\t\t\tblock.chunks.intro.push(b`\n\t\t\t\tif (${name}) @transition_in(${name}.$$.fragment, #local);\n\t\t\t`);\n\t\t\tblock.chunks.outro.push(b`if (${name}) @transition_out(${name}.$$.fragment, #local);`);\n\t\t\tblock.chunks.destroy.push(\n\t\t\t\tb`if (${name}) @destroy_component(${name}, ${parent_node ? null : 'detaching'});`\n\t\t\t);\n\t\t} else {\n\t\t\tconst expression =\n\t\t\t\tthis.node.name === 'svelte:self'\n\t\t\t\t\t? component.name\n\t\t\t\t\t: this.renderer.reference(string_to_member_expression(this.node.name));\n\t\t\tblock.chunks.init.push(b`\n\t\t\t\t${\n\t\t\t\t\t(this.node.attributes.length > 0 || this.node.bindings.length > 0) &&\n\t\t\t\t\tb`\n\t\t\t\t${props && b`let ${props} = ${attribute_object};`}`\n\t\t\t\t}\n\t\t\t\t${statements}\n\t\t\t\t${name} = new ${expression}(${component_opts});\n\n\t\t\t\t${munged_bindings}\n\t\t\t\t${munged_handlers}\n\t\t\t`);\n\t\t\tif (has_css_custom_properties) {\n\t\t\t\tthis.set_css_custom_properties(\n\t\t\t\t\tblock,\n\t\t\t\t\tcss_custom_properties_wrapper,\n\t\t\t\t\tcss_custom_properties_wrapper_element,\n\t\t\t\t\tis_svg_namespace\n\t\t\t\t);\n\t\t\t}\n\t\t\tblock.chunks.create.push(b`@create_component(${name}.$$.fragment);`);\n\t\t\tif (css_custom_properties_wrapper)\n\t\t\t\tthis.create_css_custom_properties_wrapper_mount_chunk(\n\t\t\t\t\tblock,\n\t\t\t\t\tparent_node,\n\t\t\t\t\tcss_custom_properties_wrapper\n\t\t\t\t);\n\t\t\tblock.chunks.mount.push(b`@mount_component(${name}, ${mount_target}, ${mount_anchor});`);\n\t\t\tif (to_claim) {\n\t\t\t\tif (css_custom_properties_wrapper)\n\t\t\t\t\tclaim_nodes = this.create_css_custom_properties_wrapper_claim_chunk(\n\t\t\t\t\t\tblock,\n\t\t\t\t\t\tclaim_nodes,\n\t\t\t\t\t\tcss_custom_properties_wrapper,\n\t\t\t\t\t\tcss_custom_properties_wrapper_element,\n\t\t\t\t\t\tis_svg_namespace\n\t\t\t\t\t);\n\t\t\t\tblock.chunks.claim.push(b`@claim_component(${name}.$$.fragment, ${claim_nodes});`);\n\t\t\t}\n\t\t\tblock.chunks.intro.push(b`\n\t\t\t\t@transition_in(${name}.$$.fragment, #local);\n\t\t\t`);\n\t\t\tif (updates.length) {\n\t\t\t\tblock.chunks.update.push(b`\n\t\t\t\t\t${updates}\n\t\t\t\t\t${name}.$set(${name_changes});\n\t\t\t\t`);\n\t\t\t}\n\t\t\tblock.chunks.destroy.push(b`\n\t\t\t\t@destroy_component(${name}, ${parent_node ? null : 'detaching'});\n\t\t\t`);\n\t\t\tblock.chunks.outro.push(b`@transition_out(${name}.$$.fragment, #local);`);\n\t\t}\n\t}\n\n\t/**\n\t * @private\n\t * @param {import('../../Block.js').default} block\n\t * @param {import('estree').Identifier} parent_node\n\t * @param {import('estree').Identifier | null} css_custom_properties_wrapper\n\t */\n\tcreate_css_custom_properties_wrapper_mount_chunk(\n\t\tblock,\n\t\tparent_node,\n\t\tcss_custom_properties_wrapper\n\t) {\n\t\tif (parent_node) {\n\t\t\tblock.chunks.mount.push(b`@append(${parent_node}, ${css_custom_properties_wrapper})`);\n\t\t\tif (is_head(parent_node)) {\n\t\t\t\tblock.chunks.destroy.push(b`@detach(${css_custom_properties_wrapper});`);\n\t\t\t}\n\t\t} else {\n\t\t\tblock.chunks.mount.push(b`@insert(#target, ${css_custom_properties_wrapper}, #anchor);`);\n\t\t\t// TODO we eventually need to consider what happens to elements\n\t\t\t// that belong to the same outgroup as an outroing element...\n\t\t\tblock.chunks.destroy.push(\n\t\t\t\tb`if (detaching && ${this.var}) @detach(${css_custom_properties_wrapper});`\n\t\t\t);\n\t\t}\n\t}\n\n\t/**\n\t * @private\n\t * @param {import('../../Block.js').default} block\n\t * @param {import('estree').Identifier} parent_nodes\n\t * @param {import('estree').Identifier | null} css_custom_properties_wrapper\n\t * @param {string} css_custom_properties_wrapper_element\n\t * @param {boolean} is_svg_namespace\n\t */\n\tcreate_css_custom_properties_wrapper_claim_chunk(\n\t\tblock,\n\t\tparent_nodes,\n\t\tcss_custom_properties_wrapper,\n\t\tcss_custom_properties_wrapper_element,\n\t\tis_svg_namespace\n\t) {\n\t\tconst nodes = block.get_unique_name(`${css_custom_properties_wrapper.name}_nodes`);\n\t\tconst claim_element = is_svg_namespace ? x`@claim_svg_element` : x`@claim_element`;\n\t\tblock.chunks.claim.push(b`\n\t\t\t${css_custom_properties_wrapper} = ${claim_element}(${parent_nodes}, \"${css_custom_properties_wrapper_element.toUpperCase()}\", { style: true })\n\t\t\tvar ${nodes} = @children(${css_custom_properties_wrapper});\n\t\t`);\n\t\treturn nodes;\n\t}\n\n\t/**\n\t * @private\n\t * @param {import('../../Block.js').default} block\n\t * @param {import('estree').Identifier} css_custom_properties_wrapper\n\t * @param {string} css_custom_properties_wrapper_element\n\t * @param {boolean} is_svg_namespace\n\t */\n\tset_css_custom_properties(\n\t\tblock,\n\t\tcss_custom_properties_wrapper,\n\t\tcss_custom_properties_wrapper_element,\n\t\tis_svg_namespace\n\t) {\n\t\tconst element = is_svg_namespace ? x`@svg_element` : x`@element`;\n\t\tblock.chunks.create.push(\n\t\t\tb`${css_custom_properties_wrapper} = ${element}(\"${css_custom_properties_wrapper_element}\");`\n\t\t);\n\t\tif (!is_svg_namespace)\n\t\t\tblock.chunks.hydrate.push(\n\t\t\t\tb`@set_style(${css_custom_properties_wrapper}, \"display\", \"contents\");`\n\t\t\t);\n\t\tthis.node.css_custom_properties.forEach((attr) => {\n\t\t\tconst dependencies = attr.get_dependencies();\n\t\t\tconst should_cache = attr.should_cache();\n\t\t\tconst last =\n\t\t\t\tshould_cache &&\n\t\t\t\tblock.get_unique_name(\n\t\t\t\t\t`${attr.name.replace(regex_invalid_variable_identifier_characters, '_')}_last`\n\t\t\t\t);\n\t\t\tif (should_cache) block.add_variable(last);\n\t\t\tconst value = attr.get_value(block);\n\t\t\tconst init = should_cache ? x`${last} = ${value}` : value;\n\t\t\tblock.chunks.hydrate.push(\n\t\t\t\tb`@set_style(${css_custom_properties_wrapper}, \"${attr.name}\", ${init});`\n\t\t\t);\n\t\t\tif (dependencies.length > 0) {\n\t\t\t\tlet condition = block.renderer.dirty(dependencies);\n\t\t\t\tif (should_cache) condition = x`${condition} && (${last} !== (${last} = ${value}))`;\n\t\t\t\tblock.chunks.update.push(b`\n\t\t\t\t\tif (${condition}) {\n\t\t\t\t\t\t@set_style(${css_custom_properties_wrapper}, \"${attr.name}\", ${should_cache ? last : value});\n\t\t\t\t\t}\n\t\t\t\t`);\n\t\t\t}\n\t\t});\n\t}\n}\n", "import { p, x } from 'code-red';\nimport { string_literal } from './stringify.js';\n\n/**\n * @param {Map<string, import('../nodes/Attribute.js').default>} values\n * @param {import('../render_dom/Block.js').default} block\n */\nexport default function get_slot_data(values, block = null) {\n\treturn {\n\t\ttype: 'ObjectExpression',\n\t\tproperties: Array.from(values.values())\n\t\t\t.filter((attribute) => attribute.name !== 'name')\n\t\t\t.map((attribute) => {\n\t\t\t\tif (attribute.is_spread) {\n\t\t\t\t\tconst argument = get_spread_value(block, attribute);\n\t\t\t\t\treturn {\n\t\t\t\t\t\ttype: 'SpreadElement',\n\t\t\t\t\t\targument\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\tconst value = get_value(block, attribute);\n\t\t\t\treturn p`${attribute.name}: ${value}`;\n\t\t\t})\n\t};\n}\n\n/**\n * @param {import('../render_dom/Block.js').default} block\n * @param {import('../nodes/Attribute.js').default} attribute\n */\nfunction get_value(block, attribute) {\n\tif (attribute.is_true) return x`true`;\n\tif (attribute.chunks.length === 0) return x`\"\"`;\n\tlet value = attribute.chunks\n\t\t.map((chunk) =>\n\t\t\tchunk.type === 'Text'\n\t\t\t\t? string_literal(chunk.data)\n\t\t\t\t: block\n\t\t\t\t? chunk.manipulate(block)\n\t\t\t\t: chunk.node\n\t\t)\n\t\t.reduce((lhs, rhs) => x`${lhs} + ${rhs}`);\n\tif (attribute.chunks.length > 1 && attribute.chunks[0].type !== 'Text') {\n\t\tvalue = x`\"\" + ${value}`;\n\t}\n\treturn value;\n}\n\n/**\n * @param {import('../render_dom/Block.js').default} block\n * @param {import('../nodes/Attribute.js').default} attribute\n */\nfunction get_spread_value(block, attribute) {\n\treturn block ? attribute.expression.manipulate(block) : attribute.expression.node;\n}\n", "import Wrapper from './shared/Wrapper.js';\nimport FragmentWrapper from './Fragment.js';\nimport { b, p, x } from 'code-red';\nimport { sanitize } from '../../../utils/names.js';\nimport add_to_set from '../../utils/add_to_set.js';\nimport get_slot_data from '../../utils/get_slot_data.js';\nimport { is_reserved_keyword } from '../../utils/reserved_keywords.js';\nimport is_dynamic from './shared/is_dynamic.js';\nimport create_debugging_comment from './shared/create_debugging_comment.js';\n\n/** @extends Wrapper<import('../../nodes/Slot.js').default> */\nexport default class SlotWrapper extends Wrapper {\n\t/** @type {import('./Fragment.js').default} */\n\tfragment;\n\n\t/** @type {import('../Block.js').default | null} */\n\tfallback = null;\n\n\t/** @type {import('../Block.js').default} */\n\tslot_block;\n\n\t/** @type {import('estree').Identifier} */\n\tvar = { type: 'Identifier', name: 'slot' };\n\n\t/** @type {Set<string>} */\n\tdependencies = new Set(['$$scope']);\n\n\t/**\n\t * @param {import('../Renderer.js').default} renderer\n\t * @param {import('../Block.js').default} block\n\t * @param {import('./shared/Wrapper.js').default} parent\n\t * @param {import('../../nodes/Slot.js').default} node\n\t * @param {boolean} strip_whitespace\n\t * @param {import('./shared/Wrapper.js').default} next_sibling\n\t */\n\tconstructor(renderer, block, parent, node, strip_whitespace, next_sibling) {\n\t\tsuper(renderer, block, parent, node);\n\t\tif (this.node.children.length) {\n\t\t\tthis.fallback = block.child({\n\t\t\t\tcomment: create_debugging_comment(this.node.children[0], this.renderer.component),\n\t\t\t\tname: this.renderer.component.get_unique_name('fallback_block'),\n\t\t\t\ttype: 'fallback'\n\t\t\t});\n\t\t\trenderer.blocks.push(this.fallback);\n\t\t}\n\t\tthis.fragment = new FragmentWrapper(\n\t\t\trenderer,\n\t\t\tthis.fallback,\n\t\t\tnode.children,\n\t\t\tthis,\n\t\t\tstrip_whitespace,\n\t\t\tnext_sibling\n\t\t);\n\t\tthis.node.values.forEach((attribute) => {\n\t\t\tadd_to_set(this.dependencies, attribute.dependencies);\n\t\t});\n\t\tblock.add_dependencies(this.dependencies);\n\t\t// we have to do this, just in case\n\t\tblock.add_intro();\n\t\tblock.add_outro();\n\t}\n\n\t/**\n\t * @param {import('../Block.js').default} block\n\t * @param {import('estree').Identifier} parent_node\n\t * @param {import('estree').Identifier} parent_nodes\n\t */\n\trender(block, parent_node, parent_nodes) {\n\t\tconst { renderer } = this;\n\t\tconst { slot_name } = this.node;\n\t\tif (this.slot_block) {\n\t\t\tblock = this.slot_block;\n\t\t}\n\n\t\t/** @type {import('estree').Identifier | 'null'} */\n\t\tlet get_slot_changes_fn;\n\n\t\t/** @type {import('estree').Identifier | undefined} */\n\t\tlet get_slot_spread_changes_fn;\n\n\t\t/** @type {import('estree').Identifier | 'null'} */\n\t\tlet get_slot_context_fn;\n\t\tif (this.node.values.size > 0) {\n\t\t\tget_slot_changes_fn = renderer.component.get_unique_name(\n\t\t\t\t`get_${sanitize(slot_name)}_slot_changes`\n\t\t\t);\n\t\t\tget_slot_context_fn = renderer.component.get_unique_name(\n\t\t\t\t`get_${sanitize(slot_name)}_slot_context`\n\t\t\t);\n\t\t\tconst changes = /** @type {import('estree').ObjectExpression} */ (x`{}`);\n\t\t\tconst spread_dynamic_dependencies = new Set();\n\t\t\tthis.node.values.forEach((attribute) => {\n\t\t\t\tif (attribute.type === 'Spread') {\n\t\t\t\t\tadd_to_set(\n\t\t\t\t\t\tspread_dynamic_dependencies,\n\t\t\t\t\t\tArray.from(attribute.dependencies).filter((name) => this.is_dependency_dynamic(name))\n\t\t\t\t\t);\n\t\t\t\t} else {\n\t\t\t\t\tconst dynamic_dependencies = Array.from(attribute.dependencies).filter((name) =>\n\t\t\t\t\t\tthis.is_dependency_dynamic(name)\n\t\t\t\t\t);\n\t\t\t\t\tif (dynamic_dependencies.length > 0) {\n\t\t\t\t\t\tchanges.properties.push(p`${attribute.name}: ${renderer.dirty(dynamic_dependencies)}`);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t\trenderer.blocks.push(b`\n\t\t\t\tconst ${get_slot_changes_fn} = #dirty => ${changes};\n\t\t\t\tconst ${get_slot_context_fn} = #ctx => ${get_slot_data(this.node.values, block)};\n\t\t\t`);\n\t\t\tif (spread_dynamic_dependencies.size) {\n\t\t\t\tget_slot_spread_changes_fn = renderer.component.get_unique_name(\n\t\t\t\t\t`get_${sanitize(slot_name)}_slot_spread_changes`\n\t\t\t\t);\n\t\t\t\trenderer.blocks.push(b`\n\t\t\t\t\tconst ${get_slot_spread_changes_fn} = #dirty => ${renderer.dirty(\n\t\t\t\t\tArray.from(spread_dynamic_dependencies)\n\t\t\t\t)};\n\t\t\t\t`);\n\t\t\t}\n\t\t} else {\n\t\t\tget_slot_changes_fn = 'null';\n\t\t\tget_slot_context_fn = 'null';\n\t\t}\n\t\tlet has_fallback = !!this.fallback;\n\t\tif (this.fallback) {\n\t\t\tthis.fragment.render(\n\t\t\t\tthis.fallback,\n\t\t\t\tnull,\n\t\t\t\t/** @type {import('estree').Identifier} */ (x`#nodes`)\n\t\t\t);\n\t\t\thas_fallback = this.fallback.has_content();\n\t\t\tif (!has_fallback) {\n\t\t\t\trenderer.remove_block(this.fallback);\n\t\t\t}\n\t\t}\n\t\tconst slot = block.get_unique_name(`${sanitize(slot_name)}_slot`);\n\t\tconst slot_definition = block.get_unique_name(`${sanitize(slot_name)}_slot_template`);\n\t\tconst slot_or_fallback = has_fallback\n\t\t\t? block.get_unique_name(`${sanitize(slot_name)}_slot_or_fallback`)\n\t\t\t: slot;\n\t\tblock.chunks.init.push(b`\n\t\t\tconst ${slot_definition} = ${renderer.reference('#slots')}.${slot_name};\n\t\t\tconst ${slot} = @create_slot(${slot_definition}, #ctx, ${renderer.reference(\n\t\t\t'$$scope'\n\t\t)}, ${get_slot_context_fn});\n\t\t\t${has_fallback ? b`const ${slot_or_fallback} = ${slot} || ${this.fallback.name}(#ctx);` : null}\n\t\t`);\n\t\tblock.chunks.create.push(b`if (${slot_or_fallback}) ${slot_or_fallback}.c();`);\n\t\tif (renderer.options.hydratable) {\n\t\t\tblock.chunks.claim.push(b`if (${slot_or_fallback}) ${slot_or_fallback}.l(${parent_nodes});`);\n\t\t}\n\t\tblock.chunks.mount.push(b`\n\t\t\tif (${slot_or_fallback}) {\n\t\t\t\t${slot_or_fallback}.m(${parent_node || '#target'}, ${parent_node ? 'null' : '#anchor'});\n\t\t\t}\n\t\t`);\n\t\tblock.chunks.intro.push(b`@transition_in(${slot_or_fallback}, #local);`);\n\t\tblock.chunks.outro.push(b`@transition_out(${slot_or_fallback}, #local);`);\n\t\tconst dynamic_dependencies = Array.from(this.dependencies).filter((name) =>\n\t\t\tthis.is_dependency_dynamic(name)\n\t\t);\n\t\tconst fallback_dynamic_dependencies = has_fallback\n\t\t\t? Array.from(this.fallback.dependencies).filter((name) => this.is_dependency_dynamic(name))\n\t\t\t: [];\n\t\tlet condition = renderer.dirty(dynamic_dependencies);\n\t\tif (block.has_outros) {\n\t\t\tcondition = x`!#current || ${condition}`;\n\t\t}\n\t\t// conditions to treat everything as dirty\n\t\tconst all_dirty_conditions = [\n\t\t\tget_slot_spread_changes_fn ? x`${get_slot_spread_changes_fn}(#dirty)` : null,\n\t\t\tblock.has_outros ? x`!#current` : null\n\t\t].filter(Boolean);\n\t\tconst all_dirty_condition = all_dirty_conditions.length\n\t\t\t? all_dirty_conditions.reduce((condition1, condition2) => x`${condition1} || ${condition2}`)\n\t\t\t: null;\n\n\t\t/** @type {import('estree').Node[]} */\n\t\tlet slot_update;\n\t\tif (all_dirty_condition) {\n\t\t\tconst dirty = x`${all_dirty_condition} ? @get_all_dirty_from_scope(${renderer.reference(\n\t\t\t\t'$$scope'\n\t\t\t)}) : @get_slot_changes(${slot_definition}, ${renderer.reference(\n\t\t\t\t'$$scope'\n\t\t\t)}, #dirty, ${get_slot_changes_fn})`;\n\t\t\tslot_update = b`\n\t\t\t\tif (${slot}.p && ${condition}) {\n\t\t\t\t\t@update_slot_base(${slot}, ${slot_definition}, #ctx, ${renderer.reference(\n\t\t\t\t'$$scope'\n\t\t\t)}, ${dirty}, ${get_slot_context_fn});\n\t\t\t\t}\n\t\t\t`;\n\t\t} else {\n\t\t\tslot_update = b`\n\t\t\t\tif (${slot}.p && ${condition}) {\n\t\t\t\t\t@update_slot(${slot}, ${slot_definition}, #ctx, ${renderer.reference(\n\t\t\t\t'$$scope'\n\t\t\t)}, #dirty, ${get_slot_changes_fn}, ${get_slot_context_fn});\n\t\t\t\t}\n\t\t\t`;\n\t\t}\n\t\tlet fallback_condition = renderer.dirty(fallback_dynamic_dependencies);\n\t\tlet fallback_dirty = x`#dirty`;\n\t\tif (block.has_outros) {\n\t\t\tfallback_condition = x`!#current || ${fallback_condition}`;\n\t\t\tfallback_dirty = x`!#current ? ${renderer.get_initial_dirty()} : ${fallback_dirty}`;\n\t\t}\n\t\tconst fallback_update =\n\t\t\thas_fallback &&\n\t\t\tfallback_dynamic_dependencies.length > 0 &&\n\t\t\tb`\n\t\t\tif (${slot_or_fallback} && ${slot_or_fallback}.p && ${fallback_condition}) {\n\t\t\t\t${slot_or_fallback}.p(#ctx, ${fallback_dirty});\n\t\t\t}\n\t\t`;\n\t\tif (fallback_update) {\n\t\t\tblock.chunks.update.push(b`\n\t\t\t\tif (${slot}) {\n\t\t\t\t\t${slot_update}\n\t\t\t\t} else {\n\t\t\t\t\t${fallback_update}\n\t\t\t\t}\n\t\t\t`);\n\t\t} else {\n\t\t\tblock.chunks.update.push(b`\n\t\t\t\tif (${slot}) {\n\t\t\t\t\t${slot_update}\n\t\t\t\t}\n\t\t\t`);\n\t\t}\n\t\tblock.chunks.destroy.push(b`if (${slot_or_fallback}) ${slot_or_fallback}.d(detaching);`);\n\t}\n\n\t/** @param {string} name */\n\tis_dependency_dynamic(name) {\n\t\tif (name === '$$scope') return true;\n\t\tif (this.node.scope.is_let(name)) return true;\n\t\tif (is_reserved_keyword(name)) return true;\n\t\tconst variable = this.renderer.component.var_lookup.get(name);\n\t\treturn is_dynamic(variable);\n\t}\n}\n", "import { b, x } from 'code-red';\nimport Wrapper from './shared/Wrapper.js';\nimport { string_literal } from '../../utils/stringify.js';\nimport add_to_set from '../../utils/add_to_set.js';\n\n/** @extends Wrapper<import('../../nodes/Title.js').default> */\nexport default class TitleWrapper extends Wrapper {\n\t/**\n\t * @param {import('../Renderer.js').default} renderer\n\t * @param {import('../Block.js').default} block\n\t * @param {import('./shared/Wrapper.js').default} parent\n\t * @param {import('../../nodes/Title.js').default} node\n\t * @param {boolean} _strip_whitespace\n\t * @param {import('./shared/Wrapper.js').default} _next_sibling\n\t */\n\tconstructor(renderer, block, parent, node, _strip_whitespace, _next_sibling) {\n\t\tsuper(renderer, block, parent, node);\n\t}\n\n\t/**\n\t * @param {import('../Block.js').default} block\n\t * @param {import('estree').Identifier} _parent_node\n\t * @param {import('estree').Identifier} _parent_nodes\n\t */\n\trender(block, _parent_node, _parent_nodes) {\n\t\tconst is_dynamic = !!this.node.children.find((node) => node.type !== 'Text');\n\t\tif (is_dynamic) {\n\t\t\tlet value;\n\n\t\t\t/** @type {Set<string>} */\n\t\t\tconst all_dependencies = new Set();\n\t\t\t// TODO some of this code is repeated in Tag.ts — would be good to\n\t\t\t// DRY it out if that's possible without introducing crazy indirection\n\t\t\tif (this.node.children.length === 1) {\n\t\t\t\t// single {tag} — may be a non-string\n\t\t\t\t// @ts-ignore todo: check this\n\t\t\t\tconst { expression } = this.node.children[0];\n\t\t\t\tvalue = expression.manipulate(block);\n\t\t\t\tadd_to_set(all_dependencies, expression.dependencies);\n\t\t\t} else {\n\t\t\t\t// '{foo} {bar}' — treat as string concatenation\n\t\t\t\tvalue = this.node.children\n\t\t\t\t\t.map((chunk) => {\n\t\t\t\t\t\tif (chunk.type === 'Text') return string_literal(chunk.data);\n\t\t\t\t\t\t/** @type {import('../../nodes/MustacheTag.js').default} */ (\n\t\t\t\t\t\t\tchunk\n\t\t\t\t\t\t).expression.dependencies.forEach((d) => {\n\t\t\t\t\t\t\tall_dependencies.add(d);\n\t\t\t\t\t\t});\n\t\t\t\t\t\treturn /** @type {import('../../nodes/MustacheTag.js').default} */ (\n\t\t\t\t\t\t\tchunk\n\t\t\t\t\t\t).expression.manipulate(block);\n\t\t\t\t\t})\n\t\t\t\t\t.reduce((lhs, rhs) => x`${lhs} + ${rhs}`);\n\t\t\t\tif (this.node.children[0].type !== 'Text') {\n\t\t\t\t\tvalue = x`\"\" + ${value}`;\n\t\t\t\t}\n\t\t\t}\n\t\t\tconst last = this.node.should_cache && block.get_unique_name('title_value');\n\t\t\tif (this.node.should_cache) block.add_variable(last);\n\t\t\tconst init = this.node.should_cache ? x`${last} = ${value}` : value;\n\t\t\tblock.chunks.init.push(b`@_document.title = ${init};`);\n\t\t\tconst updater = b`@_document.title = ${this.node.should_cache ? last : value};`;\n\t\t\tif (all_dependencies.size) {\n\t\t\t\tconst dependencies = Array.from(all_dependencies);\n\t\t\t\tlet condition = block.renderer.dirty(dependencies);\n\t\t\t\tif (block.has_outros) {\n\t\t\t\t\tcondition = x`!#current || ${condition}`;\n\t\t\t\t}\n\t\t\t\tif (this.node.should_cache) {\n\t\t\t\t\tcondition = x`${condition} && (${last} !== (${last} = ${value}))`;\n\t\t\t\t}\n\t\t\t\tblock.chunks.update.push(b`\n\t\t\t\t\tif (${condition}) {\n\t\t\t\t\t\t${updater}\n\t\t\t\t\t}`);\n\t\t\t}\n\t\t} else {\n\t\t\tconst value =\n\t\t\t\tthis.node.children.length > 0\n\t\t\t\t\t? string_literal(\n\t\t\t\t\t\t\t/** @type {import('../../nodes/Text.js').default} */ (this.node.children[0]).data\n\t\t\t\t\t  )\n\t\t\t\t\t: x`\"\"`;\n\t\t\tblock.chunks.hydrate.push(b`@_document.title = ${value};`);\n\t\t}\n\t}\n}\n", "import Wrapper from './shared/Wrapper.js';\nimport { b, x } from 'code-red';\nimport add_event_handlers from './shared/add_event_handlers.js';\nimport add_actions from './shared/add_actions.js';\nimport EventHandler from './Element/EventHandler.js';\n\nconst associated_events = {\n\tinnerWidth: 'resize',\n\tinnerHeight: 'resize',\n\touterWidth: 'resize',\n\touterHeight: 'resize',\n\tdevicePixelRatio: 'resize',\n\tscrollX: 'scroll',\n\tscrollY: 'scroll'\n};\nconst properties = {\n\tscrollX: 'pageXOffset',\n\tscrollY: 'pageYOffset'\n};\nconst readonly = new Set([\n\t'innerWidth',\n\t'innerHeight',\n\t'outerWidth',\n\t'outerHeight',\n\t'devicePixelRatio',\n\t'online'\n]);\n\n/** @extends Wrapper<import('../../nodes/Window.js').default> */\nexport default class WindowWrapper extends Wrapper {\n\t/** @type {import('./Element/EventHandler.js').default[]} */\n\thandlers;\n\n\t/**\n\t * @param {import('../Renderer.js').default} renderer\n\t * @param {import('../Block.js').default} block\n\t * @param {import('./shared/Wrapper.js').default} parent\n\t * @param {import('../../nodes/Window.js').default} node\n\t */\n\tconstructor(renderer, block, parent, node) {\n\t\tsuper(renderer, block, parent, node);\n\t\tthis.handlers = this.node.handlers.map((handler) => new EventHandler(handler, this));\n\t}\n\n\t/**\n\t * @param {import('../Block.js').default} block\n\t * @param {import('estree').Identifier} _parent_node\n\t * @param {import('estree').Identifier} _parent_nodes\n\t */\n\trender(block, _parent_node, _parent_nodes) {\n\t\tconst { renderer } = this;\n\t\tconst { component } = renderer;\n\n\t\t/** @type {Record<string, Array<{ name: string; value: string }>>} */\n\t\tconst events = {};\n\n\t\t/** @type {Record<string, string>} */\n\t\tconst bindings = {};\n\t\tadd_actions(block, '@_window', this.node.actions);\n\t\tadd_event_handlers(block, '@_window', this.handlers);\n\t\tthis.node.bindings.forEach((binding) => {\n\t\t\t// TODO: what if it's a MemberExpression?\n\t\t\tconst binding_name = /** @type {import('estree').Identifier} */ (binding.expression.node)\n\t\t\t\t.name;\n\t\t\t// in dev mode, throw if read-only values are written to\n\t\t\tif (readonly.has(binding.name)) {\n\t\t\t\trenderer.readonly.add(binding_name);\n\t\t\t}\n\t\t\tbindings[binding.name] = binding_name;\n\t\t\t// bind:online is a special case, we need to listen for two separate events\n\t\t\tif (binding.name === 'online') return;\n\t\t\tconst associated_event = associated_events[binding.name];\n\t\t\tconst property = properties[binding.name] || binding.name;\n\t\t\tif (!events[associated_event]) events[associated_event] = [];\n\t\t\tevents[associated_event].push({\n\t\t\t\tname: binding_name,\n\t\t\t\tvalue: property\n\t\t\t});\n\t\t});\n\t\tconst scrolling = block.get_unique_name('scrolling');\n\t\tconst clear_scrolling = block.get_unique_name('clear_scrolling');\n\t\tconst scrolling_timeout = block.get_unique_name('scrolling_timeout');\n\t\tObject.keys(events).forEach((event) => {\n\t\t\tconst id = block.get_unique_name(`onwindow${event}`);\n\t\t\tconst props = events[event];\n\t\t\trenderer.add_to_context(id.name);\n\t\t\tconst fn = renderer.reference(id.name);\n\t\t\tif (event === 'scroll') {\n\t\t\t\t// TODO other bidirectional bindings...\n\t\t\t\tblock.add_variable(scrolling, x`false`);\n\t\t\t\tblock.add_variable(clear_scrolling, x`() => { ${scrolling} = false }`);\n\t\t\t\tblock.add_variable(scrolling_timeout);\n\t\t\t\tconst condition =\n\t\t\t\t\tbindings.scrollX && bindings.scrollY\n\t\t\t\t\t\t? x`\"${bindings.scrollX}\" in this._state || \"${bindings.scrollY}\" in this._state`\n\t\t\t\t\t\t: x`\"${bindings.scrollX || bindings.scrollY}\" in this._state`;\n\t\t\t\tconst scroll_x = bindings.scrollX && x`this._state.${bindings.scrollX}`;\n\t\t\t\tconst scroll_y = bindings.scrollY && x`this._state.${bindings.scrollY}`;\n\t\t\t\trenderer.meta_bindings.push(b`\n\t\t\t\t\tif (${condition}) {\n\t\t\t\t\t\t@_scrollTo(${scroll_x || '@_window.pageXOffset'}, ${scroll_y || '@_window.pageYOffset'});\n\t\t\t\t\t}\n\t\t\t\t\t${scroll_x && `${scroll_x} = @_window.pageXOffset;`}\n\t\t\t\t\t${scroll_y && `${scroll_y} = @_window.pageYOffset;`}\n\t\t\t\t`);\n\t\t\t\tblock.event_listeners.push(x`\n\t\t\t\t\t@listen(@_window, \"${event}\", () => {\n\t\t\t\t\t\t${scrolling} = true;\n\t\t\t\t\t\t@_clearTimeout(${scrolling_timeout});\n\t\t\t\t\t\t${scrolling_timeout} = @_setTimeout(${clear_scrolling}, 100);\n\t\t\t\t\t\t${fn}();\n\t\t\t\t\t})\n\t\t\t\t`);\n\t\t\t} else {\n\t\t\t\tprops.forEach((prop) => {\n\t\t\t\t\trenderer.meta_bindings.push(b`this._state.${prop.name} = @_window.${prop.value};`);\n\t\t\t\t});\n\t\t\t\tblock.event_listeners.push(x`\n\t\t\t\t\t@listen(@_window, \"${event}\", ${fn})\n\t\t\t\t`);\n\t\t\t}\n\t\t\tcomponent.partly_hoisted.push(b`\n\t\t\t\tfunction ${id}() {\n\t\t\t\t\t${props.map((prop) => renderer.invalidate(prop.name, x`${prop.name} = @_window.${prop.value}`))}\n\t\t\t\t}\n\t\t\t`);\n\t\t\tblock.chunks.init.push(b`\n\t\t\t\t@add_render_callback(${fn});\n\t\t\t`);\n\t\t\tcomponent.has_reactive_assignments = true;\n\t\t});\n\t\t// special case... might need to abstract this out if we add more special cases\n\t\tif (bindings.scrollX || bindings.scrollY) {\n\t\t\tconst condition = renderer.dirty([bindings.scrollX, bindings.scrollY].filter(Boolean));\n\t\t\tconst scroll_x = bindings.scrollX\n\t\t\t\t? renderer.reference(bindings.scrollX)\n\t\t\t\t: x`@_window.pageXOffset`;\n\t\t\tconst scroll_y = bindings.scrollY\n\t\t\t\t? renderer.reference(bindings.scrollY)\n\t\t\t\t: x`@_window.pageYOffset`;\n\t\t\tblock.chunks.update.push(b`\n\t\t\t\tif (${condition} && !${scrolling}) {\n\t\t\t\t\t${scrolling} = true;\n\t\t\t\t\t@_clearTimeout(${scrolling_timeout});\n\t\t\t\t\t@_scrollTo(${scroll_x}, ${scroll_y});\n\t\t\t\t\t${scrolling_timeout} = @_setTimeout(${clear_scrolling}, 100);\n\t\t\t\t}\n\t\t\t`);\n\t\t}\n\t\t// another special case. (I'm starting to think these are all special cases.)\n\t\tif (bindings.online) {\n\t\t\tconst id = block.get_unique_name('onlinestatuschanged');\n\t\t\tconst name = bindings.online;\n\t\t\trenderer.add_to_context(id.name);\n\t\t\tconst reference = renderer.reference(id.name);\n\t\t\tcomponent.partly_hoisted.push(b`\n\t\t\t\tfunction ${id}() {\n\t\t\t\t\t${renderer.invalidate(name, x`${name} = @_navigator.onLine`)}\n\t\t\t\t}\n\t\t\t`);\n\t\t\tblock.chunks.init.push(b`\n\t\t\t\t@add_render_callback(${reference});\n\t\t\t`);\n\t\t\tblock.event_listeners.push(\n\t\t\t\tx`@listen(@_window, \"online\", ${reference})`,\n\t\t\t\tx`@listen(@_window, \"offline\", ${reference})`\n\t\t\t);\n\t\t\tcomponent.has_reactive_assignments = true;\n\t\t}\n\t}\n}\n", "/**\n * @template {{ next?: T; prev?: T }} T\n * @param {T} next\n * @param {T} prev\n */\nexport function link(next, prev) {\n\tprev.next = next;\n\tif (next) next.prev = prev;\n}\n", "import AwaitBlock from './AwaitBlock.js';\nimport Body from './Body.js';\nimport DebugTag from './DebugTag.js';\nimport Document from './Document.js';\nimport EachBlock from './EachBlock.js';\nimport Element from './Element/index.js';\nimport Head from './Head.js';\nimport IfBlock from './IfBlock.js';\nimport KeyBlock from './KeyBlock.js';\nimport InlineComponent from './InlineComponent/index.js';\nimport MustacheTag from './MustacheTag.js';\nimport RawMustacheTag from './RawMustacheTag.js';\nimport Slot from './Slot.js';\nimport SlotTemplate from './SlotTemplate.js';\nimport Text from './Text.js';\nimport Comment from './Comment.js';\nimport Title from './Title.js';\nimport Window from './Window.js';\nimport { trim_start, trim_end } from '../../../utils/trim.js';\nimport { link } from '../../../utils/link.js';\nimport { regex_starts_with_whitespace } from '../../../utils/patterns.js';\n\nconst wrappers = {\n\tAwaitBlock,\n\tBody,\n\tComment,\n\tDebugTag,\n\tDocument,\n\tEachBlock,\n\tElement,\n\tHead,\n\tIfBlock,\n\tInlineComponent,\n\tKeyBlock,\n\tMustacheTag,\n\tOptions: null,\n\tRawMustacheTag,\n\tSlot,\n\tSlotTemplate,\n\tText,\n\tTitle,\n\tWindow\n};\n\n/**\n * @param {import('../../nodes/interfaces.js').INode} child\n * @param {import('./shared/Wrapper.js').default} next_sibling\n * @returns {boolean}\n */\nfunction trimmable_at(child, next_sibling) {\n\t// Whitespace is trimmable if one of the following is true:\n\t// The child and its sibling share a common nearest each block (not at an each block boundary)\n\t// The next sibling's previous node is an each block\n\treturn (\n\t\tnext_sibling.node.find_nearest(/EachBlock/) === child.find_nearest(/EachBlock/) ||\n\t\tnext_sibling.node.prev.type === 'EachBlock'\n\t);\n}\n\nexport default class FragmentWrapper {\n\t/** @type {import('./shared/Wrapper.js').default[]} */\n\tnodes;\n\n\t/**\n\t * @param {import('../Renderer.js').default} renderer\n\t * @param {import('../Block.js').default} block\n\t * @param {import('../../nodes/interfaces.js').INode[]} nodes\n\t * @param {import('./shared/Wrapper.js').default} parent\n\t * @param {boolean} strip_whitespace\n\t * @param {import('./shared/Wrapper.js').default} next_sibling\n\t */\n\tconstructor(renderer, block, nodes, parent, strip_whitespace, next_sibling) {\n\t\tthis.nodes = [];\n\n\t\t/** @type {import('./shared/Wrapper.js').default} */\n\t\tlet last_child;\n\n\t\t/** @type {import('./Window.js').default | undefined} */\n\t\tlet window_wrapper;\n\t\tlet i = nodes.length;\n\t\twhile (i--) {\n\t\t\tconst child = nodes[i];\n\t\t\tif (!child.type) {\n\t\t\t\tthrow new Error('missing type');\n\t\t\t}\n\t\t\tif (!(child.type in wrappers)) {\n\t\t\t\tthrow new Error(`TODO implement ${child.type}`);\n\t\t\t}\n\t\t\t// special case — this is an easy way to remove whitespace surrounding\n\t\t\t// <svelte:window/>. lil hacky but it works\n\t\t\tif (child.type === 'Window') {\n\t\t\t\twindow_wrapper = new Window(renderer, block, parent, child);\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tif (child.type === 'Text') {\n\t\t\t\tlet { data } = child;\n\t\t\t\t// We want to remove trailing whitespace inside an element/component/block,\n\t\t\t\t// *unless* there is no whitespace between this node and its next sibling\n\t\t\t\tif (this.nodes.length === 0) {\n\t\t\t\t\tconst should_trim = next_sibling\n\t\t\t\t\t\t? next_sibling.node.type === 'Text' &&\n\t\t\t\t\t\t  regex_starts_with_whitespace.test(next_sibling.node.data) &&\n\t\t\t\t\t\t  trimmable_at(child, next_sibling)\n\t\t\t\t\t\t: !child.has_ancestor('EachBlock');\n\t\t\t\t\tif (should_trim && !child.keep_space()) {\n\t\t\t\t\t\tdata = trim_end(data);\n\t\t\t\t\t\tif (!data) continue;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t// glue text nodes (which could e.g. be separated by comments) together\n\t\t\t\tif (last_child && last_child.node.type === 'Text') {\n\t\t\t\t\t/** @type {import('./Text.js').default} */ (last_child).data =\n\t\t\t\t\t\tdata + /** @type {import('./Text.js').default} */ (last_child).data;\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tconst wrapper = new Text(renderer, block, parent, child, data);\n\t\t\t\tif (wrapper.skip) continue;\n\t\t\t\tthis.nodes.unshift(wrapper);\n\t\t\t\tlink(last_child, (last_child = wrapper));\n\t\t\t} else {\n\t\t\t\tconst Wrapper = wrappers[child.type];\n\t\t\t\tif (!Wrapper || (child.type === 'Comment' && !renderer.options.preserveComments)) continue;\n\t\t\t\tconst wrapper = new Wrapper(\n\t\t\t\t\trenderer,\n\t\t\t\t\tblock,\n\t\t\t\t\tparent,\n\t\t\t\t\tchild,\n\t\t\t\t\tstrip_whitespace,\n\t\t\t\t\tlast_child || next_sibling\n\t\t\t\t);\n\t\t\t\tthis.nodes.unshift(wrapper);\n\t\t\t\tlink(last_child, (last_child = wrapper));\n\t\t\t}\n\t\t}\n\t\tif (strip_whitespace) {\n\t\t\tconst first = /** @type {import('./Text.js').default} */ (this.nodes[0]);\n\t\t\tif (first && first.node.type === 'Text' && !first.node.keep_space()) {\n\t\t\t\tfirst.data = trim_start(first.data);\n\t\t\t\tif (!first.data) {\n\t\t\t\t\tfirst.var = null;\n\t\t\t\t\tthis.nodes.shift();\n\t\t\t\t\tif (this.nodes[0]) {\n\t\t\t\t\t\tthis.nodes[0].prev = null;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif (window_wrapper) {\n\t\t\tthis.nodes.unshift(window_wrapper);\n\t\t\tlink(last_child, window_wrapper);\n\t\t}\n\t}\n\n\t/**\n\t * @param {import('../Block.js').default} block\n\t * @param {import('estree').Identifier} parent_node\n\t * @param {import('estree').Identifier} parent_nodes\n\t */\n\trender(block, parent_node, parent_nodes) {\n\t\tfor (let i = 0; i < this.nodes.length; i += 1) {\n\t\t\tthis.nodes[i].render(block, parent_node, parent_nodes);\n\t\t}\n\t}\n}\n", "import Block from './Block.js';\nimport FragmentWrapper from './wrappers/Fragment.js';\nimport { x } from 'code-red';\nimport flatten_reference from '../utils/flatten_reference.js';\nimport { reserved_keywords } from '../utils/reserved_keywords.js';\nimport { renderer_invalidate } from './invalidate.js';\n\nexport default class Renderer {\n\t/**\n\t * @typedef {Object} ContextMember\n\t * @property {string} name\n\t * @property {import('estree').Literal} index\n\t * @property {boolean} is_contextual\n\t * @property {boolean} is_non_contextual\n\t * @property {import('../../interfaces.js').Var} variable\n\t * @property {number} priority\n\t */\n\n\t/**\n\t * @typedef {Array<{\n\t * \tn: number;\n\t * \tnames: string[];\n\t * }>} BitMasks\n\t */\n\n\t/** @type {import('../Component.js').default} */\n\tcomponent; // TODO Maybe Renderer shouldn't know about Component?\n\n\t/** @type {import('../../interfaces.js').CompileOptions} */\n\toptions;\n\n\t/** @type {ContextMember[]} */\n\tcontext = [];\n\n\t/** @type {ContextMember[]} */\n\tinitial_context = [];\n\n\t/** @type {Map<string, ContextMember>} */\n\tcontext_lookup = new Map();\n\n\t/** @type {boolean} */\n\tcontext_overflow;\n\n\t/** @type {Array<import('./Block.js').default | import('estree').Node | import('estree').Node[]>} */\n\tblocks = [];\n\n\t/** @type {Set<string>} */\n\treadonly = new Set();\n\n\t/** @type {Array<import('estree').Node | import('estree').Node[]>} */\n\tmeta_bindings = []; // initial values for e.g. window.innerWidth, if there's a <svelte:window> meta tag\n\n\t/** @type {Map<string, BindingGroup>} */\n\tbinding_groups = new Map();\n\n\t/** @type {import('./Block.js').default} */\n\tblock;\n\n\t/** @type {import('./wrappers/Fragment.js').default} */\n\tfragment;\n\n\t/** @type {import('estree').Identifier} */\n\tfile_var;\n\n\t/**\n\t * Use this for stack traces. It is 1-based and acts on pre-processed sources.\n\t * Use `meta_locate` for metadata on DOM elements.\n\t * @type {(c: number) => { line: number; column: number }}\n\t */\n\tlocate;\n\n\t/**\n\t * Use this for metadata on DOM elements. It is 1-based and acts on sources that have not been pre-processed.\n\t * Use `locate` for source mappings.\n\t * @type {(c: number) => { line: number; column: number }}\n\t */\n\tmeta_locate;\n\n\t/**\n\t * @param {import('../Component.js').default} component\n\t * @param {import('../../interfaces.js').CompileOptions} options\n\t */\n\tconstructor(component, options) {\n\t\tthis.component = component;\n\t\tthis.options = options;\n\t\tthis.locate = component.locate; // TODO messy\n\t\tthis.meta_locate = component.meta_locate; // TODO messy\n\t\tthis.file_var = options.dev && this.component.get_unique_name('file');\n\t\tcomponent.vars\n\t\t\t.filter((v) => !v.hoistable || (v.export_name && !v.module))\n\t\t\t.forEach((v) => this.add_to_context(v.name));\n\t\t// ensure store values are included in context\n\t\tcomponent.vars.filter((v) => v.subscribable).forEach((v) => this.add_to_context(`$${v.name}`));\n\t\treserved_keywords.forEach((keyword) => {\n\t\t\tif (component.var_lookup.has(keyword)) {\n\t\t\t\tthis.add_to_context(keyword);\n\t\t\t}\n\t\t});\n\t\tif (component.slots.size > 0) {\n\t\t\tthis.add_to_context('$$scope');\n\t\t\tthis.add_to_context('#slots');\n\t\t}\n\t\t// main block\n\t\tthis.block = new Block({\n\t\t\trenderer: this,\n\t\t\tname: null,\n\t\t\ttype: 'component',\n\t\t\tkey: null,\n\t\t\tbindings: new Map(),\n\t\t\tdependencies: new Set()\n\t\t});\n\t\tthis.block.has_update_method = true;\n\t\tthis.fragment = new FragmentWrapper(\n\t\t\tthis,\n\t\t\tthis.block,\n\t\t\tcomponent.fragment.children,\n\t\t\tnull,\n\t\t\ttrue,\n\t\t\tnull\n\t\t);\n\t\t// TODO messy\n\t\tthis.blocks.forEach((block) => {\n\t\t\tif (block instanceof Block) {\n\t\t\t\tblock.assign_variable_names();\n\t\t\t}\n\t\t});\n\t\tthis.block.assign_variable_names();\n\t\tthis.fragment.render(this.block, null, /** @type {import('estree').Identifier} */ (x`#nodes`));\n\t\tthis.context_overflow = this.context.length > 31;\n\t\tthis.context.forEach((member) => {\n\t\t\tconst { variable } = member;\n\t\t\tif (variable) {\n\t\t\t\tmember.priority += 2;\n\t\t\t\tif (variable.mutated || variable.reassigned) member.priority += 4;\n\t\t\t\t// these determine whether variable is included in initial context\n\t\t\t\t// array, so must have the highest priority\n\t\t\t\tif (variable.is_reactive_dependency && (variable.mutated || variable.reassigned))\n\t\t\t\t\tmember.priority += 16;\n\t\t\t\tif (variable.export_name) member.priority += 32;\n\t\t\t\tif (variable.referenced) member.priority += 64;\n\t\t\t} else if (member.is_non_contextual) {\n\t\t\t\t// determine whether variable is included in initial context\n\t\t\t\t// array, so must have the highest priority\n\t\t\t\tmember.priority += 8;\n\t\t\t}\n\t\t\tif (!member.is_contextual) {\n\t\t\t\tmember.priority += 1;\n\t\t\t}\n\t\t});\n\t\tthis.context.sort(\n\t\t\t(a, b) =>\n\t\t\t\tb.priority - a.priority ||\n\t\t\t\t/** @type {number} */ (a.index.value) - /** @type {number} */ (b.index.value)\n\t\t);\n\t\tthis.context.forEach((member, i) => (member.index.value = i));\n\t\tlet i = this.context.length;\n\t\twhile (i--) {\n\t\t\tconst member = this.context[i];\n\t\t\tif (member.variable) {\n\t\t\t\tif (\n\t\t\t\t\tmember.variable.referenced ||\n\t\t\t\t\tmember.variable.export_name ||\n\t\t\t\t\t(member.variable.is_reactive_dependency &&\n\t\t\t\t\t\t(member.variable.mutated || member.variable.reassigned))\n\t\t\t\t)\n\t\t\t\t\tbreak;\n\t\t\t} else if (member.is_non_contextual) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tthis.initial_context = this.context.slice(0, i + 1);\n\t}\n\n\t/**\n\t * @param {string} name\n\t * @param {any} contextual\n\t */\n\tadd_to_context(name, contextual = false) {\n\t\tif (!this.context_lookup.has(name)) {\n\t\t\t/** @type {ContextMember} */\n\t\t\tconst member = {\n\t\t\t\tname,\n\t\t\t\tindex: { type: 'Literal', value: this.context.length },\n\t\t\t\tis_contextual: false,\n\t\t\t\tis_non_contextual: false,\n\t\t\t\tvariable: null,\n\t\t\t\tpriority: 0\n\t\t\t};\n\t\t\tthis.context_lookup.set(name, member);\n\t\t\tthis.context.push(member);\n\t\t}\n\t\tconst member = this.context_lookup.get(name);\n\t\tif (contextual) {\n\t\t\tmember.is_contextual = true;\n\t\t} else {\n\t\t\tmember.is_non_contextual = true;\n\t\t\tmember.variable = this.component.var_lookup.get(name);\n\t\t}\n\t\treturn member;\n\t}\n\n\t/**\n\t * @param {string} name\n\t * @param {unknown} [value]\n\t * @param {boolean} main_execution_context\n\t */\n\tinvalidate(name, value, main_execution_context = false) {\n\t\treturn renderer_invalidate(this, name, value, main_execution_context);\n\t}\n\n\t/**\n\t * @param {string[]} names\n\t * @param {any} is_reactive_declaration\n\t * @returns {import('estree').Expression}\n\t */\n\tdirty(names, is_reactive_declaration = false) {\n\t\tconst renderer = this;\n\t\tconst dirty = /** @type {| import('estree').Identifier\n                    | import('estree').MemberExpression} */ (\n\t\t\tis_reactive_declaration ? x`$$self.$$.dirty` : x`#dirty`\n\t\t);\n\t\tconst get_bitmask = () => {\n\t\t\t/** @type {BitMasks} */\n\t\t\tconst bitmask = [];\n\t\t\tnames.forEach((name) => {\n\t\t\t\tconst member = renderer.context_lookup.get(name);\n\t\t\t\tif (!member) return;\n\t\t\t\tif (member.index.value === -1) {\n\t\t\t\t\tthrow new Error('unset index');\n\t\t\t\t}\n\t\t\t\tconst value = /** @type {number} */ (member.index.value);\n\t\t\t\tconst i = (value / 31) | 0;\n\t\t\t\tconst n = 1 << value % 31;\n\t\t\t\tif (!bitmask[i]) bitmask[i] = { n: 0, names: [] };\n\t\t\t\tbitmask[i].n |= n;\n\t\t\t\tbitmask[i].names.push(name);\n\t\t\t});\n\t\t\treturn bitmask;\n\t\t};\n\t\t// TODO: context-overflow make it less gross\n\t\treturn /** @type {any} */ ({\n\t\t\t// Using a ParenthesizedExpression allows us to create\n\t\t\t// the expression lazily. TODO would be better if\n\t\t\t// context was determined before rendering, so that\n\t\t\t// this indirection was unnecessary\n\t\t\ttype: 'ParenthesizedExpression',\n\t\t\tget expression() {\n\t\t\t\tconst bitmask = get_bitmask();\n\t\t\t\tif (!bitmask.length) {\n\t\t\t\t\treturn /** @type {import('estree').BinaryExpression} */ (\n\t\t\t\t\t\tx`${dirty} & /*${names.join(', ')}*/ 0`\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t\tif (renderer.context_overflow) {\n\t\t\t\t\treturn bitmask\n\t\t\t\t\t\t.map((b, i) => ({ b, i }))\n\t\t\t\t\t\t.filter(({ b }) => b)\n\t\t\t\t\t\t.map(({ b, i }) => x`${dirty}[${i}] & /*${b.names.join(', ')}*/ ${b.n}`)\n\t\t\t\t\t\t.reduce((lhs, rhs) => x`${lhs} | ${rhs}`);\n\t\t\t\t}\n\t\t\t\treturn /** @type {import('estree').BinaryExpression} */ (\n\t\t\t\t\tx`${dirty} & /*${names.join(', ')}*/ ${bitmask[0].n}`\n\t\t\t\t);\n\t\t\t}\n\t\t});\n\t}\n\t// NOTE: this method may be called before this.context_overflow / this.context is fully defined\n\t// therefore, they can only be evaluated later in a getter function\n\n\t/** @returns {import('estree').UnaryExpression | import('estree').ArrayExpression} */\n\tget_initial_dirty() {\n\t\tconst _this = this;\n\t\t// TODO: context-overflow make it less gross\n\n\t\t/** @type {import('estree').UnaryExpression} */\n\t\tconst val = /** @type {import('estree').UnaryExpression} */ (x`-1`);\n\t\treturn {\n\t\t\tget type() {\n\t\t\t\treturn _this.context_overflow ? 'ArrayExpression' : 'UnaryExpression';\n\t\t\t},\n\t\t\t// as [-1]\n\t\t\tget elements() {\n\t\t\t\tconst elements = [];\n\t\t\t\tfor (let i = 0; i < _this.context.length; i += 31) {\n\t\t\t\t\telements.push(val);\n\t\t\t\t}\n\t\t\t\treturn elements;\n\t\t\t},\n\t\t\t// as -1\n\t\t\toperator: val.operator,\n\t\t\tprefix: val.prefix,\n\t\t\targument: val.argument\n\t\t};\n\t}\n\n\t/**\n\t * @param {string | import('estree').Identifier | import('estree').MemberExpression} node\n\t * @param {string | void} ctx\n\t */\n\treference(node, ctx = '#ctx') {\n\t\tif (typeof node === 'string') {\n\t\t\tnode = { type: 'Identifier', name: node };\n\t\t}\n\t\tconst { name, nodes } = flatten_reference(node);\n\t\tconst member = this.context_lookup.get(name);\n\t\t// TODO is this correct?\n\t\tif (this.component.var_lookup.get(name)) {\n\t\t\tthis.component.add_reference(node, name);\n\t\t}\n\t\tif (member !== undefined) {\n\t\t\tconst replacement = /** @type {import('estree').MemberExpression} */ (\n\t\t\t\tx`/*${member.name}*/ ${ctx}[${member.index}]`\n\t\t\t);\n\t\t\tif (nodes[0].loc) replacement.object.loc = nodes[0].loc;\n\t\t\tnodes[0] = replacement;\n\t\t\treturn nodes.reduce((lhs, rhs) => x`${lhs}.${rhs}`);\n\t\t}\n\t\treturn node;\n\t}\n\n\t/** @param {import('./Block.js').default | import('estree').Node | import('estree').Node[]} block */\n\tremove_block(block) {\n\t\tthis.blocks.splice(this.blocks.indexOf(block), 1);\n\t}\n}\n\n/**\n * @typedef {Object} BindingGroup\n * @property {(to_reference?:boolean)=>import('estree').Node} binding_group\n * @property {string[]} contexts\n * @property {Set<string>} list_dependencies\n * @property {string} keypath\n * @property {(block:Block,element:import('estree').PrivateIdentifier) => void} add_element\n * @property {(block:Block)=>void} render\n */\n", "import remapping from '@ampproject/remapping';\nimport { push_array } from './push_array.js';\n\n/**\n * @param {string} s\n */\nfunction last_line_length(s) {\n\treturn s.length - s.lastIndexOf('\\n') - 1;\n}\n// mutate map in-place\n\n/**\n * @param {import('@ampproject/remapping').DecodedSourceMap} map\n * @param {{ line: number; column: number; }} offset\n * @param {number} source_index\n */\nexport function sourcemap_add_offset(map, offset, source_index) {\n\tif (map.mappings.length == 0) return;\n\tfor (let line = 0; line < map.mappings.length; line++) {\n\t\tconst segment_list = map.mappings[line];\n\t\tfor (let segment = 0; segment < segment_list.length; segment++) {\n\t\t\tconst seg = segment_list[segment];\n\t\t\t// shift only segments that belong to component source file\n\t\t\tif (seg[1] === source_index) {\n\t\t\t\t// also ensures that seg.length >= 4\n\t\t\t\t// shift column if it points at the first line\n\t\t\t\tif (seg[2] === 0) {\n\t\t\t\t\tseg[3] += offset.column;\n\t\t\t\t}\n\t\t\t\t// shift line\n\t\t\t\tseg[2] += offset.line;\n\t\t\t}\n\t\t}\n\t}\n}\n\n/**\n * @template T\n * @param {T[]} this_table\n * @param {T[]} other_table\n * @returns {[T[], number[], boolean, boolean]}\n */\nfunction merge_tables(this_table, other_table) {\n\tconst new_table = this_table.slice();\n\tconst idx_map = [];\n\tother_table = other_table || [];\n\tlet val_changed = false;\n\tfor (const [other_idx, other_val] of other_table.entries()) {\n\t\tconst this_idx = this_table.indexOf(other_val);\n\t\tif (this_idx >= 0) {\n\t\t\tidx_map[other_idx] = this_idx;\n\t\t} else {\n\t\t\tconst new_idx = new_table.length;\n\t\t\tnew_table[new_idx] = other_val;\n\t\t\tidx_map[other_idx] = new_idx;\n\t\t\tval_changed = true;\n\t\t}\n\t}\n\tlet idx_changed = val_changed;\n\tif (val_changed) {\n\t\tif (idx_map.find((val, idx) => val != idx) === undefined) {\n\t\t\t// idx_map is identity map [0, 1, 2, 3, 4, ....]\n\t\t\tidx_changed = false;\n\t\t}\n\t}\n\treturn [new_table, idx_map, val_changed, idx_changed];\n}\nconst regex_line_token = /([^\\d\\w\\s]|\\s+)/g;\n/** */\nexport class MappedCode {\n\t/**\n\t * @type {string}\n\t */\n\tstring = undefined;\n\n\t/**\n\t * @type {import('@ampproject/remapping').DecodedSourceMap}\n\t */\n\tmap = undefined;\n\tconstructor(string = '', map = null) {\n\t\tthis.string = string;\n\t\tif (map) {\n\t\t\tthis.map = map;\n\t\t} else {\n\t\t\tthis.map = {\n\t\t\t\tversion: 3,\n\t\t\t\tmappings: [],\n\t\t\t\tsources: [],\n\t\t\t\tnames: []\n\t\t\t};\n\t\t}\n\t}\n\t/**\n\t * concat in-place (mutable), return this (chainable)\n\t * will also mutate the `other` object\n\t * @param {MappedCode} other\n\t * @returns {MappedCode}\n\t */\n\tconcat(other) {\n\t\t// noop: if one is empty, return the other\n\t\tif (other.string == '') return this;\n\t\tif (this.string == '') {\n\t\t\tthis.string = other.string;\n\t\t\tthis.map = other.map;\n\t\t\treturn this;\n\t\t}\n\t\t// compute last line length before mutating\n\t\tconst column_offset = last_line_length(this.string);\n\t\tthis.string += other.string;\n\t\tconst m1 = this.map;\n\t\tconst m2 = other.map;\n\t\tif (m2.mappings.length == 0) return this;\n\t\t// combine sources and names\n\t\tconst [sources, new_source_idx, sources_changed, sources_idx_changed] = merge_tables(\n\t\t\tm1.sources,\n\t\t\tm2.sources\n\t\t);\n\t\tconst [names, new_name_idx, names_changed, names_idx_changed] = merge_tables(\n\t\t\tm1.names,\n\t\t\tm2.names\n\t\t);\n\t\tif (sources_changed) m1.sources = sources;\n\t\tif (names_changed) m1.names = names;\n\t\t// unswitched loops are faster\n\t\tif (sources_idx_changed && names_idx_changed) {\n\t\t\tfor (let line = 0; line < m2.mappings.length; line++) {\n\t\t\t\tconst segment_list = m2.mappings[line];\n\t\t\t\tfor (let segment = 0; segment < segment_list.length; segment++) {\n\t\t\t\t\tconst seg = segment_list[segment];\n\t\t\t\t\tif (seg[1] >= 0) seg[1] = new_source_idx[seg[1]];\n\t\t\t\t\tif (seg[4] >= 0) seg[4] = new_name_idx[seg[4]];\n\t\t\t\t}\n\t\t\t}\n\t\t} else if (sources_idx_changed) {\n\t\t\tfor (let line = 0; line < m2.mappings.length; line++) {\n\t\t\t\tconst segment_list = m2.mappings[line];\n\t\t\t\tfor (let segment = 0; segment < segment_list.length; segment++) {\n\t\t\t\t\tconst seg = segment_list[segment];\n\t\t\t\t\tif (seg[1] >= 0) seg[1] = new_source_idx[seg[1]];\n\t\t\t\t}\n\t\t\t}\n\t\t} else if (names_idx_changed) {\n\t\t\tfor (let line = 0; line < m2.mappings.length; line++) {\n\t\t\t\tconst segment_list = m2.mappings[line];\n\t\t\t\tfor (let segment = 0; segment < segment_list.length; segment++) {\n\t\t\t\t\tconst seg = segment_list[segment];\n\t\t\t\t\tif (seg[4] >= 0) seg[4] = new_name_idx[seg[4]];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t// combine the mappings\n\t\t// combine\n\t\t// 1. last line of first map\n\t\t// 2. first line of second map\n\t\t// columns of 2 must be shifted\n\t\tif (m2.mappings.length > 0 && column_offset > 0) {\n\t\t\tconst first_line = m2.mappings[0];\n\t\t\tfor (let i = 0; i < first_line.length; i++) {\n\t\t\t\tfirst_line[i][0] += column_offset;\n\t\t\t}\n\t\t}\n\t\t// combine last line + first line\n\t\tpush_array(m1.mappings[m1.mappings.length - 1], m2.mappings.shift());\n\t\t// append other lines\n\t\tpush_array(m1.mappings, m2.mappings);\n\t\treturn this;\n\t}\n\n\t/**\n\t * @static\n\t * @param {string} string\n\t * @param {import('@ampproject/remapping').DecodedSourceMap} [map]\n\t * @returns {MappedCode}\n\t */\n\tstatic from_processed(string, map) {\n\t\tconst line_count = string.split('\\n').length;\n\t\tif (map) {\n\t\t\t// ensure that count of source map mappings lines\n\t\t\t// is equal to count of generated code lines\n\t\t\t// (some tools may produce less)\n\t\t\tconst missing_lines = line_count - map.mappings.length;\n\t\t\tfor (let i = 0; i < missing_lines; i++) {\n\t\t\t\tmap.mappings.push([]);\n\t\t\t}\n\t\t\treturn new MappedCode(string, map);\n\t\t}\n\t\tif (string == '') return new MappedCode();\n\t\tmap = { version: 3, names: [], sources: [], mappings: [] };\n\t\t// add empty SourceMapSegment[] for every line\n\t\tfor (let i = 0; i < line_count; i++) map.mappings.push([]);\n\t\treturn new MappedCode(string, map);\n\t}\n\n\t/**\n\t * @static\n\t * @param {import('../preprocess/private.js').Source} opts\n\t * @returns {MappedCode}\n\t */\n\tstatic from_source({ source, file_basename, get_location }) {\n\t\t/**\n\t\t * @type {{ line: number; column: number; }}\n\t\t */\n\t\tlet offset = get_location(0);\n\t\tif (!offset) offset = { line: 0, column: 0 };\n\n\t\t/**\n\t\t * @type {import('@ampproject/remapping').DecodedSourceMap}\n\t\t */\n\t\tconst map = { version: 3, names: [], sources: [file_basename], mappings: [] };\n\t\tif (source == '') return new MappedCode(source, map);\n\t\t// we create a high resolution identity map here,\n\t\t// we know that it will eventually be merged with svelte's map,\n\t\t// at which stage the resolution will decrease.\n\t\tconst line_list = source.split('\\n');\n\t\tfor (let line = 0; line < line_list.length; line++) {\n\t\t\tmap.mappings.push([]);\n\t\t\tconst token_list = line_list[line].split(regex_line_token);\n\t\t\tfor (let token = 0, column = 0; token < token_list.length; token++) {\n\t\t\t\tif (token_list[token] == '') continue;\n\t\t\t\tmap.mappings[line].push([column, 0, offset.line + line, column]);\n\t\t\t\tcolumn += token_list[token].length;\n\t\t\t}\n\t\t}\n\t\t// shift columns in first line\n\t\tconst segment_list = map.mappings[0];\n\t\tfor (let segment = 0; segment < segment_list.length; segment++) {\n\t\t\tsegment_list[segment][3] += offset.column;\n\t\t}\n\t\treturn new MappedCode(source, map);\n\t}\n}\n\n/**\n * @param {string} filename\n * @param {Array<import('@ampproject/remapping').DecodedSourceMap | import('@ampproject/remapping').RawSourceMap>} sourcemap_list\n */\nexport function combine_sourcemaps(filename, sourcemap_list) {\n\tif (sourcemap_list.length == 0) return null;\n\tlet map_idx = 1;\n\tconst map =\n\t\tsourcemap_list.slice(0, -1).find((m) => m.sources.length !== 1) === undefined\n\t\t\t? remapping(\n\t\t\t\t\t// use array interface\n\t\t\t\t\t// only the oldest sourcemap can have multiple sources\n\t\t\t\t\tsourcemap_list,\n\t\t\t\t\t() => null,\n\t\t\t\t\ttrue // skip optional field `sourcesContent`\n\t\t\t  )\n\t\t\t: remapping(\n\t\t\t\t\t// use loader interface\n\t\t\t\t\tsourcemap_list[0], // last map\n\t\t\t\t\t(sourcefile) => {\n\t\t\t\t\t\tif (sourcefile === filename && sourcemap_list[map_idx]) {\n\t\t\t\t\t\t\treturn sourcemap_list[map_idx++]; // idx 1, 2, ...\n\t\t\t\t\t\t\t// bundle file = branch node\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\treturn null; // source file = leaf node\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\ttrue\n\t\t\t  );\n\tif (!map.file) delete map.file; // skip optional field `file`\n\t// When source maps are combined and the leading map is empty, sources is not set.\n\t// Add the filename to the empty array in this case.\n\t// Further improvements to remapping may help address this as well https://github.com/ampproject/remapping/issues/116\n\tif (!map.sources.length) map.sources = [filename];\n\treturn map;\n}\n\n/**\n * @param {string} filename\n * @param {import('magic-string').SourceMap} svelte_map\n * @param {string | import('@ampproject/remapping').DecodedSourceMap | import('@ampproject/remapping').RawSourceMap} preprocessor_map_input\n * @returns {import('magic-string').SourceMap}\n */\nexport function apply_preprocessor_sourcemap(filename, svelte_map, preprocessor_map_input) {\n\tif (!svelte_map || !preprocessor_map_input) return svelte_map;\n\tconst preprocessor_map =\n\t\ttypeof preprocessor_map_input === 'string'\n\t\t\t? JSON.parse(preprocessor_map_input)\n\t\t\t: preprocessor_map_input;\n\tconst result_map = combine_sourcemaps(filename, [svelte_map, preprocessor_map]);\n\t// Svelte expects a SourceMap which includes toUrl and toString. Instead of wrapping our output in a class,\n\t// we just tack on the extra properties.\n\tObject.defineProperties(result_map, {\n\t\ttoString: {\n\t\t\tenumerable: false,\n\t\t\tvalue: function toString() {\n\t\t\t\treturn JSON.stringify(this);\n\t\t\t}\n\t\t},\n\t\ttoUrl: {\n\t\t\tenumerable: false,\n\t\t\tvalue: function toUrl() {\n\t\t\t\tlet b64 = '';\n\t\t\t\tif (typeof window !== 'undefined' && window.btoa) {\n\t\t\t\t\t// btoa doesn't support multi-byte characters\n\t\t\t\t\tb64 = window.btoa(unescape(encodeURIComponent(this.toString())));\n\t\t\t\t} else if (typeof Buffer !== 'undefined') {\n\t\t\t\t\tb64 = Buffer.from(this.toString(), 'utf8').toString('base64');\n\t\t\t\t} else {\n\t\t\t\t\tthrow new Error(\n\t\t\t\t\t\t'Unsupported environment: `window.btoa` or `Buffer` should be present to use toUrl.'\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t\treturn 'data:application/json;charset=utf-8;base64,' + b64;\n\t\t\t}\n\t\t}\n\t});\n\treturn /** @type {import('magic-string').SourceMap} */ (result_map);\n}\nconst regex_data_uri = /data:(?:application|text)\\/json;(?:charset[:=]\\S+?;)?base64,(\\S*)/;\n// parse attached sourcemap in processed.code\n\n/**\n * @param {import('../preprocess/public.js').Processed} processed\n * @param {'script' | 'style'} tag_name\n * @returns {void}\n */\nexport function parse_attached_sourcemap(processed, tag_name) {\n\tconst r_in = '[#@]\\\\s*sourceMappingURL\\\\s*=\\\\s*(\\\\S*)';\n\tconst regex =\n\t\ttag_name == 'script'\n\t\t\t? new RegExp('(?://' + r_in + ')|(?:/\\\\*' + r_in + '\\\\s*\\\\*/)$')\n\t\t\t: new RegExp('/\\\\*' + r_in + '\\\\s*\\\\*/$');\n\n\t/**\n\t * @param {any} message\n\t */\n\tfunction log_warning(message) {\n\t\t// code_start: help to find preprocessor\n\t\tconst code_start =\n\t\t\tprocessed.code.length < 100 ? processed.code : processed.code.slice(0, 100) + ' [...]';\n\t\tconsole.warn(`warning: ${message}. processed.code = ${JSON.stringify(code_start)}`);\n\t}\n\tprocessed.code = processed.code.replace(regex, (_, match1, match2) => {\n\t\tconst map_url = tag_name == 'script' ? match1 || match2 : match1;\n\t\tconst map_data = (map_url.match(regex_data_uri) || [])[1];\n\t\tif (map_data) {\n\t\t\t// sourceMappingURL is data URL\n\t\t\tif (processed.map) {\n\t\t\t\tlog_warning(\n\t\t\t\t\t'Not implemented. ' +\n\t\t\t\t\t\t'Found sourcemap in both processed.code and processed.map. ' +\n\t\t\t\t\t\t'Please update your preprocessor to return only one sourcemap.'\n\t\t\t\t);\n\t\t\t\t// ignore attached sourcemap\n\t\t\t\treturn '';\n\t\t\t}\n\t\t\tprocessed.map = atob(map_data); // use attached sourcemap\n\t\t\treturn ''; // remove from processed.code\n\t\t}\n\t\t// sourceMappingURL is path or URL\n\t\tif (!processed.map) {\n\t\t\tlog_warning(\n\t\t\t\t`Found sourcemap path ${JSON.stringify(\n\t\t\t\t\tmap_url\n\t\t\t\t)} in processed.code, but no sourcemap data. ` +\n\t\t\t\t\t'Please update your preprocessor to return sourcemap data directly.'\n\t\t\t);\n\t\t}\n\t\t// ignore sourcemap path\n\t\treturn ''; // remove from processed.code\n\t});\n}\n", "/**\n * @param {import(\"../../interfaces.js\").EnableSourcemap} enable_sourcemap\n * @param {keyof Exclude<import(\"../../interfaces.js\").EnableSourcemap, boolean>} namespace\n */\nexport default function check_enable_sourcemap(enable_sourcemap, namespace) {\n\treturn typeof enable_sourcemap === 'boolean' ? enable_sourcemap : enable_sourcemap[namespace];\n}\n", "import { b, x, p } from 'code-red';\nimport Renderer from './Renderer.js';\nimport { walk } from 'estree-walker';\nimport { extract_names } from 'periscopic';\nimport { invalidate } from './invalidate.js';\nimport { apply_preprocessor_sourcemap } from '../../utils/mapped_code.js';\nimport { flatten } from '../../utils/flatten.js';\nimport check_enable_sourcemap from '../utils/check_enable_sourcemap.js';\nimport { push_array } from '../../utils/push_array.js';\n\n/**\n * @param {import('../Component.js').default} component\n * @param {import('../../interfaces.js').CompileOptions} options\n * @returns {{ js: import('estree').Node[]; css: import('../../interfaces.js').CssResult; }}\n */\nexport default function dom(component, options) {\n\tconst { name } = component;\n\tconst renderer = new Renderer(component, options);\n\tconst { block } = renderer;\n\tblock.has_outro_method = true;\n\t/** @type {import('estree').Node[][]} */\n\tconst body = [];\n\tif (renderer.file_var) {\n\t\tconst file = component.file ? x`\"${component.file}\"` : x`undefined`;\n\t\tbody.push(b`const ${renderer.file_var} = ${file};`);\n\t}\n\tconst css = component.stylesheet.render(options.filename);\n\tconst css_sourcemap_enabled = check_enable_sourcemap(options.enableSourcemap, 'css');\n\tif (css_sourcemap_enabled) {\n\t\tcss.map = apply_preprocessor_sourcemap(\n\t\t\toptions.filename,\n\t\t\tcss.map,\n\t\t\t/** @type {string | import('@ampproject/remapping').RawSourceMap | import('@ampproject/remapping').DecodedSourceMap} */ (\n\t\t\t\toptions.sourcemap\n\t\t\t)\n\t\t);\n\t} else {\n\t\tcss.map = null;\n\t}\n\tconst styles =\n\t\tcss_sourcemap_enabled && component.stylesheet.has_styles && options.dev\n\t\t\t? `${css.code}\\n/*# sourceMappingURL=${css.map.toUrl()} */`\n\t\t\t: css.code;\n\tconst add_css = component.get_unique_name('add_css');\n\tconst should_add_css = !!styles && (options.customElement || options.css === 'injected');\n\tif (should_add_css) {\n\t\tbody.push(b`\n\t\t\tfunction ${add_css}(target) {\n\t\t\t\t@append_styles(target, \"${component.stylesheet.id}\", \"${styles}\");\n\t\t\t}\n\t\t`);\n\t}\n\t// fix order\n\t// TODO the deconflicted names of blocks are reversed... should set them here\n\tconst blocks = renderer.blocks.slice().reverse();\n\tpush_array(\n\t\tbody,\n\t\tblocks.map((block) => {\n\t\t\t// TODO this is a horrible mess — renderer.blocks\n\t\t\t// contains a mixture of Blocks and Nodes\n\t\t\tif (/** @type {import('./Block.js').default} */ (block).render)\n\t\t\t\treturn /** @type {import('./Block.js').default} */ (block).render();\n\t\t\treturn block;\n\t\t})\n\t);\n\tif (options.dev && !options.hydratable) {\n\t\tblock.chunks.claim.push(\n\t\t\tb`throw new @_Error(\"options.hydrate only works if the component was compiled with the \\`hydratable: true\\` option\");`\n\t\t);\n\t}\n\tconst uses_slots = component.var_lookup.has('$$slots');\n\n\t/** @type {import('estree').Node[] | undefined} */\n\tlet compute_slots;\n\tif (uses_slots) {\n\t\tcompute_slots = b`\n\t\t\tconst $$slots = @compute_slots(#slots);\n\t\t`;\n\t}\n\tconst uses_props = component.var_lookup.has('$$props');\n\tconst uses_rest = component.var_lookup.has('$$restProps');\n\tconst $$props = uses_props || uses_rest ? '$$new_props' : '$$props';\n\tconst props = component.vars.filter((variable) => !variable.module && variable.export_name);\n\tconst writable_props = props.filter((variable) => variable.writable);\n\tconst omit_props_names = component.get_unique_name('omit_props_names');\n\tconst compute_rest = x`@compute_rest_props($$props, ${omit_props_names.name})`;\n\tconst rest = uses_rest\n\t\t? b`\n\t\tconst ${omit_props_names.name} = [${props.map((prop) => `\"${prop.export_name}\"`).join(',')}];\n\t\tlet $$restProps = ${compute_rest};\n\t`\n\t\t: null;\n\tconst set =\n\t\tuses_props || uses_rest || writable_props.length > 0 || component.slots.size > 0\n\t\t\t? x`\n\t\t\t${$$props} => {\n\t\t\t\t${\n\t\t\t\t\tuses_props &&\n\t\t\t\t\trenderer.invalidate(\n\t\t\t\t\t\t'$$props',\n\t\t\t\t\t\tx`$$props = @assign(@assign({}, $$props), @exclude_internal_props($$new_props))`\n\t\t\t\t\t)\n\t\t\t\t}\n\t\t\t\t${\n\t\t\t\t\tuses_rest &&\n\t\t\t\t\t!uses_props &&\n\t\t\t\t\tx`$$props = @assign(@assign({}, $$props), @exclude_internal_props($$new_props))`\n\t\t\t\t}\n\t\t\t\t${uses_rest && renderer.invalidate('$$restProps', x`$$restProps = ${compute_rest}`)}\n\t\t\t\t${writable_props.map(\n\t\t\t\t\t(prop) =>\n\t\t\t\t\t\tb`if ('${prop.export_name}' in ${$$props}) ${renderer.invalidate(\n\t\t\t\t\t\t\tprop.name,\n\t\t\t\t\t\t\tx`${prop.name} = ${$$props}.${prop.export_name}`\n\t\t\t\t\t\t)};`\n\t\t\t\t)}\n\t\t\t\t${\n\t\t\t\t\tcomponent.slots.size > 0 &&\n\t\t\t\t\tb`if ('$$scope' in ${$$props}) ${renderer.invalidate(\n\t\t\t\t\t\t'$$scope',\n\t\t\t\t\t\tx`$$scope = ${$$props}.$$scope`\n\t\t\t\t\t)};`\n\t\t\t\t}\n\t\t\t}\n\t\t`\n\t\t\t: null;\n\tconst accessors = [];\n\tconst not_equal = component.component_options.immutable ? x`@not_equal` : x`@safe_not_equal`;\n\n\t/** @type {import('estree').Node[] | import('estree').Node} */\n\tlet missing_props_check;\n\n\t/** @type {import('estree').Expression} */\n\tlet inject_state;\n\n\t/** @type {import('estree').Expression} */\n\tlet capture_state;\n\n\t/** @type {import('estree').Node[] | import('estree').Node} */\n\tlet props_inject;\n\tprops.forEach((prop) => {\n\t\tconst variable = component.var_lookup.get(prop.name);\n\t\tif (!variable.writable || component.component_options.accessors) {\n\t\t\taccessors.push({\n\t\t\t\ttype: 'MethodDefinition',\n\t\t\t\tkind: 'get',\n\t\t\t\tkey: { type: 'Identifier', name: prop.export_name },\n\t\t\t\tvalue: x`function() {\n\t\t\t\t\treturn ${\n\t\t\t\t\t\tprop.hoistable\n\t\t\t\t\t\t\t? prop.name\n\t\t\t\t\t\t\t: x`this.$$.ctx[${renderer.context_lookup.get(prop.name).index}]`\n\t\t\t\t\t}\n\t\t\t\t}`\n\t\t\t});\n\t\t} else if (component.compile_options.dev) {\n\t\t\taccessors.push({\n\t\t\t\ttype: 'MethodDefinition',\n\t\t\t\tkind: 'get',\n\t\t\t\tkey: { type: 'Identifier', name: prop.export_name },\n\t\t\t\tvalue: x`function() {\n\t\t\t\t\tthrow new @_Error(\"<${component.tag}>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'\");\n\t\t\t\t}`\n\t\t\t});\n\t\t}\n\t\tif (component.component_options.accessors) {\n\t\t\tif (variable.writable && !renderer.readonly.has(prop.name)) {\n\t\t\t\taccessors.push({\n\t\t\t\t\ttype: 'MethodDefinition',\n\t\t\t\t\tkind: 'set',\n\t\t\t\t\tkey: { type: 'Identifier', name: prop.export_name },\n\t\t\t\t\tvalue: x`function(${prop.name}) {\n\t\t\t\t\t\tthis.$$set({ ${prop.export_name}: ${prop.name} });\n\t\t\t\t\t\t@flush();\n\t\t\t\t\t}`\n\t\t\t\t});\n\t\t\t} else if (component.compile_options.dev) {\n\t\t\t\taccessors.push({\n\t\t\t\t\ttype: 'MethodDefinition',\n\t\t\t\t\tkind: 'set',\n\t\t\t\t\tkey: { type: 'Identifier', name: prop.export_name },\n\t\t\t\t\tvalue: x`function(value) {\n\t\t\t\t\t\tthrow new @_Error(\"<${component.tag}>: Cannot set read-only property '${prop.export_name}'\");\n\t\t\t\t\t}`\n\t\t\t\t});\n\t\t\t}\n\t\t} else if (component.compile_options.dev) {\n\t\t\taccessors.push({\n\t\t\t\ttype: 'MethodDefinition',\n\t\t\t\tkind: 'set',\n\t\t\t\tkey: { type: 'Identifier', name: prop.export_name },\n\t\t\t\tvalue: x`function(value) {\n\t\t\t\t\tthrow new @_Error(\"<${component.tag}>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'\");\n\t\t\t\t}`\n\t\t\t});\n\t\t}\n\t});\n\tcomponent.instance_exports_from.forEach((exports_from) => {\n\t\tconst import_declaration = {\n\t\t\t...exports_from,\n\t\t\ttype: 'ImportDeclaration',\n\t\t\tspecifiers: [],\n\t\t\tsource: exports_from.source\n\t\t};\n\t\tcomponent.imports.push(/** @type {import('estree').ImportDeclaration} */ (import_declaration));\n\t\texports_from.specifiers.forEach((specifier) => {\n\t\t\tif (component.component_options.accessors) {\n\t\t\t\tconst name = component.get_unique_name(specifier.exported.name);\n\t\t\t\timport_declaration.specifiers.push({\n\t\t\t\t\t...specifier,\n\t\t\t\t\ttype: 'ImportSpecifier',\n\t\t\t\t\timported: specifier.local,\n\t\t\t\t\tlocal: name\n\t\t\t\t});\n\t\t\t\taccessors.push({\n\t\t\t\t\ttype: 'MethodDefinition',\n\t\t\t\t\tkind: 'get',\n\t\t\t\t\tkey: { type: 'Identifier', name: specifier.exported.name },\n\t\t\t\t\tvalue: x`function() {\n\t\t\t\t\t\treturn ${name}\n\t\t\t\t\t}`\n\t\t\t\t});\n\t\t\t} else if (component.compile_options.dev) {\n\t\t\t\taccessors.push({\n\t\t\t\t\ttype: 'MethodDefinition',\n\t\t\t\t\tkind: 'get',\n\t\t\t\t\tkey: { type: 'Identifier', name: specifier.exported.name },\n\t\t\t\t\tvalue: x`function() {\n\t\t\t\t\t\tthrow new @_Error(\"<${component.tag}>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'\");\n\t\t\t\t\t}`\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t});\n\tif (component.compile_options.dev) {\n\t\t// checking that expected ones were passed\n\t\tconst expected = props.filter((prop) => prop.writable && !prop.initialised);\n\t\tif (expected.length) {\n\t\t\tmissing_props_check = b`\n\t\t\t\t$$self.$$.on_mount.push(function () {\n\t\t\t\t\t${expected.map(\n\t\t\t\t\t\t(prop) => b`\n\t\t\t\t\tif (${prop.name} === undefined && !(('${prop.export_name}' in $$props) || $$self.$$.bound[$$self.$$.props['${prop.export_name}']])) {\n\t\t\t\t\t\t@_console.warn(\"<${component.tag}> was created without expected prop '${prop.export_name}'\");\n\t\t\t\t\t}`\n\t\t\t\t\t)}\n\t\t\t\t});\n\t\t\t`;\n\t\t}\n\t\tconst capturable_vars = component.vars.filter(\n\t\t\t(v) => !v.internal && !v.global && !v.name.startsWith('$$')\n\t\t);\n\t\tif (capturable_vars.length > 0) {\n\t\t\tcapture_state = x`() => ({ ${capturable_vars.map((prop) => p`${prop.name}`)} })`;\n\t\t}\n\t\tconst injectable_vars = capturable_vars.filter(\n\t\t\t(v) => !v.module && v.writable && v.name[0] !== '$'\n\t\t);\n\t\tif (uses_props || injectable_vars.length > 0) {\n\t\t\tinject_state = x`\n\t\t\t\t${$$props} => {\n\t\t\t\t\t${\n\t\t\t\t\t\tuses_props &&\n\t\t\t\t\t\trenderer.invalidate('$$props', x`$$props = @assign(@assign({}, $$props), $$new_props)`)\n\t\t\t\t\t}\n\t\t\t\t\t${injectable_vars.map(\n\t\t\t\t\t\t(v) =>\n\t\t\t\t\t\t\tb`if ('${v.name}' in $$props) ${renderer.invalidate(\n\t\t\t\t\t\t\t\tv.name,\n\t\t\t\t\t\t\t\tx`${v.name} = ${$$props}.${v.name}`\n\t\t\t\t\t\t\t)};`\n\t\t\t\t\t)}\n\t\t\t\t}\n\t\t\t`;\n\t\t\tprops_inject = b`\n\t\t\t\tif ($$props && \"$$inject\" in $$props) {\n\t\t\t\t\t$$self.$inject_state($$props.$$inject);\n\t\t\t\t}\n\t\t\t`;\n\t\t}\n\t}\n\t// instrument assignments\n\tif (component.ast.instance) {\n\t\tlet scope = component.instance_scope;\n\t\tconst map = component.instance_scope_map;\n\n\t\t/** @type {import('estree').Node | null} */\n\t\tlet execution_context = null;\n\t\twalk(component.ast.instance.content, {\n\t\t\tenter(node) {\n\t\t\t\tif (map.has(node)) {\n\t\t\t\t\tscope = /** @type {import('periscopic').Scope} */ (map.get(node));\n\t\t\t\t\tif (!execution_context && !scope.block) {\n\t\t\t\t\t\texecution_context = node;\n\t\t\t\t\t}\n\t\t\t\t} else if (\n\t\t\t\t\t!execution_context &&\n\t\t\t\t\tnode.type === 'LabeledStatement' &&\n\t\t\t\t\tnode.label.name === '$'\n\t\t\t\t) {\n\t\t\t\t\texecution_context = node;\n\t\t\t\t}\n\t\t\t},\n\t\t\tleave(node) {\n\t\t\t\tif (map.has(node)) {\n\t\t\t\t\tscope = scope.parent;\n\t\t\t\t}\n\t\t\t\tif (execution_context === node) {\n\t\t\t\t\texecution_context = null;\n\t\t\t\t}\n\t\t\t\tif (node.type === 'AssignmentExpression' || node.type === 'UpdateExpression') {\n\t\t\t\t\tconst assignee = node.type === 'AssignmentExpression' ? node.left : node.argument;\n\t\t\t\t\t// normally (`a = 1`, `b.c = 2`), there'll be a single name\n\t\t\t\t\t// (a or b). In destructuring cases (`[d, e] = [e, d]`) there\n\t\t\t\t\t// may be more, in which case we need to tack the extra ones\n\t\t\t\t\t// onto the initial function call\n\t\t\t\t\tconst names = new Set(extract_names(/** @type {import('estree').Node} */ (assignee)));\n\t\t\t\t\tthis.replace(invalidate(renderer, scope, node, names, execution_context === null));\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\tcomponent.rewrite_props(({ name, reassigned, export_name }) => {\n\t\t\tconst value = `$${name}`;\n\t\t\tconst i = renderer.context_lookup.get(`$${name}`).index;\n\t\t\tconst insert =\n\t\t\t\treassigned || export_name\n\t\t\t\t\t? b`${`$$subscribe_${name}`}()`\n\t\t\t\t\t: b`@component_subscribe($$self, ${name}, #value => $$invalidate(${i}, ${value} = #value))`;\n\t\t\tif (component.compile_options.dev) {\n\t\t\t\treturn b`@validate_store(${name}, '${name}'); ${insert}`;\n\t\t\t}\n\t\t\treturn insert;\n\t\t});\n\t}\n\tconst args = [x`$$self`];\n\tconst has_invalidate =\n\t\tprops.length > 0 ||\n\t\tcomponent.has_reactive_assignments ||\n\t\tcomponent.slots.size > 0 ||\n\t\tcapture_state ||\n\t\tinject_state;\n\tif (has_invalidate) {\n\t\targs.push(x`$$props`, x`$$invalidate`);\n\t} else if (component.compile_options.dev) {\n\t\t// $$props arg is still needed for unknown prop check\n\t\targs.push(x`$$props`);\n\t}\n\t// has_create_fragment is intentionally to be true in dev mode.\n\tconst has_create_fragment = component.compile_options.dev || block.has_content();\n\tif (has_create_fragment) {\n\t\tbody.push(b`\n\t\t\tfunction create_fragment(#ctx) {\n\t\t\t\t${block.get_contents()}\n\t\t\t}\n\t\t`);\n\t}\n\tbody.push(b`\n\t\t${component.extract_javascript(component.ast.module)}\n\n\t\t${component.fully_hoisted}\n\t`);\n\tconst filtered_props = props.filter((prop) => {\n\t\tconst variable = component.var_lookup.get(prop.name);\n\t\tif (variable.hoistable) return false;\n\t\treturn prop.name[0] !== '$';\n\t});\n\tconst reactive_stores = component.vars.filter(\n\t\t(variable) => variable.name[0] === '$' && variable.name[1] !== '$'\n\t);\n\tconst instance_javascript = component.extract_javascript(component.ast.instance);\n\tconst has_definition =\n\t\tcomponent.compile_options.dev ||\n\t\t(instance_javascript && instance_javascript.length > 0) ||\n\t\tfiltered_props.length > 0 ||\n\t\tuses_props ||\n\t\tcomponent.partly_hoisted.length > 0 ||\n\t\trenderer.initial_context.length > 0 ||\n\t\tcomponent.reactive_declarations.length > 0 ||\n\t\tcapture_state ||\n\t\tinject_state;\n\tconst definition = has_definition\n\t\t? component.alias('instance')\n\t\t: { type: 'Literal', value: null };\n\tconst reactive_store_subscriptions = reactive_stores\n\t\t.filter((store) => {\n\t\t\tconst variable = component.var_lookup.get(store.name.slice(1));\n\t\t\treturn !variable || variable.hoistable;\n\t\t})\n\t\t.map(\n\t\t\t({ name }) => b`\n\t\t\t${component.compile_options.dev && b`@validate_store(${name.slice(1)}, '${name.slice(1)}');`}\n\t\t\t@component_subscribe($$self, ${name.slice(1)}, $$value => $$invalidate(${\n\t\t\t\trenderer.context_lookup.get(name).index\n\t\t\t}, ${name} = $$value));\n\t\t`\n\t\t);\n\tconst resubscribable_reactive_store_unsubscribers = reactive_stores\n\t\t.filter((store) => {\n\t\t\tconst variable = component.var_lookup.get(store.name.slice(1));\n\t\t\treturn variable && (variable.reassigned || variable.export_name);\n\t\t})\n\t\t.map(({ name }) => b`$$self.$$.on_destroy.push(() => ${`$$unsubscribe_${name.slice(1)}`}());`);\n\tif (has_definition) {\n\t\t/** @type {import('estree').Node | import('estree').Node[]} */\n\t\tconst reactive_declarations = [];\n\n\t\t/** @type {import('estree').Node[]} */\n\t\tconst fixed_reactive_declarations = []; // not really 'reactive' but whatever\n\t\tcomponent.reactive_declarations.forEach((d) => {\n\t\t\tconst dependencies = Array.from(d.dependencies);\n\t\t\tconst uses_rest_or_props = !!dependencies.find((n) => n === '$$props' || n === '$$restProps');\n\t\t\tconst writable = dependencies.filter((n) => {\n\t\t\t\tconst variable = component.var_lookup.get(n);\n\t\t\t\treturn variable && (variable.export_name || variable.mutated || variable.reassigned);\n\t\t\t});\n\t\t\tconst condition =\n\t\t\t\t!uses_rest_or_props && writable.length > 0 && renderer.dirty(writable, true);\n\t\t\tlet statement = d.node; // TODO remove label (use d.node.body) if it's not referenced\n\t\t\tif (condition)\n\t\t\t\tstatement = /** @type {import('estree').Statement} */ (\n\t\t\t\t\tb`if (${condition}) { ${statement} }`[0]\n\t\t\t\t);\n\t\t\tif (condition || uses_rest_or_props) {\n\t\t\t\treactive_declarations.push(statement);\n\t\t\t} else {\n\t\t\t\tfixed_reactive_declarations.push(statement);\n\t\t\t}\n\t\t});\n\t\tconst injected = Array.from(component.injected_reactive_declaration_vars).filter((name) => {\n\t\t\tconst variable = component.var_lookup.get(name);\n\t\t\treturn variable.injected && variable.name[0] !== '$';\n\t\t});\n\t\tconst reactive_store_declarations = reactive_stores.map((variable) => {\n\t\t\tconst $name = variable.name;\n\t\t\tconst name = $name.slice(1);\n\t\t\tconst store = component.var_lookup.get(name);\n\t\t\tif (store && (store.reassigned || store.export_name)) {\n\t\t\t\tconst unsubscribe = `$$unsubscribe_${name}`;\n\t\t\t\tconst subscribe = `$$subscribe_${name}`;\n\t\t\t\tconst i = renderer.context_lookup.get($name).index;\n\t\t\t\treturn b`let ${$name}, ${unsubscribe} = @noop, ${subscribe} = () => (${unsubscribe}(), ${unsubscribe} = @subscribe(${name}, $$value => $$invalidate(${i}, ${$name} = $$value)), ${name})`;\n\t\t\t}\n\t\t\treturn b`let ${$name};`;\n\t\t});\n\n\t\t/** @type {import('estree').Node[] | undefined} */\n\t\tlet unknown_props_check;\n\t\tif (component.compile_options.dev && !(uses_props || uses_rest)) {\n\t\t\tunknown_props_check = b`\n\t\t\t\tconst writable_props = [${writable_props.map((prop) => x`'${prop.export_name}'`)}];\n\t\t\t\t@_Object.keys($$props).forEach(key => {\n\t\t\t\t\tif (!~writable_props.indexOf(key) && key.slice(0, 2) !== '$$' && key !== 'slot') @_console.warn(\\`<${\n\t\t\t\t\t\tcomponent.tag\n\t\t\t\t\t}> was created with unknown prop '\\${key}'\\`);\n\t\t\t\t});\n\t\t\t`;\n\t\t}\n\t\tconst return_value = {\n\t\t\ttype: 'ArrayExpression',\n\t\t\telements: renderer.initial_context.map(\n\t\t\t\t(member) =>\n\t\t\t\t\t/** @type {import('estree').Expression} */ ({\n\t\t\t\t\t\ttype: 'Identifier',\n\t\t\t\t\t\tname: member.name\n\t\t\t\t\t})\n\t\t\t)\n\t\t};\n\t\tbody.push(b`\n\t\t\tfunction ${definition}(${args}) {\n\t\t\t\t${injected.map((name) => b`let ${name};`)}\n\n\t\t\t\t${rest}\n\n\t\t\t\t${reactive_store_declarations}\n\n\t\t\t\t${reactive_store_subscriptions}\n\n\t\t\t\t${resubscribable_reactive_store_unsubscribers}\n\n\t\t\t\t${\n\t\t\t\t\tcomponent.slots.size || component.compile_options.dev || uses_slots\n\t\t\t\t\t\t? b`let { $$slots: #slots = {}, $$scope } = $$props;`\n\t\t\t\t\t\t: null\n\t\t\t\t}\n\t\t\t\t${\n\t\t\t\t\tcomponent.compile_options.dev &&\n\t\t\t\t\tb`@validate_slots('${component.tag}', #slots, [${[...component.slots.keys()]\n\t\t\t\t\t\t.map((key) => `'${key}'`)\n\t\t\t\t\t\t.join(',')}]);`\n\t\t\t\t}\n\t\t\t\t${compute_slots}\n\n\t\t\t\t${instance_javascript}\n\n\t\t\t\t${missing_props_check}\n\t\t\t\t${unknown_props_check}\n\n\t\t\t\t${\n\t\t\t\t\trenderer.binding_groups.size > 0 &&\n\t\t\t\t\tb`const $$binding_groups = [${[...renderer.binding_groups.keys()].map((_) => x`[]`)}];`\n\t\t\t\t}\n\n\t\t\t\t${component.partly_hoisted}\n\n\t\t\t\t${set && b`$$self.$$set = ${set};`}\n\n\t\t\t\t${capture_state && b`$$self.$capture_state = ${capture_state};`}\n\n\t\t\t\t${inject_state && b`$$self.$inject_state = ${inject_state};`}\n\n\t\t\t\t${/* before reactive declarations */ props_inject}\n\n\t\t\t\t${\n\t\t\t\t\treactive_declarations.length > 0 &&\n\t\t\t\t\tb`\n\t\t\t\t$$self.$$.update = () => {\n\t\t\t\t\t${reactive_declarations}\n\t\t\t\t};\n\t\t\t\t`\n\t\t\t\t}\n\n\t\t\t\t${fixed_reactive_declarations}\n\n\t\t\t\t${uses_props && b`$$props = @exclude_internal_props($$props);`}\n\n\t\t\t\treturn ${return_value};\n\t\t\t}\n\t\t`);\n\t}\n\tconst prop_indexes = /** @type {import('estree').ObjectExpression} */ (\n\t\tx`{\n\t\t${props\n\t\t\t.filter((v) => v.export_name && !v.module)\n\t\t\t.map((v) => p`${v.export_name}: ${renderer.context_lookup.get(v.name).index}`)}\n\t}`\n\t);\n\tlet dirty;\n\tif (renderer.context_overflow) {\n\t\tdirty = x`[]`;\n\t\tfor (let i = 0; i < renderer.context.length; i += 31) {\n\t\t\t/** @type {any} */ (dirty).elements.push(x`-1`);\n\t\t}\n\t}\n\tconst superclass = {\n\t\ttype: 'Identifier',\n\t\tname: options.dev ? '@SvelteComponentDev' : '@SvelteComponent'\n\t};\n\tconst optional_parameters = [];\n\tif (should_add_css) {\n\t\toptional_parameters.push(add_css);\n\t} else if (dirty) {\n\t\toptional_parameters.push(x`null`);\n\t}\n\tif (dirty) {\n\t\toptional_parameters.push(dirty);\n\t}\n\tconst declaration = /** @type {import('estree').ClassDeclaration} */ (\n\t\tb`\n\t\tclass ${name} extends ${superclass} {\n\t\t\tconstructor(options) {\n\t\t\t\tsuper(${options.dev && 'options'});\n\t\t\t\t@init(this, options, ${definition}, ${\n\t\t\thas_create_fragment ? 'create_fragment' : 'null'\n\t\t}, ${not_equal}, ${prop_indexes}, ${optional_parameters});\n\t\t\t\t${\n\t\t\t\t\toptions.dev &&\n\t\t\t\t\tb`@dispatch_dev(\"SvelteRegisterComponent\", { component: this, tagName: \"${name.name}\", options, id: create_fragment.name });`\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t`[0]\n\t);\n\tpush_array(declaration.body.body, accessors);\n\tbody.push(/** @type {any} */ (declaration));\n\tif (options.customElement) {\n\t\tconst props_str = writable_props.reduce((def, prop) => {\n\t\t\tdef[prop.export_name] =\n\t\t\t\tcomponent.component_options.customElement?.props?.[prop.export_name] || {};\n\t\t\tif (prop.is_boolean && !def[prop.export_name].type) {\n\t\t\t\tdef[prop.export_name].type = 'Boolean';\n\t\t\t}\n\t\t\treturn def;\n\t\t}, {});\n\t\tconst slots_str = [...component.slots.keys()].map((key) => `\"${key}\"`).join(',');\n\t\tconst accessors_str = accessors\n\t\t\t.filter(\n\t\t\t\t(accessor) =>\n\t\t\t\t\taccessor.kind === 'get' &&\n\t\t\t\t\t!writable_props.some((prop) => prop.export_name === accessor.key.name)\n\t\t\t)\n\t\t\t.map((accessor) => `\"${accessor.key.name}\"`)\n\t\t\t.join(',');\n\t\tconst use_shadow_dom =\n\t\t\tcomponent.component_options.customElement?.shadow !== 'none' ? 'true' : 'false';\n\n\t\tconst create_ce = x`@create_custom_element(${name}, ${JSON.stringify(\n\t\t\tprops_str\n\t\t)}, [${slots_str}], [${accessors_str}], ${use_shadow_dom}, ${\n\t\t\tcomponent.component_options.customElement?.extend\n\t\t})`;\n\n\t\tif (component.component_options.customElement?.tag) {\n\t\t\tbody.push(\n\t\t\t\tb`@_customElements.define(\"${component.component_options.customElement.tag}\", ${create_ce});`\n\t\t\t);\n\t\t} else {\n\t\t\tbody.push(b`${create_ce}`);\n\t\t}\n\t}\n\n\tif (options.discloseVersion === true) {\n\t\tcomponent.imports.unshift({\n\t\t\ttype: 'ImportDeclaration',\n\t\t\tspecifiers: [],\n\t\t\tsource: {\n\t\t\t\ttype: 'Literal',\n\t\t\t\tvalue: `${options.sveltePath ?? 'svelte'}/internal/disclose-version`\n\t\t\t}\n\t\t});\n\t}\n\n\treturn { js: flatten(body), css };\n}\n", "/** @param {import('../../../nodes/ConstTag.js').default[]} const_tags */\nexport function get_const_tags(const_tags) {\n\tif (const_tags.length === 0) return null;\n\treturn {\n\t\ttype: 'VariableDeclaration',\n\t\tkind: 'let',\n\t\tdeclarations: const_tags.map((const_tag) => {\n\t\t\tconst assignment = const_tag.node.expression;\n\t\t\treturn {\n\t\t\t\ttype: 'VariableDeclarator',\n\t\t\t\tid: assignment.left,\n\t\t\t\tinit: assignment.right\n\t\t\t};\n\t\t})\n\t};\n}\n", "import { x } from 'code-red';\nimport { get_const_tags } from './shared/get_const_tags.js';\n\n/**\n * @param {import('../../nodes/AwaitBlock.js').default} node\n * @param {import('../Renderer.js').default} renderer\n * @param {import('../private.js').RenderOptions} options\n */\nexport default function (node, renderer, options) {\n\trenderer.push();\n\trenderer.render(node.pending.children, options);\n\n\tconst pending = renderer.pop();\n\trenderer.push();\n\trenderer.render(node.then.children, options);\n\n\tconst then = renderer.pop();\n\trenderer.add_expression(x`\n\t\tfunction(__value) {\n\t\t\tif (@is_promise(__value)) {\n\t\t\t\t__value.then(null, @noop);\n\t\t\t\treturn ${pending};\n\t\t\t}\n\t\t\treturn (function(${node.then_node ? node.then_node : ''}) { ${get_const_tags(\n\t\tnode.then.const_tags\n\t)}; return ${then}; }(__value));\n\t\t}(${node.expression.node})\n\t`);\n}\n", "/**\n * @param {import('../../nodes/Comment.js').default} node\n * @param {import('../Renderer.js').default} renderer\n * @param {import('../private.js').RenderOptions} options\n */\nexport default function (node, renderer, options) {\n\tif (options.preserveComments) {\n\t\trenderer.add_string(`<!--${node.data}-->`);\n\t}\n}\n", "import { x, p } from 'code-red';\n\n/**\n * @param {import('../../nodes/DebugTag.js').default} node\n * @param {import('../Renderer.js').default} renderer\n * @param {import('../private.js').RenderOptions} options\n */\nexport default function (node, renderer, options) {\n\tif (!options.dev) return;\n\tconst filename = options.filename || null;\n\tconst { line, column } = options.locate(node.start + 1);\n\tconst obj = x`{\n\t\t${node.expressions.map((e) => p`${/** @type {import('estree').Identifier} */ (e.node).name}`)}\n\t}`;\n\trenderer.add_expression(\n\t\tx`@debug(${filename ? x`\"${filename}\"` : x`null`}, ${line - 1}, ${column}, ${obj})`\n\t);\n}\n", "import { x } from 'code-red';\nimport { get_const_tags } from './shared/get_const_tags.js';\n\n/**\n * @param {import('../../nodes/EachBlock.js').default} node\n * @param {import('../Renderer.js').default} renderer\n * @param {import('../private.js').RenderOptions} options\n */\nexport default function (node, renderer, options) {\n\tconst args = [node.context_node];\n\tif (node.index) args.push({ type: 'Identifier', name: node.index });\n\trenderer.push();\n\trenderer.render(node.children, options);\n\tconst result = renderer.pop();\n\tconst consequent = x`@each(${node.expression.node}, (${args}) => { ${get_const_tags(\n\t\tnode.const_tags\n\t)}; return ${result} })`;\n\tif (node.else) {\n\t\trenderer.push();\n\t\trenderer.render(node.else.children, options);\n\t\t/** @type {import('estree').Node} */\n\t\tlet alternate = renderer.pop();\n\t\tif (node.else.const_tags.length > 0)\n\t\t\talternate = x`(() => { ${get_const_tags(node.else.const_tags)}; return ${alternate} })()`;\n\t\trenderer.add_expression(x`${node.expression.node}.length ? ${consequent} : ${alternate}`);\n\t} else {\n\t\trenderer.add_expression(consequent);\n\t}\n}\n", "import { string_literal } from '../../../utils/stringify.js';\nimport { x } from 'code-red';\nimport { regex_double_quotes } from '../../../../utils/patterns.js';\n\n/**\n * @param {import('../../../nodes/Attribute.js').default} attribute\n * @returns {import('estree').Expression}\n */\nexport function get_class_attribute_value(attribute) {\n\t// handle special case — `class={possiblyUndefined}` with scoped CSS\n\tif (\n\t\tattribute.chunks.length === 2 &&\n\t\t/** @type {import('../../../nodes/Text.js').default} */ (attribute.chunks[1]).synthetic\n\t) {\n\t\tconst value = /** @type {import('../../../nodes/shared/Expression.js').default} */ (\n\t\t\tattribute.chunks[0]\n\t\t).node;\n\t\treturn x`@escape(@null_to_empty(${value}), true) + \"${\n\t\t\t/** @type {import('../../../nodes/Text.js').default} */ (attribute.chunks[1]).data\n\t\t}\"`;\n\t}\n\treturn get_attribute_value(attribute);\n}\n\n/**\n * @param {import('../../../nodes/Attribute.js').default} attribute\n * @returns {import('estree').Expression}\n */\nexport function get_attribute_value(attribute) {\n\tif (attribute.chunks.length === 0) return x`\"\"`;\n\t/**\n\t * For value attribute of textarea, it will render as child node of `<textarea>` element.\n\t * Therefore, we need to escape as content (not attribute).\n\t */\n\tconst is_textarea_value =\n\t\tattribute.parent.name.toLowerCase() === 'textarea' && attribute.name.toLowerCase() === 'value';\n\treturn attribute.chunks\n\t\t.map((chunk) => {\n\t\t\treturn chunk.type === 'Text'\n\t\t\t\t? /** @type {import('estree').Expression} */ (\n\t\t\t\t\t\tstring_literal(chunk.data.replace(regex_double_quotes, '&quot;'))\n\t\t\t\t  )\n\t\t\t\t: x`@escape(${chunk.node}, ${is_textarea_value ? 'false' : 'true'})`;\n\t\t})\n\t\t.reduce((lhs, rhs) => x`${lhs} + ${rhs}`);\n}\n\n/**\n * @param {import('../../../nodes/Attribute.js').default} attribute\n * @returns {import('estree').Expression}\n */\nexport function get_attribute_expression(attribute) {\n\tif (attribute.chunks.length === 1 && attribute.chunks[0].type === 'Expression') {\n\t\treturn /** @type {import('estree').Expression} */ (\n\t\t\t/** @type {import('../../../nodes/shared/Expression.js').default} */ (attribute.chunks[0])\n\t\t\t\t.node\n\t\t);\n\t}\n\treturn get_attribute_value(attribute);\n}\n", "import { trim_end, trim_start } from '../../../../utils/trim.js';\nimport { link } from '../../../../utils/link.js';\nimport { regex_starts_with_whitespace } from '../../../../utils/patterns.js';\n\n// similar logic from `compile/render_dom/wrappers/Fragment`\n// We want to remove trailing whitespace inside an element/component/block,\n// *unless* there is no whitespace between this node and its next sibling\n\n/**\n * @param {import('../../../nodes/interfaces.js').INode[]} children\n * @param {import('../../../nodes/interfaces.js').INode} [next]\n * @returns {import('../../../nodes/interfaces.js').INode[]}\n */\nexport default function remove_whitespace_children(children, next) {\n\t/** @type {import('../../../nodes/interfaces.js').INode[]} */\n\tconst nodes = [];\n\n\t/** @type {import('../../../nodes/interfaces.js').INode} */\n\tlet last_child;\n\tlet i = children.length;\n\twhile (i--) {\n\t\tconst child = children[i];\n\t\tif (child.type === 'Text') {\n\t\t\tif (child.should_skip()) {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tlet { data } = child;\n\t\t\tif (nodes.length === 0) {\n\t\t\t\tconst should_trim = next\n\t\t\t\t\t? next.type === 'Text' &&\n\t\t\t\t\t  regex_starts_with_whitespace.test(next.data) &&\n\t\t\t\t\t  trimmable_at(child, next)\n\t\t\t\t\t: !child.has_ancestor('EachBlock');\n\t\t\t\tif (should_trim && !child.keep_space()) {\n\t\t\t\t\tdata = trim_end(data);\n\t\t\t\t\tif (!data) continue;\n\t\t\t\t}\n\t\t\t}\n\t\t\t// glue text nodes (which could e.g. be separated by comments) together\n\t\t\tif (last_child && last_child.type === 'Text') {\n\t\t\t\tlast_child.data = data + last_child.data;\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tchild.data = data;\n\t\t\tnodes.unshift(child);\n\t\t\tlink(last_child, (last_child = child));\n\t\t} else {\n\t\t\tnodes.unshift(child);\n\t\t\tlink(last_child, (last_child = child));\n\t\t}\n\t}\n\tconst first = nodes[0];\n\tif (first && first.type === 'Text' && !first.keep_space()) {\n\t\tfirst.data = trim_start(first.data);\n\t\tif (!first.data) {\n\t\t\tfirst.var = null;\n\t\t\tnodes.shift();\n\t\t\tif (nodes[0]) {\n\t\t\t\tnodes[0].prev = null;\n\t\t\t}\n\t\t}\n\t}\n\treturn nodes;\n}\n\n/**\n * @param {import('../../../nodes/interfaces.js').INode} child\n * @param {import('../../../nodes/interfaces.js').INode} next_sibling\n * @returns {boolean}\n */\nfunction trimmable_at(child, next_sibling) {\n\t// Whitespace is trimmable if one of the following is true:\n\t// The child and its sibling share a common nearest each block (not at an each block boundary)\n\t// The next sibling's previous node is an each block\n\treturn (\n\t\tnext_sibling.find_nearest(/EachBlock/) === child.find_nearest(/EachBlock/) ||\n\t\tnext_sibling.prev.type === 'EachBlock'\n\t);\n}\n", "import { is_void } from '../../../../shared/utils/names.js';\nimport {\n\tget_attribute_expression,\n\tget_attribute_value,\n\tget_class_attribute_value\n} from './shared/get_attribute_value.js';\nimport { boolean_attributes } from '../../../../shared/boolean_attributes.js';\nimport { is_name_contenteditable, is_contenteditable } from '../../utils/contenteditable.js';\nimport { p, x } from 'code-red';\nimport remove_whitespace_children from './utils/remove_whitespace_children.js';\nimport fix_attribute_casing from '../../render_dom/wrappers/Element/fix_attribute_casing.js';\nimport { namespaces } from '../../../utils/namespaces.js';\nimport { regex_starts_with_newline } from '../../../utils/patterns.js';\n\n/**\n * @param {import('../../nodes/Element.js').default} node\n * @param {import('../Renderer.js').default} renderer\n * @param {import('../private.js').RenderOptions} options\n */\nexport default function (node, renderer, options) {\n\tconst children = remove_whitespace_children(node.children, node.next);\n\t// awkward special case\n\tlet node_contents;\n\tconst contenteditable = is_contenteditable(node);\n\tif (node.is_dynamic_element) {\n\t\trenderer.push();\n\t}\n\trenderer.add_string('<');\n\tadd_tag_name();\n\tconst class_expression_list = node.classes.map((class_directive) => {\n\t\tconst { expression, name } = class_directive;\n\t\tconst snippet = expression ? expression.node : x`#ctx.${name}`; // TODO is this right?\n\t\treturn x`${snippet} ? \"${name}\" : \"\"`;\n\t});\n\tif (node.needs_manual_style_scoping) {\n\t\tclass_expression_list.push(x`\"${node.component.stylesheet.id}\"`);\n\t}\n\tconst class_expression =\n\t\tclass_expression_list.length > 0 &&\n\t\tclass_expression_list.reduce((lhs, rhs) => x`${lhs} + ' ' + ${rhs}`);\n\tconst style_expression_list = node.styles.map((style_directive) => {\n\t\tlet {\n\t\t\tname,\n\t\t\timportant,\n\t\t\texpression: { node: expression }\n\t\t} = style_directive;\n\t\tif (important) {\n\t\t\texpression = x`${expression} + ' !important'`;\n\t\t}\n\t\treturn p`\"${name}\": ${expression}`;\n\t});\n\tconst style_expression = style_expression_list.length > 0 && x`{ ${style_expression_list} }`;\n\tif (node.attributes.some((attr) => attr.is_spread)) {\n\t\t// TODO dry this out\n\t\tconst args = [];\n\t\tnode.attributes.forEach((attribute) => {\n\t\t\tif (attribute.is_spread) {\n\t\t\t\targs.push(x`@escape_object(${attribute.expression.node})`);\n\t\t\t} else {\n\t\t\t\tconst attr_name =\n\t\t\t\t\tnode.namespace === namespaces.foreign\n\t\t\t\t\t\t? attribute.name\n\t\t\t\t\t\t: fix_attribute_casing(attribute.name);\n\t\t\t\tconst name = attribute.name.toLowerCase();\n\t\t\t\tif (name === 'value' && node.name.toLowerCase() === 'textarea') {\n\t\t\t\t\tnode_contents = get_attribute_value(attribute);\n\t\t\t\t} else if (attribute.is_true) {\n\t\t\t\t\targs.push(x`{ ${attr_name}: true }`);\n\t\t\t\t} else if (\n\t\t\t\t\tboolean_attributes.has(name) &&\n\t\t\t\t\tattribute.chunks.length === 1 &&\n\t\t\t\t\tattribute.chunks[0].type !== 'Text'\n\t\t\t\t) {\n\t\t\t\t\t// a boolean attribute with one non-Text chunk\n\t\t\t\t\targs.push(\n\t\t\t\t\t\tx`{ ${attr_name}: ${\n\t\t\t\t\t\t\t/** @type {import('../../nodes/shared/Expression.js').default} */ (\n\t\t\t\t\t\t\t\tattribute.chunks[0]\n\t\t\t\t\t\t\t).node\n\t\t\t\t\t\t} || null }`\n\t\t\t\t\t);\n\t\t\t\t} else if (attribute.chunks.length === 1 && attribute.chunks[0].type !== 'Text') {\n\t\t\t\t\tconst snippet = /** @type {import('../../nodes/shared/Expression.js').default} */ (\n\t\t\t\t\t\tattribute.chunks[0]\n\t\t\t\t\t).node;\n\t\t\t\t\targs.push(x`{ ${attr_name}: @escape_attribute_value(${snippet}) }`);\n\t\t\t\t} else {\n\t\t\t\t\targs.push(x`{ ${attr_name}: ${get_attribute_value(attribute)} }`);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\trenderer.add_expression(\n\t\t\tx`@spread([${args}], { classes: ${class_expression}, styles: ${style_expression} })`\n\t\t);\n\t} else {\n\t\tlet add_class_attribute = !!class_expression;\n\t\tlet add_style_attribute = !!style_expression;\n\t\tnode.attributes.forEach((attribute) => {\n\t\t\tconst name = attribute.name.toLowerCase();\n\t\t\tconst attr_name =\n\t\t\t\tnode.namespace === namespaces.foreign\n\t\t\t\t\t? attribute.name\n\t\t\t\t\t: fix_attribute_casing(attribute.name);\n\t\t\tif (name === 'value' && node.name.toLowerCase() === 'textarea') {\n\t\t\t\tnode_contents = get_attribute_value(attribute);\n\t\t\t} else if (attribute.is_true) {\n\t\t\t\trenderer.add_string(` ${attr_name}`);\n\t\t\t} else if (\n\t\t\t\tboolean_attributes.has(name) &&\n\t\t\t\tattribute.chunks.length === 1 &&\n\t\t\t\tattribute.chunks[0].type !== 'Text'\n\t\t\t) {\n\t\t\t\t// a boolean attribute with one non-Text chunk\n\t\t\t\trenderer.add_string(' ');\n\t\t\t\trenderer.add_expression(\n\t\t\t\t\tx`${\n\t\t\t\t\t\t/** @type {import('../../nodes/shared/Expression.js').default} */ (attribute.chunks[0])\n\t\t\t\t\t\t\t.node\n\t\t\t\t\t} ? \"${attr_name}\" : \"\"`\n\t\t\t\t);\n\t\t\t} else if (name === 'class' && class_expression) {\n\t\t\t\tadd_class_attribute = false;\n\t\t\t\trenderer.add_string(` ${attr_name}=\"`);\n\t\t\t\trenderer.add_expression(\n\t\t\t\t\tx`[${get_class_attribute_value(attribute)}, ${class_expression}].join(' ').trim()`\n\t\t\t\t);\n\t\t\t\trenderer.add_string('\"');\n\t\t\t} else if (name === 'style' && style_expression) {\n\t\t\t\tadd_style_attribute = false;\n\t\t\t\trenderer.add_expression(\n\t\t\t\t\tx`@add_styles(@merge_ssr_styles(${get_attribute_value(attribute)}, ${style_expression}))`\n\t\t\t\t);\n\t\t\t} else if (attribute.chunks.length === 1 && attribute.chunks[0].type !== 'Text') {\n\t\t\t\tconst snippet = /** @type {import('../../nodes/shared/Expression.js').default} */ (\n\t\t\t\t\tattribute.chunks[0]\n\t\t\t\t).node;\n\t\t\t\trenderer.add_expression(\n\t\t\t\t\tx`@add_attribute(\"${attr_name}\", ${snippet}, ${boolean_attributes.has(name) ? 1 : 0})`\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\trenderer.add_string(` ${attr_name}=\"`);\n\t\t\t\trenderer.add_expression(\n\t\t\t\t\t(name === 'class' ? get_class_attribute_value : get_attribute_value)(attribute)\n\t\t\t\t);\n\t\t\t\trenderer.add_string('\"');\n\t\t\t}\n\t\t});\n\t\tif (add_class_attribute) {\n\t\t\trenderer.add_expression(x`@add_classes((${class_expression}).trim())`);\n\t\t}\n\t\tif (add_style_attribute) {\n\t\t\trenderer.add_expression(x`@add_styles(${style_expression})`);\n\t\t}\n\t}\n\tnode.bindings.forEach((binding) => {\n\t\tconst { name, expression } = binding;\n\t\tif (binding.is_readonly) {\n\t\t\treturn;\n\t\t}\n\t\tif (name === 'group') {\n\t\t\tconst value_attribute = node.attributes.find(({ name }) => name === 'value');\n\t\t\tif (value_attribute) {\n\t\t\t\tconst value = get_attribute_expression(value_attribute);\n\t\t\t\tconst type = node.get_static_attribute_value('type');\n\t\t\t\tconst bound = expression.node;\n\t\t\t\tconst condition =\n\t\t\t\t\ttype === 'checkbox' ? x`~${bound}.indexOf(${value})` : x`${value} === ${bound}`;\n\t\t\t\trenderer.add_expression(x`${condition} ? @add_attribute(\"checked\", true, 1) : \"\"`);\n\t\t\t}\n\t\t} else if (contenteditable && is_name_contenteditable(name)) {\n\t\t\tnode_contents = expression.node;\n\t\t\t// TODO where was this used?\n\t\t\t// value = name === 'textContent' ? x`@escape($$value)` : x`$$value`;\n\t\t} else if (binding.name === 'value' && node.name === 'textarea') {\n\t\t\tconst snippet = expression.node;\n\t\t\tnode_contents = x`@escape(${snippet} || \"\")`;\n\t\t} else if (binding.name === 'value' && node.name === 'select') {\n\t\t\t// NOTE: do not add \"value\" attribute on <select />\n\t\t} else {\n\t\t\tconst snippet = expression.node;\n\t\t\trenderer.add_expression(\n\t\t\t\tx`@add_attribute(\"${name}\", ${snippet}, ${boolean_attributes.has(name) ? 1 : 0})`\n\t\t\t);\n\t\t}\n\t});\n\tif (options.hydratable) {\n\t\tif (node.can_optimise_hydration && !options.has_added_svelte_hash) {\n\t\t\trenderer.add_string(` data-svelte-h=\"${node.hash()}\"`);\n\t\t\toptions = { ...options, has_added_svelte_hash: true };\n\t\t}\n\t}\n\trenderer.add_string('>');\n\tif (node_contents !== undefined) {\n\t\tif (contenteditable) {\n\t\t\trenderer.push();\n\t\t\trenderer.render(children, options);\n\t\t\tconst result = renderer.pop();\n\t\t\trenderer.add_expression(\n\t\t\t\tx`($$value => $$value === void 0 ? ${result} : $$value)(${node_contents})`\n\t\t\t);\n\t\t} else {\n\t\t\tif (node.name === 'textarea') {\n\t\t\t\t// Two or more leading newlines are required to restore the leading newline immediately after `<textarea>`.\n\t\t\t\t// see https://html.spec.whatwg.org/multipage/syntax.html#element-restrictions\n\t\t\t\tconst value_attribute = node.attributes.find(({ name }) => name === 'value');\n\t\t\t\tif (value_attribute) {\n\t\t\t\t\tconst first = value_attribute.chunks[0];\n\t\t\t\t\tif (first && first.type === 'Text' && regex_starts_with_newline.test(first.data)) {\n\t\t\t\t\t\trenderer.add_string('\\n');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\trenderer.add_expression(node_contents);\n\t\t}\n\t\tadd_close_tag();\n\t} else {\n\t\tif (node.name === 'pre') {\n\t\t\t// Two or more leading newlines are required to restore the leading newline immediately after `<pre>`.\n\t\t\t// see https://html.spec.whatwg.org/multipage/grouping-content.html#the-pre-element\n\t\t\t// see https://html.spec.whatwg.org/multipage/syntax.html#element-restrictions\n\t\t\tconst first = children[0];\n\t\t\tif (first && first.type === 'Text' && regex_starts_with_newline.test(first.data)) {\n\t\t\t\trenderer.add_string('\\n');\n\t\t\t}\n\t\t}\n\t\tif (node.is_dynamic_element) renderer.push();\n\t\trenderer.render(children, options);\n\t\tif (node.is_dynamic_element) {\n\t\t\tconst children = renderer.pop();\n\t\t\trenderer.add_expression(x`@is_void(#tag) ? '' : ${children}`);\n\t\t}\n\t\tadd_close_tag();\n\t}\n\tif (node.is_dynamic_element) {\n\t\t/** @type {import('estree').Node} */\n\t\tlet content = renderer.pop();\n\t\tif (options.dev && node.children.length > 0)\n\t\t\tcontent = x`(() => { @validate_void_dynamic_element(#tag); return ${content}; })()`;\n\t\trenderer.add_expression(x`((#tag) => {\n\t\t\t${options.dev && x`@validate_dynamic_element(#tag)`}\n\t\t\treturn #tag ? ${content} : '';\n\t\t})(${node.tag_expr.node})`);\n\t}\n\tfunction add_close_tag() {\n\t\tif (node.tag_expr.node.type === 'Literal') {\n\t\t\tif (!is_void(/** @type {string} */ (node.tag_expr.node.value))) {\n\t\t\t\trenderer.add_string('</');\n\t\t\t\tadd_tag_name();\n\t\t\t\trenderer.add_string('>');\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\t\trenderer.add_expression(x`@is_void(#tag) ? '' : \\`</\\${#tag}>\\``);\n\t}\n\tfunction add_tag_name() {\n\t\tif (node.tag_expr.node.type === 'Literal') {\n\t\t\trenderer.add_string(/** @type {string} */ (node.tag_expr.node.value));\n\t\t} else {\n\t\t\trenderer.add_expression(/** @type {import('estree').Expression} */ (node.tag_expr.node));\n\t\t}\n\t}\n}\n", "import { x } from 'code-red';\n\n/**\n * @param {import('../../nodes/Head.js').default} node\n * @param {import('../Renderer.js').default} renderer\n * @param {import('../private.js').RenderOptions} options\n */\nexport default function (node, renderer, options) {\n\tconst head_options = {\n\t\t...options,\n\t\thead_id: node.id\n\t};\n\trenderer.push();\n\trenderer.render(node.children, head_options);\n\tconst result = renderer.pop();\n\n\t/** @type {import('estree').Node} */\n\tlet expression = result;\n\tif (options.hydratable) {\n\t\tconst start_comment = `HEAD_${node.id}_START`;\n\t\tconst end_comment = `HEAD_${node.id}_END`;\n\t\texpression = x`'<!-- ${start_comment} -->' + ${expression} + '<!-- ${end_comment} -->'`;\n\t}\n\trenderer.add_expression(x`$$result.head += ${expression}, \"\"`);\n}\n", "/**\n * @param {import('../../nodes/RawMustacheTag.js').default} node\n * @param {import('../Renderer.js').default} renderer\n * @param {import('../private.js').RenderOptions} options\n */\nexport default function (node, renderer, options) {\n\tif (options.hydratable) renderer.add_string('<!-- HTML_TAG_START -->');\n\trenderer.add_expression(/** @type {import('estree').Expression} */ (node.expression.node));\n\tif (options.hydratable) renderer.add_string('<!-- HTML_TAG_END -->');\n}\n", "import { x } from 'code-red';\nimport { get_const_tags } from './shared/get_const_tags.js';\n\n/**\n * @param {import('../../nodes/IfBlock.js').default} node\n * @param {import('../Renderer.js').default} renderer\n * @param {import('../private.js').RenderOptions} options\n */\nexport default function (node, renderer, options) {\n\tconst condition = node.expression.node;\n\trenderer.push();\n\trenderer.render(node.children, options);\n\n\t/** @type {import('estree').Node} */\n\tlet consequent = renderer.pop();\n\tif (node.const_tags.length > 0)\n\t\tconsequent = x`(() => { ${get_const_tags(node.const_tags)}; return ${consequent} })()`;\n\trenderer.push();\n\tif (node.else) renderer.render(node.else.children, options);\n\n\t/** @type {import('estree').Node} */\n\tlet alternate = renderer.pop();\n\tif (node.else && node.else.const_tags.length > 0)\n\t\talternate = x`(() => { ${get_const_tags(node.else.const_tags)}; return ${alternate} })()`;\n\trenderer.add_expression(x`${condition} ? ${consequent} : ${alternate}`);\n}\n", "import { string_literal } from '../../utils/stringify.js';\nimport { get_attribute_value } from './shared/get_attribute_value.js';\nimport { p, x } from 'code-red';\nimport { namespaces } from '../../../utils/namespaces.js';\n\n/** @param {any} attribute */\nfunction get_prop_value(attribute) {\n\tif (attribute.is_true) return x`true`;\n\tif (attribute.chunks.length === 0) return x`''`;\n\treturn attribute.chunks\n\t\t.map((chunk) => {\n\t\t\tif (chunk.type === 'Text') return string_literal(chunk.data);\n\t\t\treturn chunk.node;\n\t\t})\n\t\t.reduce((lhs, rhs) => x`${lhs} + ${rhs}`);\n}\n\n/**\n * @param {import('../../nodes/InlineComponent.js').default} node\n * @param {import('../Renderer.js').default} renderer\n * @param {import('../private.js').RenderOptions} options\n */\nexport default function (node, renderer, options) {\n\tconst binding_props = [];\n\tconst binding_fns = [];\n\tnode.bindings.forEach((binding) => {\n\t\trenderer.has_bindings = true;\n\t\t// TODO this probably won't work for contextual bindings\n\t\tconst snippet = binding.expression.node;\n\t\tbinding_props.push(p`${binding.name}: ${snippet}`);\n\t\tbinding_fns.push(p`${binding.name}: $$value => { ${snippet} = $$value; $$settled = false }`);\n\t});\n\tconst uses_spread = node.attributes.find((attr) => attr.is_spread);\n\tlet props;\n\tif (uses_spread) {\n\t\tprops = x`@_Object.assign({}, ${node.attributes\n\t\t\t.map((attribute) => {\n\t\t\t\tif (attribute.is_spread) {\n\t\t\t\t\treturn attribute.expression.node;\n\t\t\t\t} else {\n\t\t\t\t\treturn x`{ ${attribute.name}: ${get_prop_value(attribute)} }`;\n\t\t\t\t}\n\t\t\t})\n\t\t\t.concat(binding_props.map((p) => x`{ ${p} }`))})`;\n\t} else {\n\t\tprops = x`{\n\t\t\t${node.attributes.map((attribute) => p`${attribute.name}: ${get_prop_value(attribute)}`)},\n\t\t\t${binding_props}\n\t\t}`;\n\t}\n\tconst bindings = x`{\n\t\t${binding_fns}\n\t}`;\n\tconst expression =\n\t\tnode.name === 'svelte:self'\n\t\t\t? renderer.name\n\t\t\t: node.name === 'svelte:component'\n\t\t\t? x`(${node.expression.node}) || @missing_component`\n\t\t\t: node.name.split('.').reduce(/** @type {any} */ ((lhs, rhs) => x`${lhs}.${rhs}`));\n\tconst slot_fns = [];\n\tconst children = node.children;\n\tif (children.length) {\n\t\tconst slot_scopes = new Map();\n\t\trenderer.render(\n\t\t\tchildren,\n\t\t\tObject.assign({}, options, {\n\t\t\t\tslot_scopes\n\t\t\t})\n\t\t);\n\t\tslot_scopes.forEach(({ input, output, statements }, name) => {\n\t\t\tslot_fns.push(p`${name}: (${input}) => { ${statements}; return ${output}; }`);\n\t\t});\n\t}\n\tconst slots = x`{\n\t\t${slot_fns}\n\t}`;\n\tif (node.css_custom_properties.length > 0) {\n\t\tif (node.namespace === namespaces.svg) {\n\t\t\trenderer.add_string('<g style=\"');\n\t\t} else {\n\t\t\trenderer.add_string('<div style=\"display: contents; ');\n\t\t}\n\t\tnode.css_custom_properties.forEach((attr, index) => {\n\t\t\trenderer.add_string(`${attr.name}:`);\n\t\t\trenderer.add_expression(get_attribute_value(attr));\n\t\t\trenderer.add_string(';');\n\t\t\tif (index < node.css_custom_properties.length - 1) renderer.add_string(' ');\n\t\t});\n\t\trenderer.add_string('\">');\n\t}\n\trenderer.add_expression(\n\t\tx`@validate_component(${expression}, \"${node.name}\").$$render($$result, ${props}, ${bindings}, ${slots})`\n\t);\n\tif (node.css_custom_properties.length > 0) {\n\t\tif (node.namespace === namespaces.svg) {\n\t\t\trenderer.add_string('</g>');\n\t\t} else {\n\t\t\trenderer.add_string('</div>');\n\t\t}\n\t}\n}\n", "/**\n * @param {import('../../nodes/KeyBlock.js').default} node\n * @param {import('../Renderer.js').default} renderer\n * @param {import('../private.js').RenderOptions} options\n */\nexport default function (node, renderer, options) {\n\trenderer.render(node.children, options);\n}\n", "/**\n * @param {import('../../../nodes/Let.js').default[]} lets\n * @returns {import('estree').ObjectPattern}\n */\nexport function get_slot_scope(lets) {\n\tif (lets.length === 0) return null;\n\treturn {\n\t\ttype: 'ObjectPattern',\n\t\tproperties: lets.map((l) => {\n\t\t\treturn {\n\t\t\t\ttype: 'Property',\n\t\t\t\tkind: 'init',\n\t\t\t\tmethod: false,\n\t\t\t\tshorthand: false,\n\t\t\t\tcomputed: false,\n\t\t\t\tkey: l.name,\n\t\t\t\tvalue: l.value || l.name\n\t\t\t};\n\t\t})\n\t};\n}\n", "import { x } from 'code-red';\nimport get_slot_data from '../../utils/get_slot_data.js';\nimport { get_slot_scope } from './shared/get_slot_scope.js';\n\n/**\n * @param {import('../../nodes/Slot.js').default} node\n * @param {import('../Renderer.js').default} renderer\n * @param {import('../private.js').RenderOptions & {\n * \t\tslot_scopes: Map<any, any>;\n * \t}} options\n */\nexport default function (node, renderer, options) {\n\tconst slot_data = get_slot_data(node.values);\n\tconst slot = node.get_static_attribute_value('slot');\n\tconst nearest_inline_component = node.find_nearest(/InlineComponent/);\n\tif (slot && nearest_inline_component) {\n\t\trenderer.push();\n\t}\n\trenderer.push();\n\trenderer.render(node.children, options);\n\tconst result = renderer.pop();\n\trenderer.add_expression(x`\n\t\t#slots.${node.slot_name}\n\t\t\t? #slots.${node.slot_name}(${slot_data})\n\t\t\t: ${result}\n\t`);\n\tif (slot && nearest_inline_component) {\n\t\toptions.slot_scopes.set(slot, {\n\t\t\tinput: get_slot_scope(node.lets),\n\t\t\toutput: renderer.pop()\n\t\t});\n\t}\n}\n", "import SlotTemplate from '../../nodes/SlotTemplate.js';\nimport remove_whitespace_children from './utils/remove_whitespace_children.js';\nimport { get_slot_scope } from './shared/get_slot_scope.js';\nimport { get_const_tags } from './shared/get_const_tags.js';\n\n/**\n * @param {import('../../nodes/SlotTemplate.js').default} node\n * @param {import('../Renderer.js').default} renderer\n * @param {import('../private.js').RenderOptions & {\n * \t\tslot_scopes: Map<any, any>;\n * \t}} options\n */\nexport default function (node, renderer, options) {\n\tconst parent_inline_component = /** @type {import('../../nodes/InlineComponent.js').default} */ (\n\t\tnode.parent\n\t);\n\tconst children = remove_whitespace_children(\n\t\tnode instanceof SlotTemplate ? node.children : [node],\n\t\tnode.next\n\t);\n\trenderer.push();\n\trenderer.render(children, options);\n\n\tconst slot_fragment_content = renderer.pop();\n\tif (!is_empty_template_literal(slot_fragment_content)) {\n\t\tif (options.slot_scopes.has(node.slot_template_name)) {\n\t\t\tif (node.slot_template_name === 'default') {\n\t\t\t\tthrow new Error('Found elements without slot attribute when using slot=\"default\"');\n\t\t\t}\n\t\t\tthrow new Error(\n\t\t\t\t`Duplicate slot name \"${node.slot_template_name}\" in <${parent_inline_component.name}>`\n\t\t\t);\n\t\t}\n\t\toptions.slot_scopes.set(node.slot_template_name, {\n\t\t\tinput: get_slot_scope(node.lets),\n\t\t\toutput: slot_fragment_content,\n\t\t\tstatements: get_const_tags(node.const_tags)\n\t\t});\n\t}\n}\n\n/** @param {any} template_literal */\nfunction is_empty_template_literal(template_literal) {\n\treturn (\n\t\ttemplate_literal.expressions.length === 0 &&\n\t\ttemplate_literal.quasis.length === 1 &&\n\t\ttemplate_literal.quasis[0].value.raw === ''\n\t);\n}\n", "import { x } from 'code-red';\n\n/**\n * @param {any} node\n * @param {import('../Renderer.js').default} renderer\n * @param {import('../private.js').RenderOptions} _options\n */\nexport default function (node, renderer, _options) {\n\tconst snippet = node.expression.node;\n\trenderer.add_expression(\n\t\tnode.parent && node.parent.type === 'Element' && node.parent.name === 'style'\n\t\t\t? snippet\n\t\t\t: x`@escape(${snippet})`\n\t);\n}\n", "import { escape_html } from '../../utils/stringify.js';\n\n/**\n * @param {import('../../nodes/Text.js').default} node\n * @param {import('../Renderer.js').default} renderer\n * @param {import('../private.js').RenderOptions} _options\n */\nexport default function (node, renderer, _options) {\n\tlet text = node.data;\n\tif (node.use_space()) {\n\t\ttext = ' ';\n\t} else if (\n\t\t// prettier formats one of the type casts incorrectly, moving it outside the parens, therefore disable\n\t\t// prettier-ignore\n\t\t!node.parent ||\n\t\tnode.parent.type !== 'Element' ||\n\t\t( /** @type {import('../../nodes/Element.js').default} */ (node.parent).name !== 'script' &&\n\t\t\t/** @type {import('../../nodes/Element.js').default} */ (node.parent).name !== 'style')\n\t) {\n\t\t// unless this Text node is inside a <script> or <style> element, escape &,<,>\n\t\ttext = escape_html(text);\n\t}\n\trenderer.add_string(text);\n}\n", "import { x } from 'code-red';\n\n/**\n * @param {import('../../nodes/Title.js').default} node\n * @param {import('../Renderer.js').default} renderer\n * @param {import('../private.js').RenderOptions} options\n */\nexport default function (node, renderer, options) {\n\trenderer.push();\n\trenderer.add_string('<title>');\n\trenderer.render(node.children, options);\n\trenderer.add_string('</title>');\n\tconst result = renderer.pop();\n\trenderer.add_expression(x`$$result.title = ${result}, \"\"`);\n}\n", "import { escape_template } from './stringify.js';\n\n/**\n * Collapse string literals together\n * @param {import('estree').TemplateLiteral} literal\n */\nexport function collapse_template_literal(literal) {\n\tif (!literal.quasis.length) return;\n\n\tconst collapsed_quasis = [];\n\tconst collapsed_expressions = [];\n\n\tlet cur_quasi = literal.quasis[0];\n\n\t// An expression always follows a quasi and vice versa, ending with a quasi\n\tfor (let i = 0; i < literal.quasis.length; i++) {\n\t\tconst expr = literal.expressions[i];\n\t\tconst next_quasi = literal.quasis[i + 1];\n\t\t// If an expression is a simple string literal, combine it with its preceding\n\t\t// and following quasi\n\t\tif (next_quasi && expr && expr.type === 'Literal' && typeof expr.value === 'string') {\n\t\t\tcur_quasi.value.raw += escape_template(expr.value) + next_quasi.value.raw;\n\t\t} else {\n\t\t\tif (expr) {\n\t\t\t\tcollapsed_expressions.push(expr);\n\t\t\t}\n\t\t\tcollapsed_quasis.push(cur_quasi);\n\t\t\tcur_quasi = next_quasi;\n\t\t}\n\t}\n\n\tliteral.quasis = collapsed_quasis;\n\tliteral.expressions = collapsed_expressions;\n}\n", "import AwaitBlock from './handlers/AwaitBlock.js';\nimport Comment from './handlers/Comment.js';\nimport DebugTag from './handlers/DebugTag.js';\nimport EachBlock from './handlers/EachBlock.js';\nimport Element from './handlers/Element.js';\nimport Head from './handlers/Head.js';\nimport HtmlTag from './handlers/HtmlTag.js';\nimport IfBlock from './handlers/IfBlock.js';\nimport InlineComponent from './handlers/InlineComponent.js';\nimport KeyBlock from './handlers/KeyBlock.js';\nimport Slot from './handlers/Slot.js';\nimport SlotTemplate from './handlers/SlotTemplate.js';\nimport Tag from './handlers/Tag.js';\nimport Text from './handlers/Text.js';\nimport Title from './handlers/Title.js';\nimport { collapse_template_literal } from '../utils/collapse_template_literal.js';\nimport { escape_template } from '../utils/stringify.js';\n\nfunction noop() {}\n\n/** @type {Record<string, {(node: any, renderer: Renderer, options: import('../../interfaces.js').CompileOptions): void}>} */\nconst handlers = {\n\tAwaitBlock,\n\tBody: noop,\n\tComment,\n\tDebugTag,\n\tDocument: noop,\n\tEachBlock,\n\tElement,\n\tHead,\n\tIfBlock,\n\tInlineComponent,\n\tKeyBlock,\n\tMustacheTag: Tag,\n\tOptions: noop,\n\tRawMustacheTag: HtmlTag,\n\tSlot,\n\tSlotTemplate,\n\tText,\n\tTitle,\n\tWindow: noop\n};\n\nexport default class Renderer {\n\thas_bindings = false;\n\n\t/** @type {import('estree').Identifier} */\n\tname = undefined;\n\n\t/** @type {Array<{ current: { value: string }; literal: import('estree').TemplateLiteral }>} */\n\tstack = [];\n\n\t/** @type {{ value: string }} */\n\tcurrent = undefined; // TODO can it just be `current: string`?\n\n\t/** @type {import('estree').TemplateLiteral} */\n\tliteral = undefined;\n\n\t/** @type {import('../../interfaces.js').AppendTarget[]} */\n\ttargets = [];\n\tconstructor({ name }) {\n\t\tthis.name = name;\n\t\tthis.push();\n\t}\n\n\t/** @param {string} str */\n\tadd_string(str) {\n\t\tthis.current.value += escape_template(str);\n\t}\n\n\t/** @param {import('estree').Expression} node */\n\tadd_expression(node) {\n\t\tthis.literal.quasis.push({\n\t\t\ttype: 'TemplateElement',\n\t\t\tvalue: { raw: this.current.value, cooked: null },\n\t\t\ttail: false\n\t\t});\n\t\tthis.literal.expressions.push(node);\n\t\tthis.current.value = '';\n\t}\n\tpush() {\n\t\tconst current = (this.current = { value: '' });\n\t\tconst literal = (this.literal = {\n\t\t\ttype: 'TemplateLiteral',\n\t\t\texpressions: [],\n\t\t\tquasis: []\n\t\t});\n\t\tthis.stack.push({ current, literal });\n\t}\n\tpop() {\n\t\tthis.literal.quasis.push({\n\t\t\ttype: 'TemplateElement',\n\t\t\tvalue: { raw: this.current.value, cooked: null },\n\t\t\ttail: true\n\t\t});\n\t\tconst popped = this.stack.pop();\n\t\tconst last = this.stack[this.stack.length - 1];\n\t\tif (last) {\n\t\t\tthis.literal = last.literal;\n\t\t\tthis.current = last.current;\n\t\t}\n\t\t// Optimize the TemplateLiteral to remove unnecessary nodes\n\t\tcollapse_template_literal(popped.literal);\n\t\treturn popped.literal;\n\t}\n\n\t/**\n\t * @param {import('../nodes/interfaces.js').INode[]} nodes\n\t * @param {import('./private.js').RenderOptions} options\n\t */\n\trender(nodes, options) {\n\t\tnodes.forEach((node) => {\n\t\t\tconst handler = handlers[node.type];\n\t\t\tif (!handler) {\n\t\t\t\tthrow new Error(`No handler for '${node.type}' nodes`);\n\t\t\t}\n\t\t\thandler(node, this, options);\n\t\t});\n\t}\n}\n", "import { b } from 'code-red';\nimport { string_literal } from '../utils/stringify.js';\nimport Renderer from './Renderer.js';\nimport { extract_names } from 'periscopic';\nimport { walk } from 'estree-walker';\nimport { invalidate } from '../render_dom/invalidate.js';\nimport check_enable_sourcemap from '../utils/check_enable_sourcemap.js';\n\n/**\n * @param {import('../Component.js').default} component\n * @param {import('../../interfaces.js').CompileOptions} options\n * @returns {{ js: import('estree').Node[]; css: import('../../interfaces.js').CssResult; }}\n */\nexport default function ssr(component, options) {\n\tconst renderer = new Renderer({\n\t\tname: component.name\n\t});\n\tconst { name } = component;\n\t// create $$render function\n\trenderer.render(\n\t\ttrim(component.fragment.children),\n\t\tObject.assign(\n\t\t\t{\n\t\t\t\tlocate: component.locate\n\t\t\t},\n\t\t\toptions\n\t\t)\n\t);\n\t// TODO put this inside the Renderer class\n\tconst literal = renderer.pop();\n\t// TODO concatenate CSS maps\n\tconst css = options.customElement\n\t\t? { code: null, map: null }\n\t\t: component.stylesheet.render(options.filename);\n\tconst uses_rest = component.var_lookup.has('$$restProps');\n\tconst props = component.vars.filter((variable) => !variable.module && variable.export_name);\n\tconst rest = uses_rest\n\t\t? b`let $$restProps = @compute_rest_props($$props, [${props\n\t\t\t\t.map((prop) => `\"${prop.export_name}\"`)\n\t\t\t\t.join(',')}]);`\n\t\t: null;\n\tconst uses_slots = component.var_lookup.has('$$slots');\n\tconst slots = uses_slots ? b`let $$slots = @compute_slots(#slots);` : null;\n\tconst reactive_stores = component.vars.filter(\n\t\t(variable) => variable.name[0] === '$' && variable.name[1] !== '$'\n\t);\n\tconst reactive_store_subscriptions = reactive_stores\n\t\t.filter((store) => {\n\t\t\tconst variable = component.var_lookup.get(store.name.slice(1));\n\t\t\treturn !variable || variable.hoistable;\n\t\t})\n\t\t.map(({ name }) => {\n\t\t\tconst store_name = name.slice(1);\n\t\t\treturn b`\n\t\t\t\t${component.compile_options.dev && b`@validate_store(${store_name}, '${store_name}');`}\n\t\t\t\t${`$$unsubscribe_${store_name}`} = @subscribe(${store_name}, #value => ${name} = #value)\n\t\t\t`;\n\t\t});\n\tconst reactive_store_unsubscriptions = reactive_stores.map(\n\t\t({ name }) => b`${`$$unsubscribe_${name.slice(1)}`}()`\n\t);\n\tconst reactive_store_declarations = reactive_stores.map(({ name }) => {\n\t\tconst store_name = name.slice(1);\n\t\tconst store = component.var_lookup.get(store_name);\n\t\tif (store && store.reassigned) {\n\t\t\tconst unsubscribe = `$$unsubscribe_${store_name}`;\n\t\t\tconst subscribe = `$$subscribe_${store_name}`;\n\t\t\treturn b`let ${name}, ${unsubscribe} = @noop, ${subscribe} = () => (${unsubscribe}(), ${unsubscribe} = @subscribe(${store_name}, $$value => ${name} = $$value), ${store_name})`;\n\t\t}\n\t\treturn b`let ${name}, ${`$$unsubscribe_${store_name}`};`;\n\t});\n\t// instrument get/set store value\n\tif (component.ast.instance) {\n\t\tlet scope = component.instance_scope;\n\t\tconst map = component.instance_scope_map;\n\t\twalk(component.ast.instance.content, {\n\t\t\tenter(node) {\n\t\t\t\tif (map.has(node)) {\n\t\t\t\t\tscope = map.get(node);\n\t\t\t\t}\n\t\t\t},\n\t\t\tleave(node) {\n\t\t\t\tif (map.has(node)) {\n\t\t\t\t\tscope = scope.parent;\n\t\t\t\t}\n\t\t\t\tif (node.type === 'AssignmentExpression' || node.type === 'UpdateExpression') {\n\t\t\t\t\tconst assignee = node.type === 'AssignmentExpression' ? node.left : node.argument;\n\t\t\t\t\tconst names = new Set(extract_names(/** @type {import('estree').Node} */ (assignee)));\n\t\t\t\t\tconst to_invalidate = new Set();\n\t\t\t\t\tfor (const name of names) {\n\t\t\t\t\t\tconst variable = component.var_lookup.get(name);\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\tvariable &&\n\t\t\t\t\t\t\t!variable.hoistable &&\n\t\t\t\t\t\t\t!variable.global &&\n\t\t\t\t\t\t\t!variable.module &&\n\t\t\t\t\t\t\t(variable.subscribable || variable.name[0] === '$')\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tto_invalidate.add(variable.name);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (to_invalidate.size) {\n\t\t\t\t\t\tthis.replace(\n\t\t\t\t\t\t\tinvalidate(/** @type {any} */ ({ component }), scope, node, to_invalidate, true)\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\tcomponent.rewrite_props(({ name, reassigned }) => {\n\t\tconst value = `$${name}`;\n\t\tlet insert = reassigned\n\t\t\t? b`${`$$subscribe_${name}`}()`\n\t\t\t: b`${`$$unsubscribe_${name}`} = @subscribe(${name}, #value => $${value} = #value)`;\n\t\tif (component.compile_options.dev) {\n\t\t\tinsert = b`@validate_store(${name}, '${name}'); ${insert}`;\n\t\t}\n\t\treturn insert;\n\t});\n\tconst instance_javascript = component.extract_javascript(component.ast.instance);\n\t// TODO only do this for props with a default value\n\tconst parent_bindings = instance_javascript\n\t\t? component.vars\n\t\t\t\t.filter((variable) => !variable.module && variable.export_name)\n\t\t\t\t.map((prop) => {\n\t\t\t\t\treturn b`if ($$props.${prop.export_name} === void 0 && $$bindings.${prop.export_name} && ${prop.name} !== void 0) $$bindings.${prop.export_name}(${prop.name});`;\n\t\t\t\t})\n\t\t: [];\n\tconst injected = Array.from(component.injected_reactive_declaration_vars).filter((name) => {\n\t\tconst variable = component.var_lookup.get(name);\n\t\treturn variable.injected;\n\t});\n\tconst reactive_declarations = component.reactive_declarations.map((d) => {\n\t\tconst body = /** @type {import('estree').LabeledStatement} */ (d.node).body;\n\t\tlet statement = b`${body}`;\n\t\tif (!d.declaration) {\n\t\t\t// TODO do not add label if it's not referenced\n\t\t\tstatement = b`$: { ${statement} }`;\n\t\t}\n\t\treturn statement;\n\t});\n\tconst main = renderer.has_bindings\n\t\t? b`\n\t\t\tlet $$settled;\n\t\t\tlet $$rendered;\n\t\t\tlet #previous_head = $$result.head;\n\n\t\t\tdo {\n\t\t\t\t$$settled = true;\n\t\t\t\t// $$result.head is mutated by the literal expression\n\t\t\t\t// need to reset it if we're looping back to prevent duplication\n\t\t\t\t$$result.head = #previous_head;\n\n\t\t\t\t${reactive_declarations}\n\n\t\t\t\t$$rendered = ${literal};\n\t\t\t} while (!$$settled);\n\n\t\t\t${reactive_store_unsubscriptions}\n\n\t\t\treturn $$rendered;\n\t\t`\n\t\t: b`\n\t\t\t${reactive_declarations}\n\n\t\t\t${reactive_store_unsubscriptions}\n\n\t\t\treturn ${literal};`;\n\tconst blocks = [\n\t\t...injected.map((name) => b`let ${name};`),\n\t\trest,\n\t\tslots,\n\t\t...reactive_store_declarations,\n\t\t...reactive_store_subscriptions,\n\t\tinstance_javascript,\n\t\t...parent_bindings,\n\t\tcss.code && b`$$result.css.add(#css);`,\n\t\tmain\n\t].filter(Boolean);\n\tconst css_sourcemap_enabled = check_enable_sourcemap(options.enableSourcemap, 'css');\n\tconst js = b`\n\t\t${\n\t\t\tcss.code\n\t\t\t\t? b`\n\t\tconst #css = {\n\t\t\tcode: \"${css.code}\",\n\t\t\tmap: ${css_sourcemap_enabled && css.map ? string_literal(css.map.toString()) : 'null'}\n\t\t};`\n\t\t\t\t: null\n\t\t}\n\n\t\t${component.extract_javascript(component.ast.module)}\n\n\t\t${component.fully_hoisted}\n\n\t\tconst ${name} = @create_ssr_component(($$result, $$props, $$bindings, #slots) => {\n\t\t\t${blocks}\n\t\t});\n\t`;\n\treturn { js, css };\n}\n\n/** @param {import('../nodes/interfaces.js').INode[]} nodes */\nfunction trim(nodes) {\n\tlet start = 0;\n\tfor (; start < nodes.length; start += 1) {\n\t\tconst node = /** @type {import('../nodes/Text.js').default} */ (nodes[start]);\n\t\tif (node.type !== 'Text') break;\n\t\tnode.data = node.data.replace(/^\\s+/, '');\n\t\tif (node.data) break;\n\t}\n\tlet end = nodes.length;\n\tfor (; end > start; end -= 1) {\n\t\tconst node = /** @type {import('../nodes/Text.js').default} */ (nodes[end - 1]);\n\t\tif (node.type !== 'Text') break;\n\t\tnode.data = node.data.trimRight();\n\t\tif (node.data) break;\n\t}\n\treturn nodes.slice(start, end);\n}\n", "import { TraceMap, originalPositionFor } from '@jridgewell/trace-mapping';\nimport { walk } from 'estree-walker';\nimport { getLocator } from 'locate-character';\nimport { reserved, is_valid } from '../utils/names.js';\nimport globals from '../utils/globals.js';\nimport { namespaces, valid_namespaces } from '../utils/namespaces.js';\nimport create_module from './create_module.js';\nimport { create_scopes, extract_names, extract_identifiers } from './utils/scope.js';\nimport Stylesheet from './css/Stylesheet.js';\nimport Fragment from './nodes/Fragment.js';\nimport internal_exports from './internal_exports.js';\nimport error from '../utils/error.js';\nimport get_code_frame from '../utils/get_code_frame.js';\nimport flatten_reference from './utils/flatten_reference.js';\nimport is_used_as_reference from './utils/is_used_as_reference.js';\nimport is_reference from 'is-reference';\nimport fuzzymatch from '../utils/fuzzymatch.js';\nimport get_object from './utils/get_object.js';\nimport add_to_set from './utils/add_to_set.js';\nimport check_graph_for_cycles from './utils/check_graph_for_cycles.js';\nimport { print, b } from 'code-red';\nimport { is_reserved_keyword } from './utils/reserved_keywords.js';\nimport { apply_preprocessor_sourcemap } from '../utils/mapped_code.js';\nimport { clone } from '../utils/clone.js';\nimport compiler_warnings from './compiler_warnings.js';\nimport compiler_errors from './compiler_errors.js';\nimport {\n\textract_ignores_above_position,\n\textract_svelte_ignore_from_comments\n} from '../utils/extract_svelte_ignore.js';\nimport check_enable_sourcemap from './utils/check_enable_sourcemap.js';\nimport { VERSION } from '../../shared/version.js';\n\nconst regex_leading_directory_separator = /^[/\\\\]/;\nconst regex_starts_with_term_export = /^Export/;\nconst regex_contains_term_function = /Function/;\n\nexport default class Component {\n\t/** @type {import('../Stats.js').default} */\n\tstats;\n\n\t/** @type {import('../interfaces.js').Warning[]} */\n\twarnings;\n\n\t/** @type {Set<string>} */\n\tignores;\n\n\t/** @type {Array<Set<string>>} */\n\tignore_stack = [];\n\n\t/** @type {import('../interfaces.js').Ast} */\n\tast;\n\n\t/** @type {import('../interfaces.js').Ast} */\n\toriginal_ast;\n\n\t/** @type {string} */\n\tsource;\n\n\t/** @type {import('estree').Identifier} */\n\tname;\n\n\t/** @type {import('../interfaces.js').CompileOptions} */\n\tcompile_options;\n\n\t/** @type {import('./nodes/Fragment.js').default} */\n\tfragment;\n\n\t/** @type {import('./utils/scope.js').Scope} */\n\tmodule_scope;\n\n\t/** @type {import('./utils/scope.js').Scope} */\n\tinstance_scope;\n\n\t/** @type {WeakMap<import('estree').Node, import('./utils/scope.js').Scope>} */\n\tinstance_scope_map;\n\n\t/** @type {ComponentOptions} */\n\tcomponent_options;\n\n\t/** @type {string} */\n\tnamespace;\n\n\t/** @type {string} */\n\ttag;\n\n\t/** @type {boolean} */\n\taccessors;\n\n\t/** @type {import('../interfaces.js').Var[]} */\n\tvars = [];\n\n\t/** @type {Map<string, import('../interfaces.js').Var>} */\n\tvar_lookup = new Map();\n\n\t/** @type {import('estree').ImportDeclaration[]} */\n\timports = [];\n\n\t/** @type {import('estree').ExportNamedDeclaration[]} */\n\texports_from = [];\n\n\t/** @type {import('estree').ExportNamedDeclaration[]} */\n\tinstance_exports_from = [];\n\n\t/** @type {Set<import('estree').Node>} */\n\thoistable_nodes = new Set();\n\n\t/** @type {Map<string, import('estree').Node>} */\n\tnode_for_declaration = new Map();\n\n\t/** @type {Array<import('estree').Node | import('estree').Node[]>} */\n\tpartly_hoisted = [];\n\n\t/** @type {Array<import('estree').Node | import('estree').Node[]>} */\n\tfully_hoisted = [];\n\t/**\n\t * @type {Array<{\n\t * \t\tassignees: Set<string>;\n\t * \t\tdependencies: Set<string>;\n\t * \t\tnode: import('estree').Node;\n\t * \t\tdeclaration: import('estree').Node;\n\t * \t}>}\n\t */\n\treactive_declarations = [];\n\n\t/** @type {Set<import('estree').Node>} */\n\treactive_declaration_nodes = new Set();\n\t/** */\n\thas_reactive_assignments = false;\n\n\t/** @type {Set<string>} */\n\tinjected_reactive_declaration_vars = new Set();\n\n\t/** @type {Map<string, import('estree').Identifier>} */\n\thelpers = new Map();\n\n\t/** @type {Map<string, import('estree').Identifier>} */\n\tglobals = new Map();\n\n\t/** @type {Map<string, Set<string>>} */\n\tindirect_dependencies = new Map();\n\n\t/** @type {string} */\n\tfile;\n\n\t/**\n\t * Use this for stack traces. It is 1-based and acts on pre-processed sources.\n\t * Use `meta_locate` for metadata on DOM elements.\n\t * @type {(c: number) => { line: number; column: number }}\n\t */\n\tlocate;\n\n\t/**\n\t * Use this for metadata on DOM elements. It is 1-based and acts on sources that have not been pre-processed.\n\t * Use `locate` for source mappings.\n\t * @type {(c: number) => { line: number; column: number }}\n\t */\n\tmeta_locate;\n\n\t/** @type {import('./nodes/Element.js').default[]} */\n\telements = [];\n\n\t/** @type {import('./css/Stylesheet.js').default} */\n\tstylesheet;\n\n\t/** @type {Map<string, import('estree').Identifier>} */\n\taliases = new Map();\n\n\t/** @type {Set<string>} */\n\tused_names = new Set();\n\n\t/** @type {Set<string>} */\n\tglobally_used_names = new Set();\n\n\t/** @type {Map<string, import('./nodes/Slot.js').default>} */\n\tslots = new Map();\n\n\t/** @type {Set<string>} */\n\tslot_outlets = new Set();\n\n\t/** @type {import('./nodes/shared/Tag.js').default[]} */\n\ttags = [];\n\n\t/**\n\t * @param {import('../interfaces.js').Ast} ast\n\t * @param {string} source\n\t * @param {string} name\n\t * @param {import('../interfaces.js').CompileOptions} compile_options\n\t * @param {import('../Stats.js').default} stats\n\t * @param {import('../interfaces.js').Warning[]} warnings\n\t */\n\tconstructor(ast, source, name, compile_options, stats, warnings) {\n\t\tthis.name = { type: 'Identifier', name };\n\t\tthis.stats = stats;\n\t\tthis.warnings = warnings;\n\t\tthis.ast = ast;\n\t\tthis.source = source;\n\t\tthis.compile_options = compile_options;\n\t\t// the instance JS gets mutated, so we park\n\t\t// a copy here for later. TODO this feels gross\n\t\tthis.original_ast = clone({\n\t\t\thtml: ast.html,\n\t\t\tcss: ast.css,\n\t\t\tinstance: ast.instance,\n\t\t\tmodule: ast.module\n\t\t});\n\t\tthis.file =\n\t\t\tcompile_options.filename &&\n\t\t\t(typeof process !== 'undefined'\n\t\t\t\t? compile_options.filename\n\t\t\t\t\t\t.replace(process.cwd(), '')\n\t\t\t\t\t\t.replace(regex_leading_directory_separator, '')\n\t\t\t\t: compile_options.filename);\n\n\t\t// line numbers in stack trace frames are 1-based. source maps are 0-based\n\t\tthis.locate = getLocator(this.source, { offsetLine: 1 });\n\t\t/** @type {TraceMap | null | undefined} initialise lazy because only used in dev mode */\n\t\tlet tracer;\n\t\tthis.meta_locate = (c) => {\n\t\t\t/** @type {{ line: number, column: number }} */\n\t\t\tlet location = this.locate(c);\n\t\t\tif (tracer === undefined) {\n\t\t\t\t// @ts-expect-error - fix the type of CompileOptions.sourcemap\n\t\t\t\ttracer = compile_options.sourcemap ? new TraceMap(compile_options.sourcemap) : null;\n\t\t\t}\n\t\t\tif (tracer) {\n\t\t\t\t// originalPositionFor returns 1-based lines like locator\n\t\t\t\tlocation = originalPositionFor(tracer, location);\n\t\t\t}\n\t\t\treturn location;\n\t\t};\n\n\t\t// styles\n\t\tthis.stylesheet = new Stylesheet({\n\t\t\tsource,\n\t\t\tast,\n\t\t\tfilename: compile_options.filename,\n\t\t\tcomponent_name: name,\n\t\t\tdev: compile_options.dev,\n\t\t\tget_css_hash: compile_options.cssHash\n\t\t});\n\t\tthis.stylesheet.validate(this);\n\t\tthis.component_options = process_component_options(this, this.ast.html.children);\n\t\tthis.namespace =\n\t\t\tnamespaces[this.component_options.namespace] || this.component_options.namespace;\n\t\tif (compile_options.customElement) {\n\t\t\tthis.tag = this.component_options.customElement?.tag || compile_options.tag || this.name.name;\n\t\t} else {\n\t\t\tthis.tag = this.name.name;\n\t\t}\n\t\tthis.walk_module_js();\n\t\tthis.push_ignores(\n\t\t\tthis.ast.instance\n\t\t\t\t? extract_ignores_above_position(this.ast.instance.start, this.ast.html.children)\n\t\t\t\t: []\n\t\t);\n\t\tthis.walk_instance_js_pre_template();\n\t\tthis.pop_ignores();\n\t\tthis.fragment = new Fragment(this, ast.html);\n\t\tthis.name = this.get_unique_name(name);\n\t\tthis.push_ignores(\n\t\t\tthis.ast.instance\n\t\t\t\t? extract_ignores_above_position(this.ast.instance.start, this.ast.html.children)\n\t\t\t\t: []\n\t\t);\n\t\tthis.walk_instance_js_post_template();\n\t\tthis.pop_ignores();\n\t\tthis.elements.forEach((element) => this.stylesheet.apply(element));\n\t\tthis.stylesheet.reify();\n\t\tthis.stylesheet.warn_on_unused_selectors(this);\n\t}\n\n\t/**\n\t * @param {import('estree').Node} node\n\t * @param {import('../interfaces.js').Var} variable\n\t * @param {any} add_to_lookup\n\t */\n\tadd_var(node, variable, add_to_lookup = true) {\n\t\tthis.vars.push(variable);\n\t\tif (add_to_lookup) {\n\t\t\tif (this.var_lookup.has(variable.name)) {\n\t\t\t\tconst exists_var = this.var_lookup.get(variable.name);\n\t\t\t\tif (exists_var.module && exists_var.imported) {\n\t\t\t\t\tthis.error(/** @type {any} */ (node), compiler_errors.illegal_variable_declaration);\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.var_lookup.set(variable.name, variable);\n\t\t}\n\t}\n\n\t/**\n\t * @param {import('estree').Node} node\n\t * @param {string} name\n\t */\n\tadd_reference(node, name) {\n\t\tconst variable = this.var_lookup.get(name);\n\t\tif (variable) {\n\t\t\tvariable.referenced = true;\n\t\t} else if (is_reserved_keyword(name)) {\n\t\t\tthis.add_var(node, {\n\t\t\t\tname,\n\t\t\t\tinjected: true,\n\t\t\t\treferenced: true\n\t\t\t});\n\t\t} else if (name[0] === '$') {\n\t\t\tthis.add_var(node, {\n\t\t\t\tname,\n\t\t\t\tinjected: true,\n\t\t\t\treferenced: true,\n\t\t\t\tmutated: true,\n\t\t\t\twritable: true\n\t\t\t});\n\t\t\tconst subscribable_name = name.slice(1);\n\t\t\tconst variable = this.var_lookup.get(subscribable_name);\n\t\t\tif (variable) {\n\t\t\t\tvariable.referenced = true;\n\t\t\t\tvariable.subscribable = true;\n\t\t\t}\n\t\t} else {\n\t\t\tif (this.compile_options.varsReport === 'full') {\n\t\t\t\tthis.add_var(node, { name, referenced: true }, false);\n\t\t\t}\n\t\t\tthis.used_names.add(name);\n\t\t}\n\t}\n\n\t/** @param {string} name */\n\talias(name) {\n\t\tif (!this.aliases.has(name)) {\n\t\t\tthis.aliases.set(name, this.get_unique_name(name));\n\t\t}\n\t\treturn this.aliases.get(name);\n\t}\n\n\t/** @param {import('./nodes/Element.js').default} element */\n\tapply_stylesheet(element) {\n\t\tthis.elements.push(element);\n\t}\n\n\t/** @param {string} name */\n\tglobal(name) {\n\t\tconst alias = this.alias(name);\n\t\tthis.globals.set(name, alias);\n\t\treturn alias;\n\t}\n\n\t/**\n\t * @param {{ js: import('estree').Node[]; css: import('../interfaces.js').CssResult }} [result]\n\t * @returns {import('../interfaces.js').CompileResult}\n\t */\n\tgenerate(result) {\n\t\tlet js = null;\n\t\tlet css = null;\n\t\tif (result) {\n\t\t\tconst { compile_options, name } = this;\n\t\t\tconst banner = `${this.file ? `${this.file} ` : ''}generated by Svelte v${VERSION}`;\n\n\t\t\t/** @type {any} */\n\t\t\tconst program = { type: 'Program', body: result.js };\n\t\t\twalk(program, {\n\t\t\t\tenter: /**\n\t\t\t\t * @param {import('estree').Node} node\n\t\t\t\t * @param {import('estree').Node} parent\n\t\t\t\t * @param {any} key\n\t\t\t\t */ (node, parent, key) => {\n\t\t\t\t\tif (node.type === 'Identifier') {\n\t\t\t\t\t\tif (node.name[0] === '@') {\n\t\t\t\t\t\t\tif (node.name[1] === '_') {\n\t\t\t\t\t\t\t\tconst alias = this.global(node.name.slice(2));\n\t\t\t\t\t\t\t\tnode.name = alias.name;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tlet name = node.name.slice(1);\n\t\t\t\t\t\t\t\tif (compile_options.hydratable) {\n\t\t\t\t\t\t\t\t\tif (internal_exports.has(`${name}_hydration`)) {\n\t\t\t\t\t\t\t\t\t\tname += '_hydration';\n\t\t\t\t\t\t\t\t\t} else if (internal_exports.has(`${name}Hydration`)) {\n\t\t\t\t\t\t\t\t\t\tname += 'Hydration';\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif (compile_options.dev) {\n\t\t\t\t\t\t\t\t\tif (internal_exports.has(`${name}_dev`)) {\n\t\t\t\t\t\t\t\t\t\tname += '_dev';\n\t\t\t\t\t\t\t\t\t} else if (internal_exports.has(`${name}Dev`)) {\n\t\t\t\t\t\t\t\t\t\tname += 'Dev';\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tconst alias = this.alias(name);\n\t\t\t\t\t\t\t\tthis.helpers.set(name, alias);\n\t\t\t\t\t\t\t\tnode.name = alias.name;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else if (node.name[0] !== '#' && !is_valid(node.name)) {\n\t\t\t\t\t\t\t// this hack allows x`foo.${bar}` where bar could be invalid\n\n\t\t\t\t\t\t\t/** @type {import('estree').Literal} */\n\t\t\t\t\t\t\tconst literal = { type: 'Literal', value: node.name };\n\t\t\t\t\t\t\tif (parent.type === 'Property' && key === 'key') {\n\t\t\t\t\t\t\t\tparent.key = literal;\n\t\t\t\t\t\t\t} else if (parent.type === 'MemberExpression' && key === 'property') {\n\t\t\t\t\t\t\t\tparent.property = literal;\n\t\t\t\t\t\t\t\tparent.computed = true;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t\tconst referenced_globals = Array.from(\n\t\t\t\tthis.globals,\n\t\t\t\t([name, alias]) => name !== alias.name && { name, alias }\n\t\t\t).filter(Boolean);\n\t\t\tif (referenced_globals.length) {\n\t\t\t\tthis.helpers.set('globals', this.alias('globals'));\n\t\t\t}\n\t\t\tconst imported_helpers = Array.from(this.helpers, ([name, alias]) => ({\n\t\t\t\tname,\n\t\t\t\talias\n\t\t\t}));\n\t\t\tcreate_module(\n\t\t\t\tprogram,\n\t\t\t\tname,\n\t\t\t\tbanner,\n\t\t\t\tcompile_options.sveltePath,\n\t\t\t\timported_helpers,\n\t\t\t\treferenced_globals,\n\t\t\t\tthis.imports,\n\t\t\t\tthis.vars\n\t\t\t\t\t.filter((variable) => variable.module && variable.export_name)\n\t\t\t\t\t.map((variable) => ({\n\t\t\t\t\t\tname: variable.name,\n\t\t\t\t\t\tas: variable.export_name\n\t\t\t\t\t})),\n\t\t\t\tthis.exports_from\n\t\t\t);\n\t\t\tcss = compile_options.customElement ? { code: null, map: null } : result.css;\n\t\t\tconst js_sourcemap_enabled = check_enable_sourcemap(compile_options.enableSourcemap, 'js');\n\t\t\tif (!js_sourcemap_enabled) {\n\t\t\t\tjs = print(program);\n\t\t\t\tjs.map = null;\n\t\t\t} else {\n\t\t\t\tconst sourcemap_source_filename = get_sourcemap_source_filename(compile_options);\n\t\t\t\tjs = print(program, {\n\t\t\t\t\tsourceMapSource: sourcemap_source_filename\n\t\t\t\t});\n\t\t\t\tjs.map.sources = [sourcemap_source_filename];\n\t\t\t\tjs.map.sourcesContent = [this.source];\n\t\t\t\tjs.map = apply_preprocessor_sourcemap(\n\t\t\t\t\tsourcemap_source_filename,\n\t\t\t\t\tjs.map,\n\t\t\t\t\t/** @type {string | import('@ampproject/remapping').RawSourceMap | import('@ampproject/remapping').DecodedSourceMap} */ (\n\t\t\t\t\t\tcompile_options.sourcemap\n\t\t\t\t\t)\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t\treturn {\n\t\t\tjs,\n\t\t\tcss,\n\t\t\tast: this.original_ast,\n\t\t\twarnings: this.warnings,\n\t\t\tvars: this.get_vars_report(),\n\t\t\tstats: this.stats.render()\n\t\t};\n\t}\n\n\t/**\n\t * @param {string} name\n\t * @param {import('./utils/scope.js').Scope} [scope]\n\t * @returns {import('estree').Identifier}\n\t */\n\tget_unique_name(name, scope) {\n\t\tlet alias = name;\n\t\tfor (\n\t\t\tlet i = 1;\n\t\t\treserved.has(alias) ||\n\t\t\tthis.var_lookup.has(alias) ||\n\t\t\tthis.used_names.has(alias) ||\n\t\t\tthis.globally_used_names.has(alias) ||\n\t\t\t(scope && scope.has(alias));\n\n\t\t) {\n\t\t\talias = `${name}_${i++}`;\n\t\t}\n\t\tthis.used_names.add(alias);\n\t\treturn { type: 'Identifier', name: alias };\n\t}\n\tget_unique_name_maker() {\n\t\tconst local_used_names = new Set();\n\n\t\t/** @param {string} name */\n\t\tfunction add(name) {\n\t\t\tlocal_used_names.add(name);\n\t\t}\n\t\treserved.forEach(add);\n\t\tinternal_exports.forEach(add);\n\t\tthis.var_lookup.forEach((_value, key) => add(key));\n\n\t\t/**\n\t\t * @param {string} name\n\t\t * @returns {import('estree').Identifier}\n\t\t */\n\t\treturn (name) => {\n\t\t\tlet alias = name;\n\t\t\tfor (\n\t\t\t\tlet i = 1;\n\t\t\t\tthis.used_names.has(alias) || local_used_names.has(alias);\n\t\t\t\talias = `${name}_${i++}`\n\t\t\t);\n\t\t\tlocal_used_names.add(alias);\n\t\t\tthis.globally_used_names.add(alias);\n\t\t\treturn {\n\t\t\t\ttype: 'Identifier',\n\t\t\t\tname: alias\n\t\t\t};\n\t\t};\n\t}\n\n\t/** @returns {import('../interfaces.js').Var[]} */\n\tget_vars_report() {\n\t\tconst { compile_options, vars } = this;\n\t\tconst vars_report =\n\t\t\tcompile_options.varsReport === false\n\t\t\t\t? []\n\t\t\t\t: compile_options.varsReport === 'full'\n\t\t\t\t? vars\n\t\t\t\t: vars.filter((v) => !v.global && !v.internal);\n\t\treturn vars_report.map((v) => ({\n\t\t\tname: v.name,\n\t\t\texport_name: v.export_name || null,\n\t\t\tinjected: v.injected || false,\n\t\t\tmodule: v.module || false,\n\t\t\tmutated: v.mutated || false,\n\t\t\treassigned: v.reassigned || false,\n\t\t\treferenced: v.referenced || false,\n\t\t\twritable: v.writable || false,\n\t\t\treferenced_from_script: v.referenced_from_script || false\n\t\t}));\n\t}\n\t/**\n\t * @param {{\n\t * \t\t\tstart: number;\n\t * \t\t\tend: number;\n\t * \t\t}} pos\n\t * @param {{\n\t * \t\t\tcode: string;\n\t * \t\t\tmessage: string;\n\t * \t\t}} e\n\t */\n\terror(pos, e) {\n\t\tif (this.compile_options.errorMode === 'warn') {\n\t\t\tthis.warn(pos, e);\n\t\t} else {\n\t\t\terror(e.message, {\n\t\t\t\tname: 'ValidationError',\n\t\t\t\tcode: e.code,\n\t\t\t\tsource: this.source,\n\t\t\t\tstart: pos.start,\n\t\t\t\tend: pos.end,\n\t\t\t\tfilename: this.compile_options.filename\n\t\t\t});\n\t\t}\n\t}\n\t/**\n\t * @param {{\n\t * \t\t\tstart: number;\n\t * \t\t\tend: number;\n\t * \t\t}} pos\n\t * @param {{\n\t * \t\t\tcode: string;\n\t * \t\t\tmessage: string;\n\t * \t\t}} warning\n\t */\n\twarn(pos, warning) {\n\t\tif (this.ignores && this.ignores.has(warning.code)) {\n\t\t\treturn;\n\t\t}\n\t\tconst start = this.locate(pos.start);\n\t\tconst end = this.locate(pos.end);\n\t\tconst frame = get_code_frame(this.source, start.line - 1, start.column);\n\t\tthis.warnings.push({\n\t\t\tcode: warning.code,\n\t\t\tmessage: warning.message,\n\t\t\tframe,\n\t\t\tstart,\n\t\t\tend,\n\t\t\tpos: pos.start,\n\t\t\tfilename: this.compile_options.filename,\n\t\t\ttoString: () => `${warning.message} (${start.line}:${start.column})\\n${frame}`\n\t\t});\n\t}\n\n\t/** @param {any} node */\n\textract_imports(node) {\n\t\tthis.imports.push(node);\n\t}\n\n\t/**\n\t * @param {any} node\n\t * @param {any} module_script\n\t */\n\textract_exports(node, module_script = false) {\n\t\tconst ignores = extract_svelte_ignore_from_comments(node);\n\t\tif (ignores.length) this.push_ignores(ignores);\n\t\tconst result = this._extract_exports(node, module_script);\n\t\tif (ignores.length) this.pop_ignores();\n\t\treturn result;\n\t}\n\n\t/**\n\t * @private\n\t * @param {import('estree').ExportDefaultDeclaration | import('estree').ExportNamedDeclaration | import('estree').ExportAllDeclaration} node\n\t * @param {boolean} module_script\n\t */\n\t_extract_exports(node, module_script) {\n\t\tif (node.type === 'ExportDefaultDeclaration') {\n\t\t\treturn this.error(/** @type {any} */ (node), compiler_errors.default_export);\n\t\t}\n\t\tif (node.type === 'ExportNamedDeclaration') {\n\t\t\tif (node.source) {\n\t\t\t\tif (module_script) {\n\t\t\t\t\tthis.exports_from.push(node);\n\t\t\t\t} else {\n\t\t\t\t\tthis.instance_exports_from.push(node);\n\t\t\t\t}\n\t\t\t\treturn null;\n\t\t\t}\n\t\t\tif (node.declaration) {\n\t\t\t\tif (node.declaration.type === 'VariableDeclaration') {\n\t\t\t\t\tnode.declaration.declarations.forEach((declarator) => {\n\t\t\t\t\t\textract_names(declarator.id).forEach((name) => {\n\t\t\t\t\t\t\tconst variable = this.var_lookup.get(name);\n\t\t\t\t\t\t\tvariable.export_name = name;\n\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\tdeclarator.init?.type === 'Literal' &&\n\t\t\t\t\t\t\t\ttypeof declarator.init.value === 'boolean'\n\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\tvariable.is_boolean = true;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t!module_script &&\n\t\t\t\t\t\t\t\tvariable.writable &&\n\t\t\t\t\t\t\t\t!(variable.referenced || variable.referenced_from_script || variable.subscribable)\n\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\tthis.warn(\n\t\t\t\t\t\t\t\t\t/** @type {any} */ (declarator),\n\t\t\t\t\t\t\t\t\tcompiler_warnings.unused_export_let(this.name.name, name)\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tconst { name } = node.declaration.id;\n\t\t\t\t\tconst variable = this.var_lookup.get(name);\n\t\t\t\t\tvariable.export_name = name;\n\t\t\t\t}\n\t\t\t\treturn node.declaration;\n\t\t\t} else {\n\t\t\t\tnode.specifiers.forEach((specifier) => {\n\t\t\t\t\tconst variable = this.var_lookup.get(specifier.local.name);\n\t\t\t\t\tif (variable) {\n\t\t\t\t\t\tvariable.export_name = specifier.exported.name;\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t!module_script &&\n\t\t\t\t\t\t\tvariable.writable &&\n\t\t\t\t\t\t\t!(variable.referenced || variable.referenced_from_script || variable.subscribable)\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tthis.warn(\n\t\t\t\t\t\t\t\t/** @type {any} */ (specifier),\n\t\t\t\t\t\t\t\tcompiler_warnings.unused_export_let(this.name.name, specifier.exported.name)\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\treturn null;\n\t\t\t}\n\t\t}\n\t}\n\n\t/** @param {any} script */\n\textract_javascript(script) {\n\t\tif (!script) return null;\n\t\treturn script.content.body.filter((node) => {\n\t\t\tif (!node) return false;\n\t\t\tif (this.hoistable_nodes.has(node)) return false;\n\t\t\tif (this.reactive_declaration_nodes.has(node)) return false;\n\t\t\tif (node.type === 'ImportDeclaration') return false;\n\t\t\tif (node.type === 'ExportDeclaration' && node.specifiers.length > 0) return false;\n\t\t\treturn true;\n\t\t});\n\t}\n\twalk_module_js() {\n\t\tconst component = this;\n\t\tconst script = this.ast.module;\n\t\tif (!script) return;\n\t\twalk(script.content, {\n\t\t\t/** @param {import('estree').Node} node */\n\t\t\tenter(node) {\n\t\t\t\tif (node.type === 'LabeledStatement' && node.label.name === '$') {\n\t\t\t\t\tcomponent.warn(\n\t\t\t\t\t\t/** @type {any} */ (node),\n\t\t\t\t\t\tcompiler_warnings.module_script_reactive_declaration\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\tconst { scope, globals } = create_scopes(script.content);\n\t\tthis.module_scope = scope;\n\t\tscope.declarations.forEach((node, name) => {\n\t\t\tif (name[0] === '$') {\n\t\t\t\treturn this.error(/** @type {any} */ (node), compiler_errors.illegal_declaration);\n\t\t\t}\n\t\t\tconst writable =\n\t\t\t\tnode.type === 'VariableDeclaration' && (node.kind === 'var' || node.kind === 'let');\n\t\t\tconst imported = node.type.startsWith('Import');\n\t\t\tthis.add_var(node, {\n\t\t\t\tname,\n\t\t\t\tmodule: true,\n\t\t\t\thoistable: true,\n\t\t\t\twritable,\n\t\t\t\timported\n\t\t\t});\n\t\t});\n\t\tglobals.forEach((node, name) => {\n\t\t\tif (name[0] === '$') {\n\t\t\t\treturn this.error(/** @type {any} */ (node), compiler_errors.illegal_subscription);\n\t\t\t} else {\n\t\t\t\tthis.add_var(node, {\n\t\t\t\t\tname,\n\t\t\t\t\tglobal: true,\n\t\t\t\t\thoistable: true\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t\tconst { body } = script.content;\n\t\tlet i = body.length;\n\t\twhile (--i >= 0) {\n\t\t\tconst node = body[i];\n\t\t\tif (node.type === 'ImportDeclaration') {\n\t\t\t\tthis.extract_imports(node);\n\t\t\t\tbody.splice(i, 1);\n\t\t\t}\n\t\t\tif (regex_starts_with_term_export.test(node.type)) {\n\t\t\t\tconst replacement = this.extract_exports(node, true);\n\t\t\t\tif (replacement) {\n\t\t\t\t\tbody[i] = replacement;\n\t\t\t\t} else {\n\t\t\t\t\tbody.splice(i, 1);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\twalk_instance_js_pre_template() {\n\t\tconst script = this.ast.instance;\n\t\tif (!script) return;\n\t\t// inject vars for reactive declarations\n\t\tscript.content.body.forEach((node) => {\n\t\t\tif (node.type !== 'LabeledStatement') return;\n\t\t\tif (node.body.type !== 'ExpressionStatement') return;\n\t\t\tconst { expression } = node.body;\n\t\t\tif (expression.type !== 'AssignmentExpression') return;\n\t\t\tif (expression.left.type === 'MemberExpression') return;\n\t\t\textract_names(expression.left).forEach((name) => {\n\t\t\t\tif (!this.var_lookup.has(name) && name[0] !== '$') {\n\t\t\t\t\tthis.injected_reactive_declaration_vars.add(name);\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t\tconst { scope: instance_scope, map, globals } = create_scopes(script.content);\n\t\tthis.instance_scope = instance_scope;\n\t\tthis.instance_scope_map = map;\n\t\tinstance_scope.declarations.forEach((node, name) => {\n\t\t\tif (name[0] === '$') {\n\t\t\t\treturn this.error(/** @type {any} */ (node), compiler_errors.illegal_declaration);\n\t\t\t}\n\t\t\tconst { type } = node;\n\t\t\tthis.add_var(node, {\n\t\t\t\tname,\n\t\t\t\tinitialised: instance_scope.initialised_declarations.has(name),\n\t\t\t\timported: type.startsWith('Import'),\n\t\t\t\twritable: type === 'VariableDeclaration' && (node.kind === 'var' || node.kind === 'let')\n\t\t\t});\n\t\t\tthis.node_for_declaration.set(name, node);\n\t\t});\n\t\t// NOTE: add store variable first, then only $store value\n\t\t// as `$store` will mark `store` variable as referenced and subscribable\n\t\tconst global_keys = Array.from(globals.keys());\n\t\tconst sorted_globals = [\n\t\t\t...global_keys.filter((key) => key[0] !== '$'),\n\t\t\t...global_keys.filter((key) => key[0] === '$')\n\t\t];\n\t\tsorted_globals.forEach((name) => {\n\t\t\tif (this.var_lookup.has(name)) return;\n\t\t\tconst node = globals.get(name);\n\t\t\tif (this.injected_reactive_declaration_vars.has(name)) {\n\t\t\t\tthis.add_var(node, {\n\t\t\t\t\tname,\n\t\t\t\t\tinjected: true,\n\t\t\t\t\twritable: true,\n\t\t\t\t\treassigned: true,\n\t\t\t\t\tinitialised: true\n\t\t\t\t});\n\t\t\t} else if (is_reserved_keyword(name)) {\n\t\t\t\tthis.add_var(node, {\n\t\t\t\t\tname,\n\t\t\t\t\tinjected: true\n\t\t\t\t});\n\t\t\t} else if (name[0] === '$') {\n\t\t\t\tif (name === '$' || name[1] === '$') {\n\t\t\t\t\treturn this.error(/** @type {any} */ (node), compiler_errors.illegal_global(name));\n\t\t\t\t}\n\t\t\t\tthis.add_var(node, {\n\t\t\t\t\tname,\n\t\t\t\t\tinjected: true,\n\t\t\t\t\tmutated: true,\n\t\t\t\t\twritable: true\n\t\t\t\t});\n\t\t\t\tthis.add_reference(node, name.slice(1));\n\t\t\t\tconst variable = this.var_lookup.get(name.slice(1));\n\t\t\t\tif (variable) {\n\t\t\t\t\tvariable.subscribable = true;\n\t\t\t\t\tvariable.referenced_from_script = true;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthis.add_var(node, {\n\t\t\t\t\tname,\n\t\t\t\t\tglobal: true,\n\t\t\t\t\thoistable: true\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t\tthis.track_references_and_mutations();\n\t}\n\twalk_instance_js_post_template() {\n\t\tconst script = this.ast.instance;\n\t\tif (!script) return;\n\t\tthis.post_template_walk();\n\t\tthis.hoist_instance_declarations();\n\t\tthis.extract_reactive_declarations();\n\t\tthis.check_if_tags_content_dynamic();\n\t}\n\tpost_template_walk() {\n\t\tconst script = this.ast.instance;\n\t\tif (!script) return;\n\t\tconst component = this;\n\t\tconst { content } = script;\n\t\tconst { instance_scope, instance_scope_map: map } = this;\n\t\tlet scope = instance_scope;\n\t\tconst to_remove = [];\n\n\t\t/**\n\t\t * @param {any} parent\n\t\t * @param {any} prop\n\t\t * @param {any} index\n\t\t */\n\t\tconst remove = (parent, prop, index) => {\n\t\t\tto_remove.unshift([parent, prop, index]);\n\t\t};\n\t\tlet scope_updated = false;\n\t\tconst current_function_stack = [];\n\n\t\t/** @type {import('estree').FunctionDeclaration | import('estree').FunctionExpression} */\n\t\tlet current_function = null;\n\t\twalk(content, {\n\t\t\t/** @type {import('estree-walker').SyncHandler} */\n\t\t\tenter(node, parent, prop, index) {\n\t\t\t\tif (node.type === 'FunctionDeclaration' || node.type === 'FunctionExpression') {\n\t\t\t\t\tcurrent_function_stack.push((current_function = node));\n\t\t\t\t}\n\t\t\t\tif (map.has(node)) {\n\t\t\t\t\tscope = map.get(node);\n\t\t\t\t}\n\t\t\t\tlet deep = false;\n\n\t\t\t\t/** @type {string[]} */\n\t\t\t\tlet names = [];\n\t\t\t\tif (node.type === 'AssignmentExpression') {\n\t\t\t\t\tif (node.left.type === 'ArrayPattern') {\n\t\t\t\t\t\twalk(node.left, {\n\t\t\t\t\t\t\t/**\n\t\t\t\t\t\t\t * @param {import('estree').Node} node\n\t\t\t\t\t\t\t * @param {import('estree').Node} parent\n\t\t\t\t\t\t\t */\n\t\t\t\t\t\t\tenter(node, parent) {\n\t\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t\tnode.type === 'Identifier' &&\n\t\t\t\t\t\t\t\t\tparent.type !== 'MemberExpression' &&\n\t\t\t\t\t\t\t\t\t(parent.type !== 'AssignmentPattern' || parent.right !== node)\n\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\tnames.push(node.name);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\tdeep = node.left.type === 'MemberExpression';\n\t\t\t\t\t\tnames = deep ? [get_object(node.left).name] : extract_names(node.left);\n\t\t\t\t\t}\n\t\t\t\t} else if (node.type === 'UpdateExpression') {\n\t\t\t\t\tdeep = node.argument.type === 'MemberExpression';\n\t\t\t\t\tconst { name } = get_object(node.argument);\n\t\t\t\t\tnames.push(name);\n\t\t\t\t}\n\t\t\t\tif (names.length > 0) {\n\t\t\t\t\tnames.forEach((name) => {\n\t\t\t\t\t\tlet current_scope = scope;\n\t\t\t\t\t\tlet declaration;\n\t\t\t\t\t\twhile (current_scope) {\n\t\t\t\t\t\t\tif (current_scope.declarations.has(name)) {\n\t\t\t\t\t\t\t\tdeclaration = current_scope.declarations.get(name);\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tcurrent_scope = current_scope.parent;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\tdeclaration &&\n\t\t\t\t\t\t\t/** @type {import('estree').VariableDeclaration} */ (declaration).kind === 'const' &&\n\t\t\t\t\t\t\t!deep\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tcomponent.error(/** @type {any} */ (node), {\n\t\t\t\t\t\t\t\tcode: 'assignment-to-const',\n\t\t\t\t\t\t\t\tmessage: 'You are assigning to a const'\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tif (node.type === 'ImportDeclaration') {\n\t\t\t\t\tcomponent.extract_imports(node);\n\t\t\t\t\t// TODO: to use actual remove\n\t\t\t\t\tremove(parent, prop, index);\n\t\t\t\t\treturn this.skip();\n\t\t\t\t}\n\t\t\t\tif (regex_starts_with_term_export.test(node.type)) {\n\t\t\t\t\tconst replacement = component.extract_exports(node);\n\t\t\t\t\tif (replacement) {\n\t\t\t\t\t\tthis.replace(replacement);\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// TODO: to use actual remove\n\t\t\t\t\t\tremove(parent, prop, index);\n\t\t\t\t\t}\n\t\t\t\t\treturn this.skip();\n\t\t\t\t}\n\t\t\t\tcomponent.warn_on_undefined_store_value_references(node, parent, prop, scope);\n\t\t\t},\n\n\t\t\t/** @param {import('estree').Node} node */\n\t\t\tleave(node) {\n\t\t\t\tif (node.type === 'FunctionDeclaration' || node.type === 'FunctionExpression') {\n\t\t\t\t\tcurrent_function_stack.pop();\n\t\t\t\t\tcurrent_function = current_function_stack[current_function_stack.length - 1];\n\t\t\t\t}\n\t\t\t\t// do it on leave, to prevent infinite loop\n\t\t\t\tif (\n\t\t\t\t\tcomponent.compile_options.dev &&\n\t\t\t\t\tcomponent.compile_options.loopGuardTimeout > 0 &&\n\t\t\t\t\t(!current_function || (!current_function.generator && !current_function.async))\n\t\t\t\t) {\n\t\t\t\t\tconst to_replace_for_loop_protect = component.loop_protect(\n\t\t\t\t\t\tnode,\n\t\t\t\t\t\tscope,\n\t\t\t\t\t\tcomponent.compile_options.loopGuardTimeout\n\t\t\t\t\t);\n\t\t\t\t\tif (to_replace_for_loop_protect) {\n\t\t\t\t\t\tthis.replace(to_replace_for_loop_protect);\n\t\t\t\t\t\tscope_updated = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (map.has(node)) {\n\t\t\t\t\tscope = scope.parent;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t\tfor (const [parent, prop, index] of to_remove) {\n\t\t\tif (parent) {\n\t\t\t\tif (index !== null) {\n\t\t\t\t\tparent[prop].splice(index, 1);\n\t\t\t\t} else {\n\t\t\t\t\tdelete parent[prop];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif (scope_updated) {\n\t\t\tconst { scope, map } = create_scopes(script.content);\n\t\t\tthis.instance_scope = scope;\n\t\t\tthis.instance_scope_map = map;\n\t\t}\n\t}\n\ttrack_references_and_mutations() {\n\t\tconst script = this.ast.instance;\n\t\tif (!script) return;\n\t\tconst component = this;\n\t\tconst { content } = script;\n\t\tconst { instance_scope, module_scope, instance_scope_map: map } = this;\n\t\tlet scope = instance_scope;\n\t\twalk(content, {\n\t\t\t/**\n\t\t\t * @param {import('estree').Node} node\n\t\t\t * @param {import('estree').Node} parent\n\t\t\t */\n\t\t\tenter(node, parent) {\n\t\t\t\tif (map.has(node)) {\n\t\t\t\t\tscope = map.get(node);\n\t\t\t\t}\n\t\t\t\tif (node.type === 'AssignmentExpression' || node.type === 'UpdateExpression') {\n\t\t\t\t\tconst assignee = node.type === 'AssignmentExpression' ? node.left : node.argument;\n\t\t\t\t\tconst names = extract_names(/** @type {import('estree').Node} */ (assignee));\n\t\t\t\t\tconst deep = assignee.type === 'MemberExpression';\n\t\t\t\t\tnames.forEach((name) => {\n\t\t\t\t\t\tconst scope_owner = scope.find_owner(name);\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\tscope_owner !== null\n\t\t\t\t\t\t\t\t? scope_owner === instance_scope\n\t\t\t\t\t\t\t\t: module_scope && module_scope.has(name)\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tconst variable = component.var_lookup.get(name);\n\t\t\t\t\t\t\tvariable[deep ? 'mutated' : 'reassigned'] = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tif (is_used_as_reference(node, parent)) {\n\t\t\t\t\tconst object = get_object(node);\n\t\t\t\t\tif (scope.find_owner(object.name) === instance_scope) {\n\t\t\t\t\t\tconst variable = component.var_lookup.get(object.name);\n\t\t\t\t\t\tvariable.referenced_from_script = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\n\t\t\t/** @param {import('estree').Node} node */\n\t\t\tleave(node) {\n\t\t\t\tif (map.has(node)) {\n\t\t\t\t\tscope = scope.parent;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\n\t/**\n\t * @param {import('estree').Node} node\n\t * @param {import('estree').Node} parent\n\t * @param {string | number | symbol} prop\n\t * @param {import('./utils/scope.js').Scope} scope\n\t */\n\twarn_on_undefined_store_value_references(node, parent, prop, scope) {\n\t\tif (node.type === 'LabeledStatement' && node.label.name === '$' && parent.type !== 'Program') {\n\t\t\tthis.warn(/** @type {any} */ (node), compiler_warnings.non_top_level_reactive_declaration);\n\t\t}\n\t\tif (\n\t\t\tis_reference(\n\t\t\t\t/** @type {import('is-reference').NodeWithPropertyDefinition} */ (node),\n\t\t\t\t/** @type {import('is-reference').NodeWithPropertyDefinition} */ (parent)\n\t\t\t)\n\t\t) {\n\t\t\tconst object = get_object(node);\n\t\t\tconst { name } = object;\n\t\t\tif (name[0] === '$') {\n\t\t\t\tif (!scope.has(name)) {\n\t\t\t\t\tthis.warn_if_undefined(name, object, null);\n\t\t\t\t}\n\t\t\t\tif (\n\t\t\t\t\tname[1] !== '$' &&\n\t\t\t\t\tscope.has(name.slice(1)) &&\n\t\t\t\t\tscope.find_owner(name.slice(1)) !== this.instance_scope\n\t\t\t\t) {\n\t\t\t\t\tif (\n\t\t\t\t\t\t!(\n\t\t\t\t\t\t\t(regex_contains_term_function.test(parent.type) && prop === 'params') ||\n\t\t\t\t\t\t\t(parent.type === 'VariableDeclarator' && prop === 'id')\n\t\t\t\t\t\t)\n\t\t\t\t\t) {\n\t\t\t\t\t\treturn this.error(/** @type {any} */ (node), compiler_errors.contextual_store);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * @param {any} node\n\t * @param {import('./utils/scope.js').Scope} scope\n\t * @param {number} timeout\n\t * @returns {import('estree').Node}\n\t */\n\tloop_protect(node, scope, timeout) {\n\t\tif (\n\t\t\tnode.type === 'WhileStatement' ||\n\t\t\tnode.type === 'ForStatement' ||\n\t\t\tnode.type === 'DoWhileStatement'\n\t\t) {\n\t\t\tconst guard = this.get_unique_name('guard', scope);\n\t\t\tthis.used_names.add(guard.name);\n\t\t\tconst before = b`const ${guard} = @loop_guard(${timeout})`;\n\t\t\tconst inside = b`${guard}();`;\n\t\t\t// wrap expression statement with BlockStatement\n\t\t\tif (node.body.type !== 'BlockStatement') {\n\t\t\t\tnode.body = {\n\t\t\t\t\ttype: 'BlockStatement',\n\t\t\t\t\tbody: [node.body]\n\t\t\t\t};\n\t\t\t}\n\t\t\tnode.body.body.push(inside[0]);\n\t\t\treturn {\n\t\t\t\ttype: 'BlockStatement',\n\t\t\t\tbody: [before[0], node]\n\t\t\t};\n\t\t}\n\t\treturn null;\n\t}\n\n\t/** @param {(variable: import('../interfaces.js').Var) => import('estree').Node[]} get_insert */\n\trewrite_props(get_insert) {\n\t\tif (!this.ast.instance) return;\n\t\tconst component = this;\n\t\tconst { instance_scope, instance_scope_map: map } = this;\n\t\tlet scope = instance_scope;\n\t\twalk(this.ast.instance.content, {\n\t\t\t/** @param {import('estree').Node} node */\n\t\t\tenter(node) {\n\t\t\t\tif (regex_contains_term_function.test(node.type)) {\n\t\t\t\t\treturn this.skip();\n\t\t\t\t}\n\t\t\t\tif (map.has(node)) {\n\t\t\t\t\tscope = map.get(node);\n\t\t\t\t}\n\t\t\t\tif (node.type === 'ExportNamedDeclaration' && node.declaration) {\n\t\t\t\t\treturn this.replace(node.declaration);\n\t\t\t\t}\n\t\t\t\tif (node.type === 'VariableDeclaration') {\n\t\t\t\t\t// NOTE: `var` does not follow block scoping\n\t\t\t\t\tif (node.kind === 'var' || scope === instance_scope) {\n\t\t\t\t\t\tconst inserts = [];\n\t\t\t\t\t\tconst props = [];\n\n\t\t\t\t\t\t/**\n\t\t\t\t\t\t * @param {import('estree').Identifier} exported\n\t\t\t\t\t\t * @param {import('estree').Pattern} local\n\t\t\t\t\t\t * @param {import('estree').Expression} default_value\n\t\t\t\t\t\t */\n\t\t\t\t\t\tfunction add_new_props(exported, local, default_value) {\n\t\t\t\t\t\t\tprops.push({\n\t\t\t\t\t\t\t\ttype: 'Property',\n\t\t\t\t\t\t\t\tmethod: false,\n\t\t\t\t\t\t\t\tshorthand: false,\n\t\t\t\t\t\t\t\tcomputed: false,\n\t\t\t\t\t\t\t\tkind: 'init',\n\t\t\t\t\t\t\t\tkey: exported,\n\t\t\t\t\t\t\t\tvalue: default_value\n\t\t\t\t\t\t\t\t\t? {\n\t\t\t\t\t\t\t\t\t\t\ttype: 'AssignmentPattern',\n\t\t\t\t\t\t\t\t\t\t\tleft: local,\n\t\t\t\t\t\t\t\t\t\t\tright: default_value\n\t\t\t\t\t\t\t\t\t  }\n\t\t\t\t\t\t\t\t\t: local\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// transform\n\t\t\t\t\t\t// ```\n\t\t\t\t\t\t// export let { x, y = 123 } = OBJ, z = 456\n\t\t\t\t\t\t// ```\n\t\t\t\t\t\t// into\n\t\t\t\t\t\t// ```\n\t\t\t\t\t\t// let { x: x$, y: y$ = 123 } = OBJ;\n\t\t\t\t\t\t// let { x = x$, y = y$, z = 456 } = $$props;\n\t\t\t\t\t\t// ```\n\t\t\t\t\t\tfor (let index = 0; index < node.declarations.length; index++) {\n\t\t\t\t\t\t\tconst declarator = node.declarations[index];\n\t\t\t\t\t\t\tif (declarator.id.type !== 'Identifier') {\n\t\t\t\t\t\t\t\t/**\n\t\t\t\t\t\t\t\t * @param {import('estree').Identifier} local\n\t\t\t\t\t\t\t\t * @returns {import('estree').Identifier}\n\t\t\t\t\t\t\t\t */\n\t\t\t\t\t\t\t\tfunction get_new_name(local) {\n\t\t\t\t\t\t\t\t\tconst variable = component.var_lookup.get(local.name);\n\t\t\t\t\t\t\t\t\tif (variable.subscribable) {\n\t\t\t\t\t\t\t\t\t\tinserts.push(get_insert(variable));\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tif (variable.export_name && variable.writable) {\n\t\t\t\t\t\t\t\t\t\tconst alias_name = component.get_unique_name(local.name);\n\t\t\t\t\t\t\t\t\t\tadd_new_props(\n\t\t\t\t\t\t\t\t\t\t\t{ type: 'Identifier', name: variable.export_name },\n\t\t\t\t\t\t\t\t\t\t\tlocal,\n\t\t\t\t\t\t\t\t\t\t\talias_name\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\treturn alias_name;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\treturn local;\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t/** @param {import('estree').Pattern} param */\n\t\t\t\t\t\t\t\tfunction rename_identifiers(param) {\n\t\t\t\t\t\t\t\t\tswitch (param.type) {\n\t\t\t\t\t\t\t\t\t\tcase 'ObjectPattern': {\n\t\t\t\t\t\t\t\t\t\t\t/** @param {import('estree').Property | import('estree').RestElement} prop */\n\t\t\t\t\t\t\t\t\t\t\tconst handle_prop = (prop) => {\n\t\t\t\t\t\t\t\t\t\t\t\tif (prop.type === 'RestElement') {\n\t\t\t\t\t\t\t\t\t\t\t\t\trename_identifiers(prop);\n\t\t\t\t\t\t\t\t\t\t\t\t} else if (prop.value.type === 'Identifier') {\n\t\t\t\t\t\t\t\t\t\t\t\t\tprop.value = get_new_name(prop.value);\n\t\t\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t\t\trename_identifiers(/** @type {import('estree').Pattern} */ (prop.value));\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\t\t\t\tparam.properties.forEach(handle_prop);\n\t\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tcase 'ArrayPattern': {\n\t\t\t\t\t\t\t\t\t\t\t/**\n\t\t\t\t\t\t\t\t\t\t\t * @param {import('estree').Pattern | null} element\n\t\t\t\t\t\t\t\t\t\t\t * @param {number} index\n\t\t\t\t\t\t\t\t\t\t\t * @param {Array<import('estree').Pattern | null>} array\n\t\t\t\t\t\t\t\t\t\t\t */\n\t\t\t\t\t\t\t\t\t\t\tconst handle_element = (element, index, array) => {\n\t\t\t\t\t\t\t\t\t\t\t\tif (element) {\n\t\t\t\t\t\t\t\t\t\t\t\t\tif (element.type === 'Identifier') {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tarray[index] = get_new_name(element);\n\t\t\t\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\trename_identifiers(element);\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\t\t\t\tparam.elements.forEach(handle_element);\n\t\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tcase 'RestElement':\n\t\t\t\t\t\t\t\t\t\t\tif (param.argument.type === 'Identifier') {\n\t\t\t\t\t\t\t\t\t\t\t\tparam.argument = get_new_name(param.argument);\n\t\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t\trename_identifiers(param.argument);\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t\tcase 'AssignmentPattern':\n\t\t\t\t\t\t\t\t\t\t\tif (param.left.type === 'Identifier') {\n\t\t\t\t\t\t\t\t\t\t\t\tparam.left = get_new_name(param.left);\n\t\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t\trename_identifiers(param.left);\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\trename_identifiers(declarator.id);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tconst { name } = declarator.id;\n\t\t\t\t\t\t\t\tconst variable = component.var_lookup.get(name);\n\t\t\t\t\t\t\t\tconst is_props = variable.export_name && variable.writable;\n\t\t\t\t\t\t\t\tif (is_props) {\n\t\t\t\t\t\t\t\t\tadd_new_props(\n\t\t\t\t\t\t\t\t\t\t{ type: 'Identifier', name: variable.export_name },\n\t\t\t\t\t\t\t\t\t\tdeclarator.id,\n\t\t\t\t\t\t\t\t\t\tdeclarator.init\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\tnode.declarations.splice(index--, 1);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif (variable.subscribable && (is_props || declarator.init)) {\n\t\t\t\t\t\t\t\t\tinserts.push(get_insert(variable));\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis.replace(\n\t\t\t\t\t\t\t/** @type {any} */ (\n\t\t\t\t\t\t\t\tb`\n\t\t\t\t\t\t\t${node.declarations.length ? node : null}\n\t\t\t\t\t\t\t${props.length > 0 && b`let { ${props} } = $$props;`}\n\t\t\t\t\t\t\t${inserts}\n\t\t\t\t\t\t`\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t);\n\t\t\t\t\t\treturn this.skip();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\n\t\t\t/** @param {import('estree').Node} node */\n\t\t\tleave(node) {\n\t\t\t\tif (map.has(node)) {\n\t\t\t\t\tscope = scope.parent;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t}\n\thoist_instance_declarations() {\n\t\t// we can safely hoist variable declarations that are\n\t\t// initialised to literals, and functions that don't\n\t\t// reference instance variables other than other\n\t\t// hoistable functions. TODO others?\n\t\tconst { hoistable_nodes, var_lookup, injected_reactive_declaration_vars, imports } = this;\n\t\tconst top_level_function_declarations = new Map();\n\t\tconst { body } = this.ast.instance.content;\n\t\tfor (let i = 0; i < body.length; i += 1) {\n\t\t\tconst node = body[i];\n\t\t\tif (node.type === 'VariableDeclaration') {\n\t\t\t\tconst all_hoistable = node.declarations.every((d) => {\n\t\t\t\t\tif (!d.init) return false;\n\t\t\t\t\tif (d.init.type !== 'Literal') return false;\n\t\t\t\t\t// everything except const values can be changed by e.g. svelte devtools\n\t\t\t\t\t// which means we can't hoist it\n\t\t\t\t\tif (node.kind !== 'const' && this.compile_options.dev) return false;\n\t\t\t\t\tfor (const name of extract_names(d.id)) {\n\t\t\t\t\t\tconst v = this.var_lookup.get(name);\n\t\t\t\t\t\tif (v.reassigned) return false;\n\t\t\t\t\t\tif (v.export_name) return false;\n\n\t\t\t\t\t\tif (this.vars.find((variable) => variable.name === name && variable.module)) {\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\treturn true;\n\t\t\t\t});\n\t\t\t\tif (all_hoistable) {\n\t\t\t\t\tnode.declarations.forEach((d) => {\n\t\t\t\t\t\tfor (const name of extract_names(d.id)) {\n\t\t\t\t\t\t\tthis.var_lookup.get(name).hoistable = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\thoistable_nodes.add(node);\n\t\t\t\t\tbody.splice(i--, 1);\n\t\t\t\t\tthis.fully_hoisted.push(node);\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (\n\t\t\t\tnode.type === 'ExportNamedDeclaration' &&\n\t\t\t\tnode.declaration &&\n\t\t\t\tnode.declaration.type === 'FunctionDeclaration'\n\t\t\t) {\n\t\t\t\ttop_level_function_declarations.set(node.declaration.id.name, node);\n\t\t\t}\n\t\t\tif (node.type === 'FunctionDeclaration') {\n\t\t\t\ttop_level_function_declarations.set(node.id.name, node);\n\t\t\t}\n\t\t}\n\t\tconst checked = new Set();\n\t\tconst walking = new Set();\n\n\t\t/** @param {any} fn_declaration */\n\t\tconst is_hoistable = (fn_declaration) => {\n\t\t\tif (fn_declaration.type === 'ExportNamedDeclaration') {\n\t\t\t\tfn_declaration = fn_declaration.declaration;\n\t\t\t}\n\t\t\tconst instance_scope = this.instance_scope;\n\t\t\tlet scope = this.instance_scope;\n\t\t\tconst map = this.instance_scope_map;\n\t\t\tlet hoistable = true;\n\t\t\t// handle cycles\n\t\t\twalking.add(fn_declaration);\n\t\t\twalk(fn_declaration, {\n\t\t\t\t/** @type {import('estree-walker').SyncHandler} */\n\t\t\t\tenter(node, parent) {\n\t\t\t\t\tif (!hoistable) return this.skip();\n\t\t\t\t\tif (map.has(node)) {\n\t\t\t\t\t\tscope = map.get(node);\n\t\t\t\t\t}\n\t\t\t\t\tif (\n\t\t\t\t\t\tis_reference(\n\t\t\t\t\t\t\t/** @type {import('is-reference').NodeWithPropertyDefinition} */ (node),\n\t\t\t\t\t\t\t/** @type {import('is-reference').NodeWithPropertyDefinition} */ (parent)\n\t\t\t\t\t\t)\n\t\t\t\t\t) {\n\t\t\t\t\t\tconst { name } = flatten_reference(node);\n\t\t\t\t\t\tconst owner = scope.find_owner(name);\n\t\t\t\t\t\tif (injected_reactive_declaration_vars.has(name)) {\n\t\t\t\t\t\t\thoistable = false;\n\t\t\t\t\t\t} else if (name[0] === '$' && !owner) {\n\t\t\t\t\t\t\thoistable = false;\n\t\t\t\t\t\t} else if (owner === instance_scope) {\n\t\t\t\t\t\t\tconst variable = var_lookup.get(name);\n\t\t\t\t\t\t\tif (variable.reassigned || variable.mutated) hoistable = false;\n\t\t\t\t\t\t\tif (name === fn_declaration.id.name) return;\n\t\t\t\t\t\t\tif (variable.hoistable) return;\n\t\t\t\t\t\t\tif (top_level_function_declarations.has(name)) {\n\t\t\t\t\t\t\t\tconst other_declaration = top_level_function_declarations.get(name);\n\t\t\t\t\t\t\t\tif (walking.has(other_declaration)) {\n\t\t\t\t\t\t\t\t\thoistable = false;\n\t\t\t\t\t\t\t\t} else if (\n\t\t\t\t\t\t\t\t\tother_declaration.type === 'ExportNamedDeclaration' &&\n\t\t\t\t\t\t\t\t\twalking.has(other_declaration.declaration)\n\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\thoistable = false;\n\t\t\t\t\t\t\t\t} else if (!is_hoistable(other_declaration)) {\n\t\t\t\t\t\t\t\t\thoistable = false;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\thoistable = false;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis.skip();\n\t\t\t\t\t}\n\t\t\t\t},\n\n\t\t\t\t/** @param {import('estree').Node} node */\n\t\t\t\tleave(node) {\n\t\t\t\t\tif (map.has(node)) {\n\t\t\t\t\t\tscope = scope.parent;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t\tchecked.add(fn_declaration);\n\t\t\twalking.delete(fn_declaration);\n\t\t\treturn hoistable;\n\t\t};\n\t\tfor (const [name, node] of top_level_function_declarations) {\n\t\t\tif (is_hoistable(node)) {\n\t\t\t\tconst variable = this.var_lookup.get(name);\n\t\t\t\tvariable.hoistable = true;\n\t\t\t\thoistable_nodes.add(node);\n\t\t\t\tconst i = body.indexOf(node);\n\t\t\t\tbody.splice(i, 1);\n\t\t\t\tthis.fully_hoisted.push(node);\n\t\t\t}\n\t\t}\n\t\tfor (const { specifiers } of imports) {\n\t\t\tfor (const specifier of specifiers) {\n\t\t\t\tconst variable = var_lookup.get(specifier.local.name);\n\t\t\t\tif (!variable.mutated || variable.subscribable) {\n\t\t\t\t\tvariable.hoistable = true;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\textract_reactive_declarations() {\n\t\tconst component = this;\n\t\t/**\n\t\t * @type {Array<{\n\t\t * \t\t\tassignees: Set<string>;\n\t\t * \t\t\tdependencies: Set<string>;\n\t\t * \t\t\tnode: import('estree').Node;\n\t\t * \t\t\tdeclaration: import('estree').Node;\n\t\t * \t\t}>}\n\t\t */\n\t\tconst unsorted_reactive_declarations = [];\n\t\tthis.ast.instance.content.body.forEach((node) => {\n\t\t\tconst ignores = extract_svelte_ignore_from_comments(node);\n\t\t\tif (ignores.length) this.push_ignores(ignores);\n\t\t\tif (node.type === 'LabeledStatement' && node.label.name === '$') {\n\t\t\t\tthis.reactive_declaration_nodes.add(node);\n\t\t\t\tconst assignees = new Set();\n\t\t\t\tconst assignee_nodes = new Set();\n\t\t\t\tconst dependencies = new Set();\n\t\t\t\tconst module_dependencies = new Set();\n\t\t\t\tlet scope = this.instance_scope;\n\t\t\t\tconst { declarations: outset_scope_decalarations } = this.instance_scope;\n\t\t\t\tconst map = this.instance_scope_map;\n\t\t\t\twalk(node.body, {\n\t\t\t\t\t/** @type {import('estree-walker').SyncHandler} */\n\t\t\t\t\tenter(node, parent) {\n\t\t\t\t\t\tif (node.type === 'VariableDeclaration' && node.kind === 'var') {\n\t\t\t\t\t\t\tconst is_var_in_outset = node.declarations.some(\n\t\t\t\t\t\t\t\t/** @param {import('estree').VariableDeclarator} declaration */ (declaration) => {\n\t\t\t\t\t\t\t\t\t/** @type {string[]} */\n\t\t\t\t\t\t\t\t\tconst names = extract_names(declaration.id);\n\t\t\t\t\t\t\t\t\treturn !!names.find(\n\t\t\t\t\t\t\t\t\t\t/** @param {string} name */ (name) => {\n\t\t\t\t\t\t\t\t\t\t\tconst var_node = outset_scope_decalarations.get(name);\n\t\t\t\t\t\t\t\t\t\t\treturn var_node === node;\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tif (is_var_in_outset) {\n\t\t\t\t\t\t\t\treturn component.error(\n\t\t\t\t\t\t\t\t\t/** @type {any} */ (node),\n\t\t\t\t\t\t\t\t\tcompiler_errors.invalid_var_declaration\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (map.has(node)) {\n\t\t\t\t\t\t\tscope = map.get(node);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (node.type === 'AssignmentExpression') {\n\t\t\t\t\t\t\tconst left = get_object(node.left);\n\t\t\t\t\t\t\textract_identifiers(left).forEach((node) => {\n\t\t\t\t\t\t\t\tassignee_nodes.add(node);\n\t\t\t\t\t\t\t\tassignees.add(node.name);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tif (node.operator !== '=') {\n\t\t\t\t\t\t\t\tdependencies.add(left.name);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else if (node.type === 'UpdateExpression') {\n\t\t\t\t\t\t\tconst identifier = get_object(node.argument);\n\t\t\t\t\t\t\tassignees.add(identifier.name);\n\t\t\t\t\t\t} else if (\n\t\t\t\t\t\t\tis_reference(\n\t\t\t\t\t\t\t\t/** @type {import('is-reference').NodeWithPropertyDefinition} */ (node),\n\t\t\t\t\t\t\t\t/** @type {import('is-reference').NodeWithPropertyDefinition} */ (parent)\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tconst identifier = get_object(node);\n\t\t\t\t\t\t\tif (!assignee_nodes.has(identifier)) {\n\t\t\t\t\t\t\t\tconst { name } = identifier;\n\t\t\t\t\t\t\t\tconst owner = scope.find_owner(name);\n\t\t\t\t\t\t\t\tconst variable = component.var_lookup.get(name);\n\t\t\t\t\t\t\t\tlet should_add_as_dependency = true;\n\t\t\t\t\t\t\t\tif (variable) {\n\t\t\t\t\t\t\t\t\tvariable.is_reactive_dependency = true;\n\t\t\t\t\t\t\t\t\tif (variable.module && variable.writable) {\n\t\t\t\t\t\t\t\t\t\tshould_add_as_dependency = false;\n\t\t\t\t\t\t\t\t\t\tmodule_dependencies.add(name);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tconst is_writable_or_mutated = variable && (variable.writable || variable.mutated);\n\t\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t\tshould_add_as_dependency &&\n\t\t\t\t\t\t\t\t\t(!owner || owner === component.instance_scope) &&\n\t\t\t\t\t\t\t\t\t(name[0] === '$' || is_writable_or_mutated)\n\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\tdependencies.add(name);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tthis.skip();\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\n\t\t\t\t\t/** @param {import('estree').Node} node */\n\t\t\t\t\tleave(node) {\n\t\t\t\t\t\tif (map.has(node)) {\n\t\t\t\t\t\t\tscope = scope.parent;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tif (module_dependencies.size > 0 && dependencies.size === 0) {\n\t\t\t\t\tcomponent.warn(\n\t\t\t\t\t\t/** @type {any} */ (node.body),\n\t\t\t\t\t\tcompiler_warnings.module_script_variable_reactive_declaration(\n\t\t\t\t\t\t\tArray.from(module_dependencies)\n\t\t\t\t\t\t)\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t\tconst { expression } = /** @type {import('estree').ExpressionStatement} */ (node.body);\n\t\t\t\tconst declaration =\n\t\t\t\t\texpression && /** @type {import('estree').AssignmentExpression} */ (expression).left;\n\t\t\t\tunsorted_reactive_declarations.push({\n\t\t\t\t\tassignees,\n\t\t\t\t\tdependencies,\n\t\t\t\t\tnode,\n\t\t\t\t\tdeclaration\n\t\t\t\t});\n\t\t\t}\n\t\t\tif (ignores.length) this.pop_ignores();\n\t\t});\n\t\tconst lookup = new Map();\n\t\tunsorted_reactive_declarations.forEach((declaration) => {\n\t\t\tdeclaration.assignees.forEach((name) => {\n\t\t\t\tif (!lookup.has(name)) {\n\t\t\t\t\tlookup.set(name, []);\n\t\t\t\t}\n\t\t\t\t// TODO warn or error if a name is assigned to in\n\t\t\t\t// multiple reactive declarations?\n\t\t\t\tlookup.get(name).push(declaration);\n\t\t\t});\n\t\t});\n\t\tconst cycle = check_graph_for_cycles(\n\t\t\tunsorted_reactive_declarations.reduce((acc, declaration) => {\n\t\t\t\tdeclaration.assignees.forEach((v) => {\n\t\t\t\t\tdeclaration.dependencies.forEach((w) => {\n\t\t\t\t\t\tif (!declaration.assignees.has(w)) {\n\t\t\t\t\t\t\tacc.push([v, w]);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t\treturn acc;\n\t\t\t}, [])\n\t\t);\n\t\tif (cycle && cycle.length) {\n\t\t\tconst declaration_list = lookup.get(cycle[0]);\n\t\t\tconst declaration = declaration_list[0];\n\t\t\treturn this.error(declaration.node, compiler_errors.cyclical_reactive_declaration(cycle));\n\t\t}\n\n\t\t/** @param {any} declaration */\n\t\tconst add_declaration = (declaration) => {\n\t\t\tif (this.reactive_declarations.includes(declaration)) return;\n\t\t\tdeclaration.dependencies.forEach((name) => {\n\t\t\t\tif (declaration.assignees.has(name)) return;\n\t\t\t\tconst earlier_declarations = lookup.get(name);\n\t\t\t\tif (earlier_declarations) {\n\t\t\t\t\tearlier_declarations.forEach(add_declaration);\n\t\t\t\t}\n\t\t\t});\n\t\t\tthis.reactive_declarations.push(declaration);\n\t\t};\n\t\tunsorted_reactive_declarations.forEach(add_declaration);\n\t}\n\tcheck_if_tags_content_dynamic() {\n\t\tthis.tags.forEach((tag) => {\n\t\t\ttag.check_if_content_dynamic();\n\t\t});\n\t}\n\n\t/**\n\t * @param {string} name\n\t * @param {any} node\n\t * @param {import('./nodes/shared/TemplateScope.js').default} template_scope\n\t * @param {import(\"./nodes/shared/Node.js\").default} [owner]\n\t */\n\twarn_if_undefined(name, node, template_scope, owner) {\n\t\tif (name[0] === '$') {\n\t\t\tif (name === '$' || (name[1] === '$' && !is_reserved_keyword(name))) {\n\t\t\t\treturn this.error(node, compiler_errors.illegal_global(name));\n\t\t\t}\n\t\t\tthis.has_reactive_assignments = true; // TODO does this belong here?\n\t\t\tif (is_reserved_keyword(name)) return;\n\t\t\tname = name.slice(1);\n\t\t}\n\t\tif (this.var_lookup.has(name) && !this.var_lookup.get(name).global) return;\n\t\tif (template_scope && template_scope.names.has(name)) return;\n\t\tif (globals.has(name) && node.type !== 'InlineComponent') return;\n\n\t\tfunction has_out_of_scope_let() {\n\t\t\tfor (let parent = owner.parent; parent; parent = parent.parent) {\n\t\t\t\tif (parent.type === 'InlineComponent') {\n\t\t\t\t\tconst { let_attributes } = parent;\n\n\t\t\t\t\tfor (const attr of let_attributes) {\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t// @ts-expect-error\n\t\t\t\t\t\t\t// TODO extract_names only considers patterns but let attributes return expressions\n\t\t\t\t\t\t\t(attr.expression && extract_names(attr.expression).includes(name)) ||\n\t\t\t\t\t\t\tattr.name === name\n\t\t\t\t\t\t)\n\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn false;\n\t\t}\n\n\t\tif (owner && has_out_of_scope_let()) {\n\t\t\treturn this.warn(node, {\n\t\t\t\tcode: 'missing-declaration',\n\t\t\t\tmessage: `let:${name} declared on parent component cannot be used inside named slot`\n\t\t\t});\n\t\t}\n\n\t\tthis.warn(node, compiler_warnings.missing_declaration(name, !!this.ast.instance));\n\t}\n\n\t/** @param {any} ignores */\n\tpush_ignores(ignores) {\n\t\tthis.ignores = new Set(this.ignores || []);\n\t\tadd_to_set(this.ignores, ignores);\n\t\tthis.ignore_stack.push(this.ignores);\n\t}\n\tpop_ignores() {\n\t\tthis.ignore_stack.pop();\n\t\tthis.ignores = this.ignore_stack[this.ignore_stack.length - 1];\n\t}\n}\nconst regex_valid_tag_name = /^[a-zA-Z][a-zA-Z0-9]*-[a-zA-Z0-9-]+$/;\n\n/**\n * @param {Component} component\n * @param {any} nodes\n */\nfunction process_component_options(component, nodes) {\n\t/** @type {ComponentOptions} */\n\tconst component_options = {\n\t\timmutable: component.compile_options.immutable || false,\n\t\taccessors:\n\t\t\t'accessors' in component.compile_options\n\t\t\t\t? component.compile_options.accessors\n\t\t\t\t: !!component.compile_options.customElement,\n\t\tpreserveWhitespace: !!component.compile_options.preserveWhitespace,\n\t\tnamespace: component.compile_options.namespace\n\t};\n\tconst node = nodes.find((node) => node.name === 'svelte:options');\n\n\t/**\n\t * @param {any} attribute\n\t * @param {any} params_0\n\t */\n\tfunction get_value(attribute, { code, message }) {\n\t\tconst { value } = attribute;\n\t\tconst chunk = value[0];\n\t\tif (!chunk) return true;\n\t\tif (value.length > 1) {\n\t\t\treturn component.error(attribute, { code, message });\n\t\t}\n\t\tif (chunk.type === 'Text') return chunk.data;\n\t\tif (chunk.expression.type !== 'Literal') {\n\t\t\treturn component.error(attribute, { code, message });\n\t\t}\n\t\treturn chunk.expression.value;\n\t}\n\tif (node) {\n\t\tnode.attributes.forEach((attribute) => {\n\t\t\tif (attribute.type === 'Attribute') {\n\t\t\t\tconst { name } = attribute;\n\n\t\t\t\t/**\n\t\t\t\t * @param {import('../interfaces.js').Attribute} attribute\n\t\t\t\t * @param {string} tag\n\t\t\t\t */\n\t\t\t\tfunction parse_tag(attribute, tag) {\n\t\t\t\t\tif (typeof tag !== 'string' && tag !== null) {\n\t\t\t\t\t\treturn component.error(attribute, compiler_errors.invalid_tag_attribute);\n\t\t\t\t\t}\n\t\t\t\t\tif (tag && !regex_valid_tag_name.test(tag)) {\n\t\t\t\t\t\treturn component.error(attribute, compiler_errors.invalid_tag_property);\n\t\t\t\t\t}\n\t\t\t\t\tif (tag && !component.compile_options.customElement) {\n\t\t\t\t\t\tcomponent.warn(attribute, compiler_warnings.missing_custom_element_compile_options);\n\t\t\t\t\t}\n\t\t\t\t\tcomponent_options.customElement =\n\t\t\t\t\t\tcomponent_options.customElement || /** @type {any} */ ({});\n\t\t\t\t\tcomponent_options.customElement.tag = tag;\n\t\t\t\t}\n\t\t\t\tswitch (name) {\n\t\t\t\t\tcase 'tag': {\n\t\t\t\t\t\tcomponent.warn(attribute, compiler_warnings.tag_option_deprecated);\n\t\t\t\t\t\tparse_tag(attribute, get_value(attribute, compiler_errors.invalid_tag_attribute));\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tcase 'customElement': {\n\t\t\t\t\t\tcomponent_options.customElement =\n\t\t\t\t\t\t\tcomponent_options.customElement || /** @type {any} */ ({});\n\n\t\t\t\t\t\tconst { value } = attribute;\n\t\t\t\t\t\tif (value[0].type === 'MustacheTag' && value[0].expression?.value === null) {\n\t\t\t\t\t\t\tcomponent_options.customElement.tag = null;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t} else if (value[0].type === 'Text') {\n\t\t\t\t\t\t\tparse_tag(attribute, get_value(attribute, compiler_errors.invalid_tag_attribute));\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t} else if (value[0].expression.type !== 'ObjectExpression') {\n\t\t\t\t\t\t\treturn component.error(attribute, compiler_errors.invalid_customElement_attribute);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tconst tag = value[0].expression.properties.find((prop) => prop.key.name === 'tag');\n\t\t\t\t\t\tif (tag) {\n\t\t\t\t\t\t\tparse_tag(tag, tag.value?.value);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\treturn component.error(attribute, compiler_errors.invalid_customElement_attribute);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tconst props = value[0].expression.properties.find((prop) => prop.key.name === 'props');\n\t\t\t\t\t\tif (props) {\n\t\t\t\t\t\t\tconst error = () =>\n\t\t\t\t\t\t\t\tcomponent.error(attribute, compiler_errors.invalid_props_attribute);\n\t\t\t\t\t\t\tif (props.value?.type !== 'ObjectExpression') {\n\t\t\t\t\t\t\t\treturn error();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tcomponent_options.customElement.props = {};\n\t\t\t\t\t\t\tfor (const property of /** @type {import('estree').ObjectExpression} */ (props.value)\n\t\t\t\t\t\t\t\t.properties) {\n\t\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t\tproperty.type !== 'Property' ||\n\t\t\t\t\t\t\t\t\tproperty.computed ||\n\t\t\t\t\t\t\t\t\tproperty.key.type !== 'Identifier' ||\n\t\t\t\t\t\t\t\t\tproperty.value.type !== 'ObjectExpression'\n\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\treturn error();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tcomponent_options.customElement.props[property.key.name] = {};\n\t\t\t\t\t\t\t\tfor (const prop of property.value.properties) {\n\t\t\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t\t\tprop.type !== 'Property' ||\n\t\t\t\t\t\t\t\t\t\tprop.computed ||\n\t\t\t\t\t\t\t\t\t\tprop.key.type !== 'Identifier' ||\n\t\t\t\t\t\t\t\t\t\tprop.value.type !== 'Literal'\n\t\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\t\treturn error();\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t\t\t['reflect', 'attribute', 'type'].indexOf(prop.key.name) === -1 ||\n\t\t\t\t\t\t\t\t\t\t(prop.key.name === 'type' &&\n\t\t\t\t\t\t\t\t\t\t\t['String', 'Number', 'Boolean', 'Array', 'Object'].indexOf(\n\t\t\t\t\t\t\t\t\t\t\t\t/** @type {string} */ (prop.value.value)\n\t\t\t\t\t\t\t\t\t\t\t) === -1) ||\n\t\t\t\t\t\t\t\t\t\t(prop.key.name === 'reflect' && typeof prop.value.value !== 'boolean') ||\n\t\t\t\t\t\t\t\t\t\t(prop.key.name === 'attribute' && typeof prop.value.value !== 'string')\n\t\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\t\treturn error();\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tcomponent_options.customElement.props[property.key.name][prop.key.name] =\n\t\t\t\t\t\t\t\t\t\tprop.value.value;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tconst shadow = value[0].expression.properties.find(\n\t\t\t\t\t\t\t(prop) => prop.key.name === 'shadow'\n\t\t\t\t\t\t);\n\t\t\t\t\t\tif (shadow) {\n\t\t\t\t\t\t\tconst shadowdom = shadow.value?.value;\n\t\t\t\t\t\t\tif (shadowdom !== 'open' && shadowdom !== 'none') {\n\t\t\t\t\t\t\t\treturn component.error(shadow, compiler_errors.invalid_shadow_attribute);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tcomponent_options.customElement.shadow = shadowdom;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tconst extend = value[0].expression.properties.find(\n\t\t\t\t\t\t\t(prop) => prop.key.name === 'extend'\n\t\t\t\t\t\t);\n\t\t\t\t\t\tif (extend?.value) {\n\t\t\t\t\t\t\tcomponent_options.customElement.extend = extend.value;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tcase 'namespace': {\n\t\t\t\t\t\tconst ns = get_value(attribute, compiler_errors.invalid_namespace_attribute);\n\t\t\t\t\t\tif (typeof ns !== 'string') {\n\t\t\t\t\t\t\treturn component.error(attribute, compiler_errors.invalid_namespace_attribute);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (valid_namespaces.indexOf(ns) === -1) {\n\t\t\t\t\t\t\tconst match = fuzzymatch(ns, valid_namespaces);\n\t\t\t\t\t\t\treturn component.error(\n\t\t\t\t\t\t\t\tattribute,\n\t\t\t\t\t\t\t\tcompiler_errors.invalid_namespace_property(ns, match)\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tcomponent_options.namespace = ns;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tcase 'accessors':\n\t\t\t\t\tcase 'immutable':\n\t\t\t\t\tcase 'preserveWhitespace': {\n\t\t\t\t\t\tconst value = get_value(attribute, compiler_errors.invalid_attribute_value(name));\n\t\t\t\t\t\tif (typeof value !== 'boolean') {\n\t\t\t\t\t\t\treturn component.error(attribute, compiler_errors.invalid_attribute_value(name));\n\t\t\t\t\t\t}\n\t\t\t\t\t\tcomponent_options[name] = value;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tdefault:\n\t\t\t\t\t\treturn component.error(\n\t\t\t\t\t\t\tattribute,\n\t\t\t\t\t\t\tcompiler_errors.invalid_options_attribute_unknown(name)\n\t\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\treturn component.error(attribute, compiler_errors.invalid_options_attribute);\n\t\t\t}\n\t\t});\n\t}\n\treturn component_options;\n}\n\n/**\n * @param {string} from\n * @param {string} to\n */\nfunction get_relative_path(from, to) {\n\tconst from_parts = from.split(/[/\\\\]/);\n\tconst to_parts = to.split(/[/\\\\]/);\n\tfrom_parts.pop(); // get dirname\n\twhile (from_parts[0] === to_parts[0]) {\n\t\tfrom_parts.shift();\n\t\tto_parts.shift();\n\t}\n\tif (from_parts.length) {\n\t\tlet i = from_parts.length;\n\t\twhile (i--) from_parts[i] = '..';\n\t}\n\treturn from_parts.concat(to_parts).join('/');\n}\n\n/** @param {string} filename */\nfunction get_basename(filename) {\n\treturn filename.split(/[/\\\\]/).pop();\n}\n\n/** @param {import('../interfaces.js').CompileOptions} compile_options */\nfunction get_sourcemap_source_filename(compile_options) {\n\tif (!compile_options.filename) return null;\n\treturn compile_options.outputFilename\n\t\t? get_relative_path(compile_options.outputFilename, compile_options.filename)\n\t\t: get_basename(compile_options.filename);\n}\n\n/**\n * @typedef {Object} ComponentOptions\n * @property {string} [namespace]\n * @property {boolean} [immutable]\n * @property {boolean} [accessors]\n * @property {boolean} [preserveWhitespace]\n * @property {Object} [customElement]\n * @property {string|null} customElement.tag\n * @property {'open'|'none'} [customElement.shadow]\n * @property {Record<string,{attribute?:string;reflect?:boolean;type?:'String'|'Boolean'|'Number'|'Array'|'Object';}>} [customElement.props]\n * @property {(ceClass: new () => HTMLElement) => new () => HTMLElement} [customElement.extend]\n */\n", "/** ----------------------------------------------------------------------\nThis file is automatically generated by `scripts/globals-extractor.js`.\nGenerated At: 2023-08-11T04:11:50.562Z\n---------------------------------------------------------------------- */\n\nexport default new Set([\n\t'AbortController',\n\t'AbortSignal',\n\t'AbstractRange',\n\t'ActiveXObject',\n\t'AggregateError',\n\t'AnalyserNode',\n\t'Animation',\n\t'AnimationEffect',\n\t'AnimationEvent',\n\t'AnimationPlaybackEvent',\n\t'AnimationTimeline',\n\t'Array',\n\t'ArrayBuffer',\n\t'Atomics',\n\t'Attr',\n\t'Audio',\n\t'AudioBuffer',\n\t'AudioBufferSourceNode',\n\t'AudioContext',\n\t'AudioDestinationNode',\n\t'AudioListener',\n\t'AudioNode',\n\t'AudioParam',\n\t'AudioParamMap',\n\t'AudioProcessingEvent',\n\t'AudioScheduledSourceNode',\n\t'AudioWorklet',\n\t'AudioWorkletNode',\n\t'AuthenticatorAssertionResponse',\n\t'AuthenticatorAttestationResponse',\n\t'AuthenticatorResponse',\n\t'BarProp',\n\t'BaseAudioContext',\n\t'BeforeUnloadEvent',\n\t'BigInt',\n\t'BigInt64Array',\n\t'BigUint64Array',\n\t'BiquadFilterNode',\n\t'Blob',\n\t'BlobEvent',\n\t'Boolean',\n\t'BroadcastChannel',\n\t'ByteLengthQueuingStrategy',\n\t'CDATASection',\n\t'CSS',\n\t'CSSAnimation',\n\t'CSSConditionRule',\n\t'CSSCounterStyleRule',\n\t'CSSFontFaceRule',\n\t'CSSGroupingRule',\n\t'CSSImportRule',\n\t'CSSKeyframeRule',\n\t'CSSKeyframesRule',\n\t'CSSMediaRule',\n\t'CSSNamespaceRule',\n\t'CSSPageRule',\n\t'CSSRule',\n\t'CSSRuleList',\n\t'CSSStyleDeclaration',\n\t'CSSStyleRule',\n\t'CSSStyleSheet',\n\t'CSSSupportsRule',\n\t'CSSTransition',\n\t'Cache',\n\t'CacheStorage',\n\t'CanvasCaptureMediaStreamTrack',\n\t'CanvasGradient',\n\t'CanvasPattern',\n\t'CanvasRenderingContext2D',\n\t'ChannelMergerNode',\n\t'ChannelSplitterNode',\n\t'CharacterData',\n\t'ClientRect',\n\t'Clipboard',\n\t'ClipboardEvent',\n\t'ClipboardItem',\n\t'CloseEvent',\n\t'Comment',\n\t'CompositionEvent',\n\t'ConstantSourceNode',\n\t'ConvolverNode',\n\t'CountQueuingStrategy',\n\t'Credential',\n\t'CredentialsContainer',\n\t'Crypto',\n\t'CryptoKey',\n\t'CustomElementRegistry',\n\t'CustomEvent',\n\t'DOMException',\n\t'DOMImplementation',\n\t'DOMMatrix',\n\t'DOMMatrixReadOnly',\n\t'DOMParser',\n\t'DOMPoint',\n\t'DOMPointReadOnly',\n\t'DOMQuad',\n\t'DOMRect',\n\t'DOMRectList',\n\t'DOMRectReadOnly',\n\t'DOMStringList',\n\t'DOMStringMap',\n\t'DOMTokenList',\n\t'DataTransfer',\n\t'DataTransferItem',\n\t'DataTransferItemList',\n\t'DataView',\n\t'Date',\n\t'DelayNode',\n\t'DeviceMotionEvent',\n\t'DeviceOrientationEvent',\n\t'Document',\n\t'DocumentFragment',\n\t'DocumentTimeline',\n\t'DocumentType',\n\t'DragEvent',\n\t'DynamicsCompressorNode',\n\t'Element',\n\t'ElementInternals',\n\t'Enumerator',\n\t'Error',\n\t'ErrorEvent',\n\t'EvalError',\n\t'Event',\n\t'EventCounts',\n\t'EventSource',\n\t'EventTarget',\n\t'External',\n\t'File',\n\t'FileList',\n\t'FileReader',\n\t'FileSystem',\n\t'FileSystemDirectoryEntry',\n\t'FileSystemDirectoryHandle',\n\t'FileSystemDirectoryReader',\n\t'FileSystemEntry',\n\t'FileSystemFileEntry',\n\t'FileSystemFileHandle',\n\t'FileSystemHandle',\n\t'FinalizationRegistry',\n\t'Float32Array',\n\t'Float64Array',\n\t'FocusEvent',\n\t'FontFace',\n\t'FontFaceSet',\n\t'FontFaceSetLoadEvent',\n\t'FormData',\n\t'FormDataEvent',\n\t'Function',\n\t'GainNode',\n\t'Gamepad',\n\t'GamepadButton',\n\t'GamepadEvent',\n\t'GamepadHapticActuator',\n\t'Geolocation',\n\t'GeolocationCoordinates',\n\t'GeolocationPosition',\n\t'GeolocationPositionError',\n\t'HTMLAllCollection',\n\t'HTMLAnchorElement',\n\t'HTMLAreaElement',\n\t'HTMLAudioElement',\n\t'HTMLBRElement',\n\t'HTMLBaseElement',\n\t'HTMLBodyElement',\n\t'HTMLButtonElement',\n\t'HTMLCanvasElement',\n\t'HTMLCollection',\n\t'HTMLDListElement',\n\t'HTMLDataElement',\n\t'HTMLDataListElement',\n\t'HTMLDetailsElement',\n\t'HTMLDialogElement',\n\t'HTMLDirectoryElement',\n\t'HTMLDivElement',\n\t'HTMLDocument',\n\t'HTMLElement',\n\t'HTMLEmbedElement',\n\t'HTMLFieldSetElement',\n\t'HTMLFontElement',\n\t'HTMLFormControlsCollection',\n\t'HTMLFormElement',\n\t'HTMLFrameElement',\n\t'HTMLFrameSetElement',\n\t'HTMLHRElement',\n\t'HTMLHeadElement',\n\t'HTMLHeadingElement',\n\t'HTMLHtmlElement',\n\t'HTMLIFrameElement',\n\t'HTMLImageElement',\n\t'HTMLInputElement',\n\t'HTMLLIElement',\n\t'HTMLLabelElement',\n\t'HTMLLegendElement',\n\t'HTMLLinkElement',\n\t'HTMLMapElement',\n\t'HTMLMarqueeElement',\n\t'HTMLMediaElement',\n\t'HTMLMenuElement',\n\t'HTMLMetaElement',\n\t'HTMLMeterElement',\n\t'HTMLModElement',\n\t'HTMLOListElement',\n\t'HTMLObjectElement',\n\t'HTMLOptGroupElement',\n\t'HTMLOptionElement',\n\t'HTMLOptionsCollection',\n\t'HTMLOutputElement',\n\t'HTMLParagraphElement',\n\t'HTMLParamElement',\n\t'HTMLPictureElement',\n\t'HTMLPreElement',\n\t'HTMLProgressElement',\n\t'HTMLQuoteElement',\n\t'HTMLScriptElement',\n\t'HTMLSelectElement',\n\t'HTMLSlotElement',\n\t'HTMLSourceElement',\n\t'HTMLSpanElement',\n\t'HTMLStyleElement',\n\t'HTMLTableCaptionElement',\n\t'HTMLTableCellElement',\n\t'HTMLTableColElement',\n\t'HTMLTableElement',\n\t'HTMLTableRowElement',\n\t'HTMLTableSectionElement',\n\t'HTMLTemplateElement',\n\t'HTMLTextAreaElement',\n\t'HTMLTimeElement',\n\t'HTMLTitleElement',\n\t'HTMLTrackElement',\n\t'HTMLUListElement',\n\t'HTMLUnknownElement',\n\t'HTMLVideoElement',\n\t'HashChangeEvent',\n\t'Headers',\n\t'History',\n\t'IDBCursor',\n\t'IDBCursorWithValue',\n\t'IDBDatabase',\n\t'IDBFactory',\n\t'IDBIndex',\n\t'IDBKeyRange',\n\t'IDBObjectStore',\n\t'IDBOpenDBRequest',\n\t'IDBRequest',\n\t'IDBTransaction',\n\t'IDBVersionChangeEvent',\n\t'IIRFilterNode',\n\t'IdleDeadline',\n\t'Image',\n\t'ImageBitmap',\n\t'ImageBitmapRenderingContext',\n\t'ImageData',\n\t'Infinity',\n\t'InputDeviceInfo',\n\t'InputEvent',\n\t'Int16Array',\n\t'Int32Array',\n\t'Int8Array',\n\t'InternalError',\n\t'IntersectionObserver',\n\t'IntersectionObserverEntry',\n\t'Intl',\n\t'JSON',\n\t'KeyboardEvent',\n\t'KeyframeEffect',\n\t'Location',\n\t'Lock',\n\t'LockManager',\n\t'Map',\n\t'Math',\n\t'MathMLElement',\n\t'MediaCapabilities',\n\t'MediaDeviceInfo',\n\t'MediaDevices',\n\t'MediaElementAudioSourceNode',\n\t'MediaEncryptedEvent',\n\t'MediaError',\n\t'MediaKeyMessageEvent',\n\t'MediaKeySession',\n\t'MediaKeyStatusMap',\n\t'MediaKeySystemAccess',\n\t'MediaKeys',\n\t'MediaList',\n\t'MediaMetadata',\n\t'MediaQueryList',\n\t'MediaQueryListEvent',\n\t'MediaRecorder',\n\t'MediaRecorderErrorEvent',\n\t'MediaSession',\n\t'MediaSource',\n\t'MediaStream',\n\t'MediaStreamAudioDestinationNode',\n\t'MediaStreamAudioSourceNode',\n\t'MediaStreamTrack',\n\t'MediaStreamTrackEvent',\n\t'MessageChannel',\n\t'MessageEvent',\n\t'MessagePort',\n\t'MimeType',\n\t'MimeTypeArray',\n\t'MouseEvent',\n\t'MutationEvent',\n\t'MutationObserver',\n\t'MutationRecord',\n\t'NaN',\n\t'NamedNodeMap',\n\t'NavigationPreloadManager',\n\t'Navigator',\n\t'NetworkInformation',\n\t'Node',\n\t'NodeFilter',\n\t'NodeIterator',\n\t'NodeList',\n\t'Notification',\n\t'Number',\n\t'Object',\n\t'OfflineAudioCompletionEvent',\n\t'OfflineAudioContext',\n\t'Option',\n\t'OscillatorNode',\n\t'OverconstrainedError',\n\t'PageTransitionEvent',\n\t'PannerNode',\n\t'Path2D',\n\t'PaymentAddress',\n\t'PaymentMethodChangeEvent',\n\t'PaymentRequest',\n\t'PaymentRequestUpdateEvent',\n\t'PaymentResponse',\n\t'Performance',\n\t'PerformanceEntry',\n\t'PerformanceEventTiming',\n\t'PerformanceMark',\n\t'PerformanceMeasure',\n\t'PerformanceNavigation',\n\t'PerformanceNavigationTiming',\n\t'PerformanceObserver',\n\t'PerformanceObserverEntryList',\n\t'PerformancePaintTiming',\n\t'PerformanceResourceTiming',\n\t'PerformanceServerTiming',\n\t'PerformanceTiming',\n\t'PeriodicWave',\n\t'PermissionStatus',\n\t'Permissions',\n\t'PictureInPictureWindow',\n\t'Plugin',\n\t'PluginArray',\n\t'PointerEvent',\n\t'PopStateEvent',\n\t'ProcessingInstruction',\n\t'ProgressEvent',\n\t'Promise',\n\t'PromiseRejectionEvent',\n\t'Proxy',\n\t'PublicKeyCredential',\n\t'PushManager',\n\t'PushSubscription',\n\t'PushSubscriptionOptions',\n\t'RTCCertificate',\n\t'RTCDTMFSender',\n\t'RTCDTMFToneChangeEvent',\n\t'RTCDataChannel',\n\t'RTCDataChannelEvent',\n\t'RTCDtlsTransport',\n\t'RTCEncodedAudioFrame',\n\t'RTCEncodedVideoFrame',\n\t'RTCError',\n\t'RTCErrorEvent',\n\t'RTCIceCandidate',\n\t'RTCIceTransport',\n\t'RTCPeerConnection',\n\t'RTCPeerConnectionIceErrorEvent',\n\t'RTCPeerConnectionIceEvent',\n\t'RTCRtpReceiver',\n\t'RTCRtpSender',\n\t'RTCRtpTransceiver',\n\t'RTCSctpTransport',\n\t'RTCSessionDescription',\n\t'RTCStatsReport',\n\t'RTCTrackEvent',\n\t'RadioNodeList',\n\t'Range',\n\t'RangeError',\n\t'ReadableByteStreamController',\n\t'ReadableStream',\n\t'ReadableStreamBYOBReader',\n\t'ReadableStreamBYOBRequest',\n\t'ReadableStreamDefaultController',\n\t'ReadableStreamDefaultReader',\n\t'ReferenceError',\n\t'Reflect',\n\t'RegExp',\n\t'RemotePlayback',\n\t'Request',\n\t'ResizeObserver',\n\t'ResizeObserverEntry',\n\t'ResizeObserverSize',\n\t'Response',\n\t'SVGAElement',\n\t'SVGAngle',\n\t'SVGAnimateElement',\n\t'SVGAnimateMotionElement',\n\t'SVGAnimateTransformElement',\n\t'SVGAnimatedAngle',\n\t'SVGAnimatedBoolean',\n\t'SVGAnimatedEnumeration',\n\t'SVGAnimatedInteger',\n\t'SVGAnimatedLength',\n\t'SVGAnimatedLengthList',\n\t'SVGAnimatedNumber',\n\t'SVGAnimatedNumberList',\n\t'SVGAnimatedPreserveAspectRatio',\n\t'SVGAnimatedRect',\n\t'SVGAnimatedString',\n\t'SVGAnimatedTransformList',\n\t'SVGAnimationElement',\n\t'SVGCircleElement',\n\t'SVGClipPathElement',\n\t'SVGComponentTransferFunctionElement',\n\t'SVGCursorElement',\n\t'SVGDefsElement',\n\t'SVGDescElement',\n\t'SVGElement',\n\t'SVGEllipseElement',\n\t'SVGFEBlendElement',\n\t'SVGFEColorMatrixElement',\n\t'SVGFEComponentTransferElement',\n\t'SVGFECompositeElement',\n\t'SVGFEConvolveMatrixElement',\n\t'SVGFEDiffuseLightingElement',\n\t'SVGFEDisplacementMapElement',\n\t'SVGFEDistantLightElement',\n\t'SVGFEDropShadowElement',\n\t'SVGFEFloodElement',\n\t'SVGFEFuncAElement',\n\t'SVGFEFuncBElement',\n\t'SVGFEFuncGElement',\n\t'SVGFEFuncRElement',\n\t'SVGFEGaussianBlurElement',\n\t'SVGFEImageElement',\n\t'SVGFEMergeElement',\n\t'SVGFEMergeNodeElement',\n\t'SVGFEMorphologyElement',\n\t'SVGFEOffsetElement',\n\t'SVGFEPointLightElement',\n\t'SVGFESpecularLightingElement',\n\t'SVGFESpotLightElement',\n\t'SVGFETileElement',\n\t'SVGFETurbulenceElement',\n\t'SVGFilterElement',\n\t'SVGForeignObjectElement',\n\t'SVGGElement',\n\t'SVGGeometryElement',\n\t'SVGGradientElement',\n\t'SVGGraphicsElement',\n\t'SVGImageElement',\n\t'SVGLength',\n\t'SVGLengthList',\n\t'SVGLineElement',\n\t'SVGLinearGradientElement',\n\t'SVGMPathElement',\n\t'SVGMarkerElement',\n\t'SVGMaskElement',\n\t'SVGMatrix',\n\t'SVGMetadataElement',\n\t'SVGNumber',\n\t'SVGNumberList',\n\t'SVGPathElement',\n\t'SVGPatternElement',\n\t'SVGPoint',\n\t'SVGPointList',\n\t'SVGPolygonElement',\n\t'SVGPolylineElement',\n\t'SVGPreserveAspectRatio',\n\t'SVGRadialGradientElement',\n\t'SVGRect',\n\t'SVGRectElement',\n\t'SVGSVGElement',\n\t'SVGScriptElement',\n\t'SVGSetElement',\n\t'SVGStopElement',\n\t'SVGStringList',\n\t'SVGStyleElement',\n\t'SVGSwitchElement',\n\t'SVGSymbolElement',\n\t'SVGTSpanElement',\n\t'SVGTextContentElement',\n\t'SVGTextElement',\n\t'SVGTextPathElement',\n\t'SVGTextPositioningElement',\n\t'SVGTitleElement',\n\t'SVGTransform',\n\t'SVGTransformList',\n\t'SVGUnitTypes',\n\t'SVGUseElement',\n\t'SVGViewElement',\n\t'SafeArray',\n\t'Screen',\n\t'ScreenOrientation',\n\t'ScriptProcessorNode',\n\t'SecurityPolicyViolationEvent',\n\t'Selection',\n\t'ServiceWorker',\n\t'ServiceWorkerContainer',\n\t'ServiceWorkerRegistration',\n\t'Set',\n\t'ShadowRoot',\n\t'SharedArrayBuffer',\n\t'SharedWorker',\n\t'SourceBuffer',\n\t'SourceBufferList',\n\t'SpeechRecognitionAlternative',\n\t'SpeechRecognitionErrorEvent',\n\t'SpeechRecognitionResult',\n\t'SpeechRecognitionResultList',\n\t'SpeechSynthesis',\n\t'SpeechSynthesisErrorEvent',\n\t'SpeechSynthesisEvent',\n\t'SpeechSynthesisUtterance',\n\t'SpeechSynthesisVoice',\n\t'StaticRange',\n\t'StereoPannerNode',\n\t'Storage',\n\t'StorageEvent',\n\t'StorageManager',\n\t'String',\n\t'StyleMedia',\n\t'StyleSheet',\n\t'StyleSheetList',\n\t'SubmitEvent',\n\t'SubtleCrypto',\n\t'Symbol',\n\t'SyntaxError',\n\t'Text',\n\t'TextDecoder',\n\t'TextDecoderStream',\n\t'TextEncoder',\n\t'TextEncoderStream',\n\t'TextMetrics',\n\t'TextTrack',\n\t'TextTrackCue',\n\t'TextTrackCueList',\n\t'TextTrackList',\n\t'TimeRanges',\n\t'Touch',\n\t'TouchEvent',\n\t'TouchList',\n\t'TrackEvent',\n\t'TransformStream',\n\t'TransformStreamDefaultController',\n\t'TransitionEvent',\n\t'TreeWalker',\n\t'TypeError',\n\t'UIEvent',\n\t'URIError',\n\t'URL',\n\t'URLSearchParams',\n\t'Uint16Array',\n\t'Uint32Array',\n\t'Uint8Array',\n\t'Uint8ClampedArray',\n\t'VBArray',\n\t'VTTCue',\n\t'VTTRegion',\n\t'ValidityState',\n\t'VarDate',\n\t'VideoColorSpace',\n\t'VideoPlaybackQuality',\n\t'VisualViewport',\n\t'WSH',\n\t'WScript',\n\t'WaveShaperNode',\n\t'WeakMap',\n\t'WeakRef',\n\t'WeakSet',\n\t'WebAssembly',\n\t'WebGL2RenderingContext',\n\t'WebGLActiveInfo',\n\t'WebGLBuffer',\n\t'WebGLContextEvent',\n\t'WebGLFramebuffer',\n\t'WebGLProgram',\n\t'WebGLQuery',\n\t'WebGLRenderbuffer',\n\t'WebGLRenderingContext',\n\t'WebGLSampler',\n\t'WebGLShader',\n\t'WebGLShaderPrecisionFormat',\n\t'WebGLSync',\n\t'WebGLTexture',\n\t'WebGLTransformFeedback',\n\t'WebGLUniformLocation',\n\t'WebGLVertexArrayObject',\n\t'WebKitCSSMatrix',\n\t'WebSocket',\n\t'WheelEvent',\n\t'Window',\n\t'Worker',\n\t'Worklet',\n\t'WritableStream',\n\t'WritableStreamDefaultController',\n\t'WritableStreamDefaultWriter',\n\t'XMLDocument',\n\t'XMLHttpRequest',\n\t'XMLHttpRequestEventTarget',\n\t'XMLHttpRequestUpload',\n\t'XMLSerializer',\n\t'XPathEvaluator',\n\t'XPathExpression',\n\t'XPathResult',\n\t'XSLTProcessor',\n\t'addEventListener',\n\t'alert',\n\t'atob',\n\t'blur',\n\t'btoa',\n\t'caches',\n\t'cancelAnimationFrame',\n\t'cancelIdleCallback',\n\t'captureEvents',\n\t'clearInterval',\n\t'clearTimeout',\n\t'clientInformation',\n\t'close',\n\t'closed',\n\t'confirm',\n\t'console',\n\t'createImageBitmap',\n\t'crossOriginIsolated',\n\t'crypto',\n\t'customElements',\n\t'decodeURI',\n\t'decodeURIComponent',\n\t'devicePixelRatio',\n\t'dispatchEvent',\n\t'document',\n\t'encodeURI',\n\t'encodeURIComponent',\n\t'escape',\n\t'eval',\n\t'event',\n\t'external',\n\t'fetch',\n\t'focus',\n\t'frameElement',\n\t'frames',\n\t'getComputedStyle',\n\t'getSelection',\n\t'global',\n\t'globalThis',\n\t'history',\n\t'importScripts',\n\t'indexedDB',\n\t'innerHeight',\n\t'innerWidth',\n\t'isFinite',\n\t'isNaN',\n\t'isSecureContext',\n\t'length',\n\t'localStorage',\n\t'location',\n\t'locationbar',\n\t'matchMedia',\n\t'menubar',\n\t'moveBy',\n\t'moveTo',\n\t'name',\n\t'navigator',\n\t'onabort',\n\t'onafterprint',\n\t'onanimationcancel',\n\t'onanimationend',\n\t'onanimationiteration',\n\t'onanimationstart',\n\t'onauxclick',\n\t'onbeforeprint',\n\t'onbeforeunload',\n\t'onblur',\n\t'oncanplay',\n\t'oncanplaythrough',\n\t'onchange',\n\t'onclick',\n\t'onclose',\n\t'oncontextmenu',\n\t'oncuechange',\n\t'ondblclick',\n\t'ondevicemotion',\n\t'ondeviceorientation',\n\t'ondrag',\n\t'ondragend',\n\t'ondragenter',\n\t'ondragleave',\n\t'ondragover',\n\t'ondragstart',\n\t'ondrop',\n\t'ondurationchange',\n\t'onemptied',\n\t'onended',\n\t'onerror',\n\t'onfocus',\n\t'onformdata',\n\t'ongamepadconnected',\n\t'ongamepaddisconnected',\n\t'ongotpointercapture',\n\t'onhashchange',\n\t'oninput',\n\t'oninvalid',\n\t'onkeydown',\n\t'onkeypress',\n\t'onkeyup',\n\t'onlanguagechange',\n\t'onload',\n\t'onloadeddata',\n\t'onloadedmetadata',\n\t'onloadstart',\n\t'onlostpointercapture',\n\t'onmessage',\n\t'onmessageerror',\n\t'onmousedown',\n\t'onmouseenter',\n\t'onmouseleave',\n\t'onmousemove',\n\t'onmouseout',\n\t'onmouseover',\n\t'onmouseup',\n\t'onoffline',\n\t'ononline',\n\t'onorientationchange',\n\t'onpagehide',\n\t'onpageshow',\n\t'onpause',\n\t'onplay',\n\t'onplaying',\n\t'onpointercancel',\n\t'onpointerdown',\n\t'onpointerenter',\n\t'onpointerleave',\n\t'onpointermove',\n\t'onpointerout',\n\t'onpointerover',\n\t'onpointerup',\n\t'onpopstate',\n\t'onprogress',\n\t'onratechange',\n\t'onrejectionhandled',\n\t'onreset',\n\t'onresize',\n\t'onscroll',\n\t'onsecuritypolicyviolation',\n\t'onseeked',\n\t'onseeking',\n\t'onselect',\n\t'onselectionchange',\n\t'onselectstart',\n\t'onslotchange',\n\t'onstalled',\n\t'onstorage',\n\t'onsubmit',\n\t'onsuspend',\n\t'ontimeupdate',\n\t'ontoggle',\n\t'ontouchcancel',\n\t'ontouchend',\n\t'ontouchmove',\n\t'ontouchstart',\n\t'ontransitioncancel',\n\t'ontransitionend',\n\t'ontransitionrun',\n\t'ontransitionstart',\n\t'onunhandledrejection',\n\t'onunload',\n\t'onvolumechange',\n\t'onwaiting',\n\t'onwebkitanimationend',\n\t'onwebkitanimationiteration',\n\t'onwebkitanimationstart',\n\t'onwebkittransitionend',\n\t'onwheel',\n\t'open',\n\t'opener',\n\t'orientation',\n\t'origin',\n\t'outerHeight',\n\t'outerWidth',\n\t'pageXOffset',\n\t'pageYOffset',\n\t'parent',\n\t'parseFloat',\n\t'parseInt',\n\t'performance',\n\t'personalbar',\n\t'postMessage',\n\t'print',\n\t'process',\n\t'prompt',\n\t'queueMicrotask',\n\t'releaseEvents',\n\t'removeEventListener',\n\t'reportError',\n\t'requestAnimationFrame',\n\t'requestIdleCallback',\n\t'resizeBy',\n\t'resizeTo',\n\t'screen',\n\t'screenLeft',\n\t'screenTop',\n\t'screenX',\n\t'screenY',\n\t'scroll',\n\t'scrollBy',\n\t'scrollTo',\n\t'scrollX',\n\t'scrollY',\n\t'scrollbars',\n\t'self',\n\t'sessionStorage',\n\t'setInterval',\n\t'setTimeout',\n\t'speechSynthesis',\n\t'status',\n\t'statusbar',\n\t'stop',\n\t'structuredClone',\n\t'toString',\n\t'toolbar',\n\t'top',\n\t'undefined',\n\t'unescape',\n\t'visualViewport',\n\t'webkitURL',\n\t'window'\n]);\n", "import { b } from 'code-red';\n\n/**\n * @param {any} program\n * @param {import('estree').Identifier} name\n * @param {string} banner\n * @param {any} svelte_path\n * @param {Array<{ name: string; alias: import('estree').Identifier }>} helpers\n * @param {Array<{ name: string; alias: import('estree').Identifier }>} globals\n * @param {import('estree').ImportDeclaration[]} imports\n * @param {Export[]} module_exports\n * @param {import('estree').ExportNamedDeclaration[]} exports_from\n */\nexport default function create_module(\n\tprogram,\n\tname,\n\tbanner,\n\tsvelte_path = 'svelte',\n\thelpers,\n\tglobals,\n\timports,\n\tmodule_exports,\n\texports_from\n) {\n\tconst internal_path = `${svelte_path}/internal`;\n\thelpers.sort((a, b) => (a.name < b.name ? -1 : 1));\n\tglobals.sort((a, b) => (a.name < b.name ? -1 : 1));\n\treturn esm(\n\t\tprogram,\n\t\tname,\n\t\tbanner,\n\t\tsvelte_path,\n\t\tinternal_path,\n\t\thelpers,\n\t\tglobals,\n\t\timports,\n\t\tmodule_exports,\n\t\texports_from\n\t);\n}\n\n/**\n * @param {any} source\n * @param {any} svelte_path\n */\nfunction edit_source(source, svelte_path) {\n\treturn source === 'svelte' || source.startsWith('svelte/')\n\t\t? source.replace('svelte', svelte_path)\n\t\t: source;\n}\n\n/**\n * @param {Array<{ name: string; alias: import('estree').Identifier }>} globals\n * @param {Array<{ name: string; alias: import('estree').Identifier }>} helpers\n */\nfunction get_internal_globals(globals, helpers) {\n\treturn (\n\t\tglobals.length > 0 && {\n\t\t\ttype: 'VariableDeclaration',\n\t\t\tkind: 'const',\n\t\t\tdeclarations: [\n\t\t\t\t{\n\t\t\t\t\ttype: 'VariableDeclarator',\n\t\t\t\t\tid: {\n\t\t\t\t\t\ttype: 'ObjectPattern',\n\t\t\t\t\t\tproperties: globals.map((g) => ({\n\t\t\t\t\t\t\ttype: 'Property',\n\t\t\t\t\t\t\tmethod: false,\n\t\t\t\t\t\t\tshorthand: false,\n\t\t\t\t\t\t\tcomputed: false,\n\t\t\t\t\t\t\tkey: { type: 'Identifier', name: g.name },\n\t\t\t\t\t\t\tvalue: g.alias,\n\t\t\t\t\t\t\tkind: 'init'\n\t\t\t\t\t\t}))\n\t\t\t\t\t},\n\t\t\t\t\tinit: helpers.find(({ name }) => name === 'globals').alias\n\t\t\t\t}\n\t\t\t]\n\t\t}\n\t);\n}\n\n/**\n * @param {any} program\n * @param {import('estree').Identifier} name\n * @param {string} banner\n * @param {string} svelte_path\n * @param {string} internal_path\n * @param {Array<{ name: string; alias: import('estree').Identifier }>} helpers\n * @param {Array<{ name: string; alias: import('estree').Identifier }>} globals\n * @param {import('estree').ImportDeclaration[]} imports\n * @param {Export[]} module_exports\n * @param {import('estree').ExportNamedDeclaration[]} exports_from\n */\nfunction esm(\n\tprogram,\n\tname,\n\tbanner,\n\tsvelte_path,\n\tinternal_path,\n\thelpers,\n\tglobals,\n\timports,\n\tmodule_exports,\n\texports_from\n) {\n\tconst import_declaration = {\n\t\ttype: 'ImportDeclaration',\n\t\tspecifiers: helpers.map((h) => ({\n\t\t\ttype: 'ImportSpecifier',\n\t\t\tlocal: h.alias,\n\t\t\timported: { type: 'Identifier', name: h.name }\n\t\t})),\n\t\tsource: { type: 'Literal', value: internal_path }\n\t};\n\tconst internal_globals = get_internal_globals(globals, helpers);\n\t// edit user imports\n\n\t/** @param {any} node */\n\tfunction rewrite_import(node) {\n\t\tconst value = edit_source(node.source.value, svelte_path);\n\t\tif (node.source.value !== value) {\n\t\t\tnode.source.value = value;\n\t\t\tnode.source.raw = null;\n\t\t}\n\t}\n\timports.forEach(rewrite_import);\n\texports_from.forEach(rewrite_import);\n\tconst exports = module_exports.length > 0 && {\n\t\ttype: 'ExportNamedDeclaration',\n\t\tspecifiers: module_exports.map((x) => ({\n\t\t\ttype: 'Specifier',\n\t\t\tlocal: { type: 'Identifier', name: x.name },\n\t\t\texported: { type: 'Identifier', name: x.as }\n\t\t}))\n\t};\n\tprogram.body = b`\n\t\t/* ${banner} */\n\n\t\t${import_declaration}\n\t\t${internal_globals}\n\t\t${imports}\n\t\t${exports_from}\n\n\t\t${program.body}\n\n\t\texport default ${name};\n\t\t${exports}\n\t`;\n}\n\n/**\n * @typedef {Object} Export\n * @property {string} name\n * @property {string} as\n */\n", "export const UNKNOWN = {};\n\n/**\n * @param {import(\"estree\").Node} node\n * @param {Set<string | {}>} set\n */\nexport function gather_possible_values(node, set) {\n\tif (node.type === 'Literal') {\n\t\tset.add(node.value);\n\t} else if (node.type === 'ConditionalExpression') {\n\t\tgather_possible_values(node.consequent, set);\n\t\tgather_possible_values(node.alternate, set);\n\t} else {\n\t\tset.add(UNKNOWN);\n\t}\n}\n", "import { gather_possible_values, UNKNOWN } from './gather_possible_values.js';\nimport compiler_errors from '../compiler_errors.js';\nimport { regex_starts_with_whitespace, regex_ends_with_whitespace } from '../../utils/patterns.js';\n\nconst BlockAppliesToNode = /** @type {const} */ ({\n\tNotPossible: 0,\n\tPossible: 1,\n\tUnknownSelectorType: 2\n});\n\nconst NodeExist = /** @type {const} */ ({\n\tProbably: 0,\n\tDefinitely: 1\n});\n\n/** @typedef {typeof NodeExist[keyof typeof NodeExist]} NodeExistsValue */\n\nconst whitelist_attribute_selector = new Map([\n\t['details', new Set(['open'])],\n\t['dialog', new Set(['open'])]\n]);\nconst regex_is_single_css_selector = /[^\\\\],(?!([^([]+[^\\\\]|[^([\\\\])[)\\]])/;\n\nexport default class Selector {\n\t/** @type {import('./private.js').CssNode} */\n\tnode;\n\n\t/** @type {import('./Stylesheet.js').default} */\n\tstylesheet;\n\n\t/** @type {Block[]} */\n\tblocks;\n\n\t/** @type {Block[]} */\n\tlocal_blocks;\n\n\t/** @type {boolean} */\n\tused;\n\n\t/**\n\t * @param {import('./private.js').CssNode} node\n\t * @param {import('./Stylesheet.js').default} stylesheet\n\t */\n\tconstructor(node, stylesheet) {\n\t\tthis.node = node;\n\t\tthis.stylesheet = stylesheet;\n\t\tthis.blocks = group_selectors(node);\n\t\t// take trailing :global(...) selectors out of consideration\n\t\tlet i = this.blocks.length;\n\t\twhile (i > 0) {\n\t\t\tif (!this.blocks[i - 1].global) break;\n\t\t\ti -= 1;\n\t\t}\n\t\tthis.local_blocks = this.blocks.slice(0, i);\n\t\tconst host_only = this.blocks.length === 1 && this.blocks[0].host;\n\t\tconst root_only = this.blocks.length === 1 && this.blocks[0].root;\n\t\tthis.used = this.local_blocks.length === 0 || host_only || root_only;\n\t}\n\n\t/** @param {import('../nodes/Element.js').default} node */\n\tapply(node) {\n\t\t/** @type {Array<{ node: import('../nodes/Element.js').default; block: Block }>} */\n\t\tconst to_encapsulate = [];\n\t\tapply_selector(this.local_blocks.slice(), node, to_encapsulate);\n\t\tif (to_encapsulate.length > 0) {\n\t\t\tto_encapsulate.forEach(({ node, block }) => {\n\t\t\t\tthis.stylesheet.nodes_with_css_class.add(node);\n\t\t\t\tblock.should_encapsulate = true;\n\t\t\t});\n\t\t\tthis.used = true;\n\t\t}\n\t}\n\n\t/** @param {import('magic-string').default} code */\n\tminify(code) {\n\t\t/** @type {number} */\n\t\tlet c = null;\n\t\tthis.blocks.forEach((block, i) => {\n\t\t\tif (i > 0) {\n\t\t\t\tif (block.start - c > 1) {\n\t\t\t\t\tcode.update(c, block.start, block.combinator.name || ' ');\n\t\t\t\t}\n\t\t\t}\n\t\t\tc = block.end;\n\t\t});\n\t}\n\n\t/**\n\t * @param {import('magic-string').default} code\n\t * @param {string} attr\n\t * @param {number} max_amount_class_specificity_increased\n\t */\n\ttransform(code, attr, max_amount_class_specificity_increased) {\n\t\tconst amount_class_specificity_to_increase =\n\t\t\tmax_amount_class_specificity_increased -\n\t\t\tthis.blocks.filter((block) => block.should_encapsulate).length;\n\n\t\t/** @param {import('./private.js').CssNode} selector */\n\t\tfunction remove_global_pseudo_class(selector) {\n\t\t\tconst first = selector.children[0];\n\t\t\tconst last = selector.children[selector.children.length - 1];\n\t\t\tcode.remove(selector.start, first.start).remove(last.end, selector.end);\n\t\t}\n\n\t\t/**\n\t\t * @param {Block} block\n\t\t * @param {string} attr\n\t\t */\n\t\tfunction encapsulate_block(block, attr) {\n\t\t\tfor (const selector of block.selectors) {\n\t\t\t\tif (selector.type === 'PseudoClassSelector' && selector.name === 'global') {\n\t\t\t\t\tremove_global_pseudo_class(selector);\n\t\t\t\t}\n\t\t\t}\n\t\t\tlet i = block.selectors.length;\n\t\t\twhile (i--) {\n\t\t\t\tconst selector = block.selectors[i];\n\t\t\t\tif (selector.type === 'PseudoElementSelector' || selector.type === 'PseudoClassSelector') {\n\t\t\t\t\tif (selector.name !== 'root' && selector.name !== 'host') {\n\t\t\t\t\t\tif (i === 0) code.prependRight(selector.start, attr);\n\t\t\t\t\t}\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tif (selector.type === 'TypeSelector' && selector.name === '*') {\n\t\t\t\t\tcode.update(selector.start, selector.end, attr);\n\t\t\t\t} else {\n\t\t\t\t\tcode.appendLeft(selector.end, attr);\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tthis.blocks.forEach((block, index) => {\n\t\t\tif (block.global) {\n\t\t\t\tremove_global_pseudo_class(block.selectors[0]);\n\t\t\t}\n\t\t\tif (block.should_encapsulate)\n\t\t\t\tencapsulate_block(\n\t\t\t\t\tblock,\n\t\t\t\t\tindex === this.blocks.length - 1\n\t\t\t\t\t\t? attr.repeat(amount_class_specificity_to_increase + 1)\n\t\t\t\t\t\t: attr\n\t\t\t\t);\n\t\t});\n\t}\n\n\t/** @param {import('../Component.js').default} component */\n\tvalidate(component) {\n\t\tlet start = 0;\n\t\tlet end = this.blocks.length;\n\t\tfor (; start < end; start += 1) {\n\t\t\tif (!this.blocks[start].global) break;\n\t\t}\n\t\tfor (; end > start; end -= 1) {\n\t\t\tif (!this.blocks[end - 1].global) break;\n\t\t}\n\t\tfor (let i = start; i < end; i += 1) {\n\t\t\tif (this.blocks[i].global) {\n\t\t\t\treturn component.error(this.blocks[i].selectors[0], compiler_errors.css_invalid_global);\n\t\t\t}\n\t\t}\n\t\tthis.validate_global_with_multiple_selectors(component);\n\t\tthis.validate_global_compound_selector(component);\n\t\tthis.validate_invalid_combinator_without_selector(component);\n\t}\n\n\t/** @param {import('../Component.js').default} component */\n\tvalidate_global_with_multiple_selectors(component) {\n\t\tif (this.blocks.length === 1 && this.blocks[0].selectors.length === 1) {\n\t\t\t// standalone :global() with multiple selectors is OK\n\t\t\treturn;\n\t\t}\n\t\tfor (const block of this.blocks) {\n\t\t\tfor (const selector of block.selectors) {\n\t\t\t\tif (selector.type === 'PseudoClassSelector' && selector.name === 'global') {\n\t\t\t\t\tif (regex_is_single_css_selector.test(selector.children[0].value)) {\n\t\t\t\t\t\tcomponent.error(selector, compiler_errors.css_invalid_global_selector);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t/** @param {import('../Component.js').default} component */\n\tvalidate_invalid_combinator_without_selector(component) {\n\t\tfor (let i = 0; i < this.blocks.length; i++) {\n\t\t\tconst block = this.blocks[i];\n\t\t\tif (block.combinator && block.selectors.length === 0) {\n\t\t\t\tcomponent.error(\n\t\t\t\t\tthis.node,\n\t\t\t\t\tcompiler_errors.css_invalid_selector(\n\t\t\t\t\t\tcomponent.source.slice(this.node.start, this.node.end)\n\t\t\t\t\t)\n\t\t\t\t);\n\t\t\t}\n\t\t\tif (!block.combinator && block.selectors.length === 0) {\n\t\t\t\tcomponent.error(\n\t\t\t\t\tthis.node,\n\t\t\t\t\tcompiler_errors.css_invalid_selector(\n\t\t\t\t\t\tcomponent.source.slice(this.node.start, this.node.end)\n\t\t\t\t\t)\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t}\n\n\t/** @param {import('../Component.js').default} component */\n\tvalidate_global_compound_selector(component) {\n\t\tfor (const block of this.blocks) {\n\t\t\tfor (let index = 0; index < block.selectors.length; index++) {\n\t\t\t\tconst selector = block.selectors[index];\n\t\t\t\tif (\n\t\t\t\t\tselector.type === 'PseudoClassSelector' &&\n\t\t\t\t\tselector.name === 'global' &&\n\t\t\t\t\tindex !== 0 &&\n\t\t\t\t\tselector.children &&\n\t\t\t\t\tselector.children.length > 0 &&\n\t\t\t\t\t!/[.:#\\s]/.test(selector.children[0].value[0])\n\t\t\t\t) {\n\t\t\t\t\tcomponent.error(selector, compiler_errors.css_invalid_global_selector_position);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tget_amount_class_specificity_increased() {\n\t\tlet count = 0;\n\t\tfor (const block of this.blocks) {\n\t\t\tif (block.should_encapsulate) {\n\t\t\t\tcount++;\n\t\t\t}\n\t\t}\n\t\treturn count;\n\t}\n}\n\n/**\n * @param {Block[]} blocks\n * @param {import('../nodes/Element.js').default} node\n * @param {Array<{ node: import('../nodes/Element.js').default; block: Block }>} to_encapsulate\n * @returns {boolean}\n */\nfunction apply_selector(blocks, node, to_encapsulate) {\n\tconst block = blocks.pop();\n\tif (!block) return false;\n\tif (!node) {\n\t\treturn (\n\t\t\t(block.global && blocks.every((block) => block.global)) || (block.host && blocks.length === 0)\n\t\t);\n\t}\n\tswitch (block_might_apply_to_node(block, node)) {\n\t\tcase BlockAppliesToNode.NotPossible:\n\t\t\treturn false;\n\t\tcase BlockAppliesToNode.UnknownSelectorType:\n\t\t\t// bail. TODO figure out what these could be\n\t\t\tto_encapsulate.push({ node, block });\n\t\t\treturn true;\n\t}\n\tif (block.combinator) {\n\t\tif (block.combinator.type === 'Combinator' && block.combinator.name === ' ') {\n\t\t\tfor (const ancestor_block of blocks) {\n\t\t\t\tif (ancestor_block.global) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tif (ancestor_block.host) {\n\t\t\t\t\tto_encapsulate.push({ node, block });\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t\tlet parent = node;\n\t\t\t\twhile ((parent = get_element_parent(parent))) {\n\t\t\t\t\tif (\n\t\t\t\t\t\tblock_might_apply_to_node(ancestor_block, parent) !== BlockAppliesToNode.NotPossible\n\t\t\t\t\t) {\n\t\t\t\t\t\tto_encapsulate.push({ node: parent, block: ancestor_block });\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (to_encapsulate.length) {\n\t\t\t\t\tto_encapsulate.push({ node, block });\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (blocks.every((block) => block.global)) {\n\t\t\t\tto_encapsulate.push({ node, block });\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn false;\n\t\t} else if (block.combinator.name === '>') {\n\t\t\tconst has_global_parent = blocks.every((block) => block.global);\n\t\t\tif (has_global_parent || apply_selector(blocks, get_element_parent(node), to_encapsulate)) {\n\t\t\t\tto_encapsulate.push({ node, block });\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn false;\n\t\t} else if (block.combinator.name === '+' || block.combinator.name === '~') {\n\t\t\tconst siblings = get_possible_element_siblings(node, block.combinator.name === '+');\n\t\t\tlet has_match = false;\n\t\t\t// NOTE: if we have :global(), we couldn't figure out what is selected within `:global` due to the\n\t\t\t// css-tree limitation that does not parse the inner selector of :global\n\t\t\t// so unless we are sure there will be no sibling to match, we will consider it as matched\n\t\t\tconst has_global = blocks.some((block) => block.global);\n\t\t\tif (has_global) {\n\t\t\t\tif (siblings.size === 0 && get_element_parent(node) !== null) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tto_encapsulate.push({ node, block });\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\tfor (const possible_sibling of siblings.keys()) {\n\t\t\t\tif (apply_selector(blocks.slice(), possible_sibling, to_encapsulate)) {\n\t\t\t\t\tto_encapsulate.push({ node, block });\n\t\t\t\t\thas_match = true;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn has_match;\n\t\t}\n\t\t// TODO other combinators\n\t\tto_encapsulate.push({ node, block });\n\t\treturn true;\n\t}\n\tto_encapsulate.push({ node, block });\n\treturn true;\n}\n\nconst regex_backslash_and_following_character = /\\\\(.)/g;\n\n/**\n * @param {Block} block\n * @param {import('../nodes/Element.js').default} node\n * @returns {typeof BlockAppliesToNode[keyof typeof BlockAppliesToNode]}\n */\nfunction block_might_apply_to_node(block, node) {\n\tlet i = block.selectors.length;\n\twhile (i--) {\n\t\tconst selector = block.selectors[i];\n\t\tconst name =\n\t\t\ttypeof selector.name === 'string' &&\n\t\t\tselector.name.replace(regex_backslash_and_following_character, '$1');\n\t\tif (selector.type === 'PseudoClassSelector' && (name === 'host' || name === 'root')) {\n\t\t\treturn BlockAppliesToNode.NotPossible;\n\t\t}\n\t\tif (\n\t\t\tblock.selectors.length === 1 &&\n\t\t\tselector.type === 'PseudoClassSelector' &&\n\t\t\tname === 'global'\n\t\t) {\n\t\t\treturn BlockAppliesToNode.NotPossible;\n\t\t}\n\t\tif (selector.type === 'PseudoClassSelector' || selector.type === 'PseudoElementSelector') {\n\t\t\tcontinue;\n\t\t}\n\t\tif (selector.type === 'ClassSelector') {\n\t\t\tif (\n\t\t\t\t!attribute_matches(node, 'class', name, '~=', false) &&\n\t\t\t\t!node.classes.some((c) => c.name === name)\n\t\t\t)\n\t\t\t\treturn BlockAppliesToNode.NotPossible;\n\t\t} else if (selector.type === 'IdSelector') {\n\t\t\tif (!attribute_matches(node, 'id', name, '=', false)) return BlockAppliesToNode.NotPossible;\n\t\t} else if (selector.type === 'AttributeSelector') {\n\t\t\tif (\n\t\t\t\t!(\n\t\t\t\t\twhitelist_attribute_selector.has(node.name.toLowerCase()) &&\n\t\t\t\t\twhitelist_attribute_selector\n\t\t\t\t\t\t.get(node.name.toLowerCase())\n\t\t\t\t\t\t.has(selector.name.name.toLowerCase())\n\t\t\t\t) &&\n\t\t\t\t!attribute_matches(\n\t\t\t\t\tnode,\n\t\t\t\t\tselector.name.name,\n\t\t\t\t\tselector.value && unquote(selector.value),\n\t\t\t\t\tselector.matcher,\n\t\t\t\t\tselector.flags\n\t\t\t\t)\n\t\t\t) {\n\t\t\t\treturn BlockAppliesToNode.NotPossible;\n\t\t\t}\n\t\t} else if (selector.type === 'TypeSelector') {\n\t\t\tif (\n\t\t\t\tnode.name.toLowerCase() !== name.toLowerCase() &&\n\t\t\t\tname !== '*' &&\n\t\t\t\t!node.is_dynamic_element\n\t\t\t)\n\t\t\t\treturn BlockAppliesToNode.NotPossible;\n\t\t} else {\n\t\t\treturn BlockAppliesToNode.UnknownSelectorType;\n\t\t}\n\t}\n\treturn BlockAppliesToNode.Possible;\n}\n\n/**\n * @param {any} operator\n * @param {any} expected_value\n * @param {any} case_insensitive\n * @param {any} value\n */\nfunction test_attribute(operator, expected_value, case_insensitive, value) {\n\tif (case_insensitive) {\n\t\texpected_value = expected_value.toLowerCase();\n\t\tvalue = value.toLowerCase();\n\t}\n\tswitch (operator) {\n\t\tcase '=':\n\t\t\treturn value === expected_value;\n\t\tcase '~=':\n\t\t\treturn value.split(/\\s/).includes(expected_value);\n\t\tcase '|=':\n\t\t\treturn `${value}-`.startsWith(`${expected_value}-`);\n\t\tcase '^=':\n\t\t\treturn value.startsWith(expected_value);\n\t\tcase '$=':\n\t\t\treturn value.endsWith(expected_value);\n\t\tcase '*=':\n\t\t\treturn value.includes(expected_value);\n\t\tdefault:\n\t\t\tthrow new Error(\"this shouldn't happen\");\n\t}\n}\n\n/**\n * @param {import('./private.js').CssNode} node\n * @param {string} name\n * @param {string} expected_value\n * @param {string} operator\n * @param {boolean} case_insensitive\n */\nfunction attribute_matches(node, name, expected_value, operator, case_insensitive) {\n\tconst spread = node.attributes.find((attr) => attr.type === 'Spread');\n\tif (spread) return true;\n\tif (node.bindings.some((binding) => binding.name === name)) return true;\n\tconst attr = node.attributes.find((attr) => attr.name === name);\n\tif (!attr) return false;\n\tif (attr.is_true) return operator === null;\n\tif (expected_value == null) return true;\n\tif (attr.chunks.length === 1) {\n\t\tconst value = attr.chunks[0];\n\t\tif (!value) return false;\n\t\tif (value.type === 'Text')\n\t\t\treturn test_attribute(operator, expected_value, case_insensitive, value.data);\n\t}\n\tconst possible_values = new Set();\n\tlet prev_values = [];\n\tfor (const chunk of attr.chunks) {\n\t\tconst current_possible_values = new Set();\n\t\tif (chunk.type === 'Text') {\n\t\t\tcurrent_possible_values.add(chunk.data);\n\t\t} else {\n\t\t\tgather_possible_values(chunk.node, current_possible_values);\n\t\t}\n\t\t// impossible to find out all combinations\n\t\tif (current_possible_values.has(UNKNOWN)) return true;\n\t\tif (prev_values.length > 0) {\n\t\t\tconst start_with_space = [];\n\t\t\tconst remaining = [];\n\t\t\tcurrent_possible_values.forEach((current_possible_value) => {\n\t\t\t\tif (regex_starts_with_whitespace.test(current_possible_value)) {\n\t\t\t\t\tstart_with_space.push(current_possible_value);\n\t\t\t\t} else {\n\t\t\t\t\tremaining.push(current_possible_value);\n\t\t\t\t}\n\t\t\t});\n\t\t\tif (remaining.length > 0) {\n\t\t\t\tif (start_with_space.length > 0) {\n\t\t\t\t\tprev_values.forEach((prev_value) => possible_values.add(prev_value));\n\t\t\t\t}\n\t\t\t\tconst combined = [];\n\t\t\t\tprev_values.forEach((prev_value) => {\n\t\t\t\t\tremaining.forEach((value) => {\n\t\t\t\t\t\tcombined.push(prev_value + value);\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t\tprev_values = combined;\n\t\t\t\tstart_with_space.forEach((value) => {\n\t\t\t\t\tif (regex_ends_with_whitespace.test(value)) {\n\t\t\t\t\t\tpossible_values.add(value);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tprev_values.push(value);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tcontinue;\n\t\t\t} else {\n\t\t\t\tprev_values.forEach((prev_value) => possible_values.add(prev_value));\n\t\t\t\tprev_values = [];\n\t\t\t}\n\t\t}\n\t\tcurrent_possible_values.forEach((current_possible_value) => {\n\t\t\tif (regex_ends_with_whitespace.test(current_possible_value)) {\n\t\t\t\tpossible_values.add(current_possible_value);\n\t\t\t} else {\n\t\t\t\tprev_values.push(current_possible_value);\n\t\t\t}\n\t\t});\n\t\tif (prev_values.length < current_possible_values.size) {\n\t\t\tprev_values.push(' ');\n\t\t}\n\t\tif (prev_values.length > 20) {\n\t\t\t// might grow exponentially, bail out\n\t\t\treturn true;\n\t\t}\n\t}\n\tprev_values.forEach((prev_value) => possible_values.add(prev_value));\n\tif (possible_values.has(UNKNOWN)) return true;\n\tfor (const value of possible_values) {\n\t\tif (test_attribute(operator, expected_value, case_insensitive, value)) return true;\n\t}\n\treturn false;\n}\n\n/** @param {import('./private.js').CssNode} value */\nfunction unquote(value) {\n\tif (value.type === 'Identifier') return value.name;\n\tconst str = value.value;\n\tif ((str[0] === str[str.length - 1] && str[0] === \"'\") || str[0] === '\"') {\n\t\treturn str.slice(1, str.length - 1);\n\t}\n\treturn str;\n}\n\n/**\n * @param {import('../nodes/Element.js').default} node\n * @returns {any}\n */\nfunction get_element_parent(node) {\n\t/** @type {import('../nodes/interfaces.js').INode} */\n\tlet parent = node;\n\twhile ((parent = parent.parent) && parent.type !== 'Element');\n\treturn /** @type {import('../nodes/Element.js').default | null} */ (parent);\n}\n\n/**\n * Finds the given node's previous sibling in the DOM\n *\n * The Svelte <slot> is just a placeholder and is not actually real. Any children nodes\n * in <slot> are 'flattened' and considered as the same level as the <slot>'s siblings\n *\n * e.g.\n * <h1>Heading 1</h1>\n * <slot>\n *   <h2>Heading 2</h2>\n * </slot>\n *\n * is considered to look like:\n * <h1>Heading 1</h1>\n * <h2>Heading 2</h2>\n * @param {import('../nodes/interfaces.js').INode} node\n * @returns {import('../nodes/interfaces.js').INode}\n */\nfunction find_previous_sibling(node) {\n\t/** @type {import('../nodes/interfaces.js').INode} */\n\tlet current_node = node;\n\tdo {\n\t\tif (current_node.type === 'Slot') {\n\t\t\tconst slot_children = current_node.children;\n\t\t\tif (slot_children.length > 0) {\n\t\t\t\tcurrent_node = slot_children.slice(-1)[0]; // go to its last child first\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t}\n\t\twhile (!current_node.prev && current_node.parent && current_node.parent.type === 'Slot') {\n\t\t\tcurrent_node = current_node.parent;\n\t\t}\n\t\tcurrent_node = current_node.prev;\n\t} while (current_node && current_node.type === 'Slot');\n\treturn current_node;\n}\n\n/**\n * @param {import('../nodes/interfaces.js').INode} node\n * @param {boolean} adjacent_only\n * @returns {Map<import('../nodes/Element.js').default, NodeExistsValue>}\n */\nfunction get_possible_element_siblings(node, adjacent_only) {\n\t/** @type {Map<import('../nodes/Element.js').default, NodeExistsValue>} */\n\tconst result = new Map();\n\n\t/** @type {import('../nodes/interfaces.js').INode} */\n\tlet prev = node;\n\twhile ((prev = find_previous_sibling(prev))) {\n\t\tif (prev.type === 'Element') {\n\t\t\tif (\n\t\t\t\t!prev.attributes.find(\n\t\t\t\t\t(attr) => attr.type === 'Attribute' && attr.name.toLowerCase() === 'slot'\n\t\t\t\t)\n\t\t\t) {\n\t\t\t\tresult.set(prev, NodeExist.Definitely);\n\t\t\t}\n\t\t\tif (adjacent_only) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t} else if (prev.type === 'EachBlock' || prev.type === 'IfBlock' || prev.type === 'AwaitBlock') {\n\t\t\tconst possible_last_child = get_possible_last_child(prev, adjacent_only);\n\t\t\tadd_to_map(possible_last_child, result);\n\t\t\tif (adjacent_only && has_definite_elements(possible_last_child)) {\n\t\t\t\treturn result;\n\t\t\t}\n\t\t}\n\t}\n\tif (!prev || !adjacent_only) {\n\t\t/** @type {import('../nodes/interfaces.js').INode} */\n\t\tlet parent = node;\n\t\tlet skip_each_for_last_child = node.type === 'ElseBlock';\n\t\twhile (\n\t\t\t(parent = parent.parent) &&\n\t\t\t(parent.type === 'EachBlock' ||\n\t\t\t\tparent.type === 'IfBlock' ||\n\t\t\t\tparent.type === 'ElseBlock' ||\n\t\t\t\tparent.type === 'AwaitBlock')\n\t\t) {\n\t\t\tconst possible_siblings = get_possible_element_siblings(parent, adjacent_only);\n\t\t\tadd_to_map(possible_siblings, result);\n\t\t\tif (parent.type === 'EachBlock') {\n\t\t\t\t// first child of each block can select the last child of each block as previous sibling\n\t\t\t\tif (skip_each_for_last_child) {\n\t\t\t\t\tskip_each_for_last_child = false;\n\t\t\t\t} else {\n\t\t\t\t\tadd_to_map(get_possible_last_child(parent, adjacent_only), result);\n\t\t\t\t}\n\t\t\t} else if (parent.type === 'ElseBlock') {\n\t\t\t\tskip_each_for_last_child = true;\n\t\t\t\tparent = parent.parent;\n\t\t\t}\n\t\t\tif (adjacent_only && has_definite_elements(possible_siblings)) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\treturn result;\n}\n\n/**\n * @param {import('../nodes/EachBlock.js').default | import('../nodes/IfBlock.js').default | import('../nodes/AwaitBlock.js').default} block\n * @param {boolean} adjacent_only\n * @returns {Map<import('../nodes/Element.js').default, NodeExistsValue>}\n */\nfunction get_possible_last_child(block, adjacent_only) {\n\t/** @typedef {Map<import('../nodes/Element.js').default, NodeExistsValue>} NodeMap */\n\n\t/** @type {NodeMap} */\n\tconst result = new Map();\n\tif (block.type === 'EachBlock') {\n\t\t/** @type {NodeMap} */\n\t\tconst each_result = loop_child(block.children, adjacent_only);\n\n\t\t/** @type {NodeMap} */\n\t\tconst else_result = block.else ? loop_child(block.else.children, adjacent_only) : new Map();\n\t\tconst not_exhaustive = !has_definite_elements(else_result);\n\t\tif (not_exhaustive) {\n\t\t\tmark_as_probably(each_result);\n\t\t\tmark_as_probably(else_result);\n\t\t}\n\t\tadd_to_map(each_result, result);\n\t\tadd_to_map(else_result, result);\n\t} else if (block.type === 'IfBlock') {\n\t\t/** @type {NodeMap} */\n\t\tconst if_result = loop_child(block.children, adjacent_only);\n\n\t\t/** @type {NodeMap} */\n\t\tconst else_result = block.else ? loop_child(block.else.children, adjacent_only) : new Map();\n\t\tconst not_exhaustive = !has_definite_elements(if_result) || !has_definite_elements(else_result);\n\t\tif (not_exhaustive) {\n\t\t\tmark_as_probably(if_result);\n\t\t\tmark_as_probably(else_result);\n\t\t}\n\t\tadd_to_map(if_result, result);\n\t\tadd_to_map(else_result, result);\n\t} else if (block.type === 'AwaitBlock') {\n\t\t/** @type {NodeMap} */\n\t\tconst pending_result = block.pending\n\t\t\t? loop_child(block.pending.children, adjacent_only)\n\t\t\t: new Map();\n\n\t\t/** @type {NodeMap} */\n\t\tconst then_result = block.then ? loop_child(block.then.children, adjacent_only) : new Map();\n\n\t\t/** @type {NodeMap} */\n\t\tconst catch_result = block.catch ? loop_child(block.catch.children, adjacent_only) : new Map();\n\t\tconst not_exhaustive =\n\t\t\t!has_definite_elements(pending_result) ||\n\t\t\t!has_definite_elements(then_result) ||\n\t\t\t!has_definite_elements(catch_result);\n\t\tif (not_exhaustive) {\n\t\t\tmark_as_probably(pending_result);\n\t\t\tmark_as_probably(then_result);\n\t\t\tmark_as_probably(catch_result);\n\t\t}\n\t\tadd_to_map(pending_result, result);\n\t\tadd_to_map(then_result, result);\n\t\tadd_to_map(catch_result, result);\n\t}\n\treturn result;\n}\n\n/**\n * @param {Map<import('../nodes/Element.js').default, NodeExistsValue>} result\n * @returns {boolean}\n */\nfunction has_definite_elements(result) {\n\tif (result.size === 0) return false;\n\tfor (const exist of result.values()) {\n\t\tif (exist === NodeExist.Definitely) {\n\t\t\treturn true;\n\t\t}\n\t}\n\treturn false;\n}\n\n/**\n * @param {Map<import('../nodes/Element.js').default, NodeExistsValue>} from\n * @param {Map<import('../nodes/Element.js').default, NodeExistsValue>} to\n * @returns {void}\n */\nfunction add_to_map(from, to) {\n\tfrom.forEach((exist, element) => {\n\t\tto.set(element, higher_existence(exist, to.get(element)));\n\t});\n}\n\n/**\n * @param {NodeExistsValue | null} exist1\n * @param {NodeExistsValue | null} exist2\n * @returns {NodeExistsValue}\n */\nfunction higher_existence(exist1, exist2) {\n\tif (exist1 === undefined || exist2 === undefined) return exist1 || exist2;\n\treturn exist1 > exist2 ? exist1 : exist2;\n}\n\n/** @param {Map<import('../nodes/Element.js').default, NodeExistsValue>} result */\nfunction mark_as_probably(result) {\n\tfor (const key of result.keys()) {\n\t\tresult.set(key, NodeExist.Probably);\n\t}\n}\n\n/**\n * @param {import('../nodes/interfaces.js').INode[]} children\n * @param {boolean} adjacent_only\n */\nfunction loop_child(children, adjacent_only) {\n\t/** @type {Map<import('../nodes/Element.js').default, NodeExistsValue>} */\n\tconst result = new Map();\n\tfor (let i = children.length - 1; i >= 0; i--) {\n\t\tconst child = children[i];\n\t\tif (child.type === 'Element') {\n\t\t\tresult.set(child, NodeExist.Definitely);\n\t\t\tif (adjacent_only) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t} else if (\n\t\t\tchild.type === 'EachBlock' ||\n\t\t\tchild.type === 'IfBlock' ||\n\t\t\tchild.type === 'AwaitBlock'\n\t\t) {\n\t\t\tconst child_result = get_possible_last_child(child, adjacent_only);\n\t\t\tadd_to_map(child_result, result);\n\t\t\tif (adjacent_only && has_definite_elements(child_result)) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\treturn result;\n}\n\nclass Block {\n\t/** @type {boolean} */\n\thost;\n\n\t/** @type {boolean} */\n\troot;\n\n\t/** @type {import('./private.js').CssNode} */\n\tcombinator;\n\n\t/** @type {import('./private.js').CssNode[]} */\n\tselectors;\n\n\t/** @type {number} */\n\tstart;\n\n\t/** @type {number} */\n\tend;\n\n\t/** @type {boolean} */\n\tshould_encapsulate;\n\n\t/** @param {import('./private.js').CssNode} combinator */\n\tconstructor(combinator) {\n\t\tthis.combinator = combinator;\n\t\tthis.host = false;\n\t\tthis.root = false;\n\t\tthis.selectors = [];\n\t\tthis.start = null;\n\t\tthis.end = null;\n\t\tthis.should_encapsulate = false;\n\t}\n\n\t/** @param {import('./private.js').CssNode} selector */\n\tadd(selector) {\n\t\tif (this.selectors.length === 0) {\n\t\t\tthis.start = selector.start;\n\t\t\tthis.host = selector.type === 'PseudoClassSelector' && selector.name === 'host';\n\t\t}\n\t\tthis.root = this.root || (selector.type === 'PseudoClassSelector' && selector.name === 'root');\n\t\tthis.selectors.push(selector);\n\t\tthis.end = selector.end;\n\t}\n\tget global() {\n\t\treturn (\n\t\t\tthis.selectors.length >= 1 &&\n\t\t\tthis.selectors[0].type === 'PseudoClassSelector' &&\n\t\t\tthis.selectors[0].name === 'global' &&\n\t\t\tthis.selectors.every(\n\t\t\t\t(selector) =>\n\t\t\t\t\tselector.type === 'PseudoClassSelector' || selector.type === 'PseudoElementSelector'\n\t\t\t)\n\t\t);\n\t}\n}\n\n/** @param {import('./private.js').CssNode} selector */\nfunction group_selectors(selector) {\n\t/** @type {Block} */\n\tlet block = new Block(null);\n\tconst blocks = [block];\n\tselector.children.forEach((child) => {\n\t\tif (child.type === 'WhiteSpace' || child.type === 'Combinator') {\n\t\t\tblock = new Block(child);\n\t\t\tblocks.push(block);\n\t\t} else {\n\t\t\tblock.add(child);\n\t\t}\n\t});\n\treturn blocks;\n}\n", "import MagicString from 'magic-string';\nimport { walk } from 'estree-walker';\nimport Selector from './Selector.js';\nimport hash from '../utils/hash.js';\nimport compiler_warnings from '../compiler_warnings.js';\nimport { extract_ignores_above_position } from '../../utils/extract_svelte_ignore.js';\nimport { push_array } from '../../utils/push_array.js';\nimport { regex_only_whitespaces, regex_whitespace } from '../../utils/patterns.js';\n\nconst regex_css_browser_prefix = /^-((webkit)|(moz)|(o)|(ms))-/;\n\n/**\n * @param {string} name\n * @returns {string}\n */\nfunction remove_css_prefix(name) {\n\treturn name.replace(regex_css_browser_prefix, '');\n}\n\n/** @param {import('./private.js').CssNode} node */\nconst is_keyframes_node = (node) => remove_css_prefix(node.name) === 'keyframes';\n\n/**\n * @param {import('./private.js').CssNode} param\n * @returns {true}\n */\nconst at_rule_has_declaration = ({ block }) =>\n\tblock && block.children && block.children.find((node) => node.type === 'Declaration');\n\n/**\n * @param {import('magic-string').default} code\n * @param {number} start\n * @param {Declaration[]} declarations\n * @returns {number}\n */\nfunction minify_declarations(code, start, declarations) {\n\tlet c = start;\n\tdeclarations.forEach((declaration, i) => {\n\t\tconst separator = i > 0 ? ';' : '';\n\t\tif (declaration.node.start - c > separator.length) {\n\t\t\tcode.update(c, declaration.node.start, separator);\n\t\t}\n\t\tdeclaration.minify(code);\n\t\tc = declaration.node.end;\n\t});\n\treturn c;\n}\nclass Rule {\n\t/** @type {import('./Selector.js').default[]} */\n\tselectors;\n\n\t/** @type {Declaration[]} */\n\tdeclarations;\n\n\t/** @type {import('./private.js').CssNode} */\n\tnode;\n\n\t/** @type {Atrule} */\n\tparent;\n\n\t/**\n\t * @param {import('./private.js').CssNode} node\n\t * @param {any} stylesheet\n\t * @param {Atrule} [parent]\n\t */\n\tconstructor(node, stylesheet, parent) {\n\t\tthis.node = node;\n\t\tthis.parent = parent;\n\t\tthis.selectors = node.prelude.children.map((node) => new Selector(node, stylesheet));\n\t\tthis.declarations = node.block.children.map((node) => new Declaration(node));\n\t}\n\n\t/** @param {import('../nodes/Element.js').default} node */\n\tapply(node) {\n\t\tthis.selectors.forEach((selector) => selector.apply(node)); // TODO move the logic in here?\n\t}\n\n\t/** @param {boolean} dev */\n\tis_used(dev) {\n\t\tif (this.parent && this.parent.node.type === 'Atrule' && is_keyframes_node(this.parent.node))\n\t\t\treturn true;\n\t\tif (this.declarations.length === 0) return dev;\n\t\treturn this.selectors.some((s) => s.used);\n\t}\n\n\t/**\n\t * @param {import('magic-string').default} code\n\t * @param {boolean} _dev\n\t */\n\tminify(code, _dev) {\n\t\tlet c = this.node.start;\n\t\tlet started = false;\n\t\tthis.selectors.forEach((selector) => {\n\t\t\tif (selector.used) {\n\t\t\t\tconst separator = started ? ',' : '';\n\t\t\t\tif (selector.node.start - c > separator.length) {\n\t\t\t\t\tcode.update(c, selector.node.start, separator);\n\t\t\t\t}\n\t\t\t\tselector.minify(code);\n\t\t\t\tc = selector.node.end;\n\t\t\t\tstarted = true;\n\t\t\t}\n\t\t});\n\t\tcode.remove(c, this.node.block.start);\n\t\tc = this.node.block.start + 1;\n\t\tc = minify_declarations(code, c, this.declarations);\n\t\tcode.remove(c, this.node.block.end - 1);\n\t}\n\n\t/**\n\t * @param {import('magic-string').default} code\n\t * @param {string} id\n\t * @param {Map<string, string>} keyframes\n\t * @param {number} max_amount_class_specificity_increased\n\t */\n\ttransform(code, id, keyframes, max_amount_class_specificity_increased) {\n\t\tif (this.parent && this.parent.node.type === 'Atrule' && is_keyframes_node(this.parent.node))\n\t\t\treturn true;\n\t\tconst attr = `.${id}`;\n\t\tthis.selectors.forEach((selector) =>\n\t\t\tselector.transform(code, attr, max_amount_class_specificity_increased)\n\t\t);\n\t\tthis.declarations.forEach((declaration) => declaration.transform(code, keyframes));\n\t}\n\n\t/** @param {import('../Component.js').default} component */\n\tvalidate(component) {\n\t\tthis.selectors.forEach((selector) => {\n\t\t\tselector.validate(component);\n\t\t});\n\t}\n\n\t/** @param {(selector: import('./Selector.js').default) => void} handler */\n\twarn_on_unused_selector(handler) {\n\t\tthis.selectors.forEach((selector) => {\n\t\t\tif (!selector.used) handler(selector);\n\t\t});\n\t}\n\tget_max_amount_class_specificity_increased() {\n\t\treturn Math.max(\n\t\t\t...this.selectors.map((selector) => selector.get_amount_class_specificity_increased())\n\t\t);\n\t}\n}\nclass Declaration {\n\t/** @type {import('./private.js').CssNode} */\n\tnode;\n\n\t/** @param {import('./private.js').CssNode} node */\n\tconstructor(node) {\n\t\tthis.node = node;\n\t}\n\n\t/**\n\t * @param {import('magic-string').default} code\n\t * @param {Map<string, string>} keyframes\n\t */\n\ttransform(code, keyframes) {\n\t\tconst property = this.node.property && remove_css_prefix(this.node.property.toLowerCase());\n\t\tif (property === 'animation' || property === 'animation-name') {\n\t\t\tthis.node.value.children.forEach((block) => {\n\t\t\t\tif (block.type === 'Identifier') {\n\t\t\t\t\tconst name = block.name;\n\t\t\t\t\tif (keyframes.has(name)) {\n\t\t\t\t\t\tcode.update(block.start, block.end, keyframes.get(name));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n\n\t/** @param {import('magic-string').default} code */\n\tminify(code) {\n\t\tif (!this.node.property) return; // @apply, and possibly other weird cases?\n\t\tconst c = this.node.start + this.node.property.length;\n\t\tconst first = this.node.value.children ? this.node.value.children[0] : this.node.value;\n\t\t// Don't minify whitespace in custom properties, since some browsers (Chromium < 99)\n\t\t// treat --foo: ; and --foo:; differently\n\t\tif (first.type === 'Raw' && regex_only_whitespaces.test(first.value)) return;\n\t\tlet start = first.start;\n\t\twhile (regex_whitespace.test(code.original[start])) start += 1;\n\t\tif (start - c > 1) {\n\t\t\tcode.update(c, start, ':');\n\t\t}\n\t}\n}\nclass Atrule {\n\t/** @type {import('./private.js').CssNode} */\n\tnode;\n\n\t/** @type {Array<Atrule | Rule>} */\n\tchildren;\n\n\t/** @type {Declaration[]} */\n\tdeclarations;\n\n\t/** @param {import('./private.js').CssNode} node */\n\tconstructor(node) {\n\t\tthis.node = node;\n\t\tthis.children = [];\n\t\tthis.declarations = [];\n\t}\n\n\t/** @param {import('../nodes/Element.js').default} node */\n\tapply(node) {\n\t\tif (\n\t\t\tthis.node.name === 'container' ||\n\t\t\tthis.node.name === 'media' ||\n\t\t\tthis.node.name === 'supports' ||\n\t\t\tthis.node.name === 'layer'\n\t\t) {\n\t\t\tthis.children.forEach((child) => {\n\t\t\t\tchild.apply(node);\n\t\t\t});\n\t\t} else if (is_keyframes_node(this.node)) {\n\t\t\tthis.children.forEach((/** @type {Rule} */ rule) => {\n\t\t\t\trule.selectors.forEach((selector) => {\n\t\t\t\t\tselector.used = true;\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\t}\n\n\t/** @param {boolean} _dev */\n\tis_used(_dev) {\n\t\treturn true; // TODO\n\t}\n\n\t/**\n\t * @param {import('magic-string').default} code\n\t * @param {boolean} dev\n\t */\n\tminify(code, dev) {\n\t\tif (this.node.name === 'media') {\n\t\t\tconst expression_char = code.original[this.node.prelude.start];\n\t\t\tlet c = this.node.start + (expression_char === '(' ? 6 : 7);\n\t\t\tif (this.node.prelude.start > c) code.remove(c, this.node.prelude.start);\n\t\t\tthis.node.prelude.children.forEach((query) => {\n\t\t\t\t// TODO minify queries\n\t\t\t\tc = query.end;\n\t\t\t});\n\t\t\tcode.remove(c, this.node.block.start);\n\t\t} else if (this.node.name === 'supports') {\n\t\t\tlet c = this.node.start + 9;\n\t\t\tif (this.node.prelude.start - c > 1) code.update(c, this.node.prelude.start, ' ');\n\t\t\tthis.node.prelude.children.forEach((query) => {\n\t\t\t\t// TODO minify queries\n\t\t\t\tc = query.end;\n\t\t\t});\n\t\t\tcode.remove(c, this.node.block.start);\n\t\t} else {\n\t\t\tlet c = this.node.start + this.node.name.length + 1;\n\t\t\tif (this.node.prelude) {\n\t\t\t\tif (this.node.prelude.start - c > 1) code.update(c, this.node.prelude.start, ' ');\n\t\t\t\tc = this.node.prelude.end;\n\t\t\t}\n\t\t\tif (this.node.block && this.node.block.start - c > 0) {\n\t\t\t\tcode.remove(c, this.node.block.start);\n\t\t\t}\n\t\t}\n\t\t// TODO other atrules\n\t\tif (this.node.block) {\n\t\t\tlet c = this.node.block.start + 1;\n\t\t\tif (this.declarations.length) {\n\t\t\t\tc = minify_declarations(code, c, this.declarations);\n\t\t\t\t// if the atrule has children, leave the last declaration semicolon alone\n\t\t\t\tif (this.children.length) c++;\n\t\t\t}\n\t\t\tthis.children.forEach((child) => {\n\t\t\t\tif (child.is_used(dev)) {\n\t\t\t\t\tcode.remove(c, child.node.start);\n\t\t\t\t\tchild.minify(code, dev);\n\t\t\t\t\tc = child.node.end;\n\t\t\t\t}\n\t\t\t});\n\t\t\tcode.remove(c, this.node.block.end - 1);\n\t\t}\n\t}\n\n\t/**\n\t * @param {import('magic-string').default} code\n\t * @param {string} id\n\t * @param {Map<string, string>} keyframes\n\t * @param {number} max_amount_class_specificity_increased\n\t */\n\ttransform(code, id, keyframes, max_amount_class_specificity_increased) {\n\t\tif (is_keyframes_node(this.node)) {\n\t\t\tthis.node.prelude.children.forEach(({ type, name, start, end }) => {\n\t\t\t\tif (type === 'Identifier') {\n\t\t\t\t\tif (name.startsWith('-global-')) {\n\t\t\t\t\t\tcode.remove(start, start + 8);\n\t\t\t\t\t\tthis.children.forEach((/** @type {Rule} */ rule) => {\n\t\t\t\t\t\t\trule.selectors.forEach((selector) => {\n\t\t\t\t\t\t\t\tselector.used = true;\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\tcode.update(start, end, keyframes.get(name));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\tthis.children.forEach((child) => {\n\t\t\tchild.transform(code, id, keyframes, max_amount_class_specificity_increased);\n\t\t});\n\t}\n\n\t/** @param {import('../Component.js').default} component */\n\tvalidate(component) {\n\t\tthis.children.forEach((child) => {\n\t\t\tchild.validate(component);\n\t\t});\n\t}\n\n\t/** @param {(selector: import('./Selector.js').default) => void} handler */\n\twarn_on_unused_selector(handler) {\n\t\tif (this.node.name !== 'media') return;\n\t\tthis.children.forEach((child) => {\n\t\t\tchild.warn_on_unused_selector(handler);\n\t\t});\n\t}\n\tget_max_amount_class_specificity_increased() {\n\t\treturn Math.max(\n\t\t\t...this.children.map((rule) => rule.get_max_amount_class_specificity_increased())\n\t\t);\n\t}\n}\n\n/** @param {any} params */\nconst get_default_css_hash = ({ css, hash }) => {\n\treturn `svelte-${hash(css)}`;\n};\nexport default class Stylesheet {\n\t/** @type {string} */\n\tsource;\n\n\t/** @type {import('../../interfaces.js').Ast} */\n\tast;\n\n\t/** @type {string} */\n\tfilename;\n\n\t/** @type {boolean} */\n\tdev;\n\n\t/** @type {boolean} */\n\thas_styles;\n\n\t/** @type {string} */\n\tid;\n\n\t/** @type {Array<Rule | Atrule>} */\n\tchildren = [];\n\n\t/** @type {Map<string, string>} */\n\tkeyframes = new Map();\n\n\t/** @type {Set<import('./private.js').CssNode>} */\n\tnodes_with_css_class = new Set();\n\n\t/**\n\t * @param {{\n\t * \t\tsource: string;\n\t * \t\tast: import('../../interfaces.js').Ast;\n\t * \t\tfilename: string | undefined;\n\t * \t\tcomponent_name: string | undefined;\n\t * \t\tdev: boolean;\n\t * \t\tget_css_hash: import('../../interfaces.js').CssHashGetter;\n\t * \t}} params\n\t */\n\tconstructor({ source, ast, component_name, filename, dev, get_css_hash = get_default_css_hash }) {\n\t\tthis.source = source;\n\t\tthis.ast = ast;\n\t\tthis.filename = filename;\n\t\tthis.dev = dev;\n\t\tif (ast.css && ast.css.children.length) {\n\t\t\tthis.id = get_css_hash({\n\t\t\t\tfilename,\n\t\t\t\tname: component_name,\n\t\t\t\tcss: ast.css.content.styles,\n\t\t\t\thash\n\t\t\t});\n\t\t\tthis.has_styles = true;\n\n\t\t\t/** @type {Atrule[]} */\n\t\t\tconst stack = [];\n\t\t\tlet depth = 0;\n\n\t\t\t/** @type {Atrule} */\n\t\t\tlet current_atrule = null;\n\t\t\twalk(/** @type {any} */ (ast.css), {\n\t\t\t\tenter: (/** @type {any} */ node) => {\n\t\t\t\t\tif (node.type === 'Atrule') {\n\t\t\t\t\t\tconst atrule = new Atrule(node);\n\t\t\t\t\t\tstack.push(atrule);\n\t\t\t\t\t\tif (current_atrule) {\n\t\t\t\t\t\t\tcurrent_atrule.children.push(atrule);\n\t\t\t\t\t\t} else if (depth <= 1) {\n\t\t\t\t\t\t\tthis.children.push(atrule);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (is_keyframes_node(node)) {\n\t\t\t\t\t\t\tnode.prelude.children.forEach((expression) => {\n\t\t\t\t\t\t\t\tif (expression.type === 'Identifier' && !expression.name.startsWith('-global-')) {\n\t\t\t\t\t\t\t\t\tthis.keyframes.set(expression.name, `${this.id}-${expression.name}`);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} else if (at_rule_has_declaration(node)) {\n\t\t\t\t\t\t\tconst at_rule_declarations = node.block.children\n\t\t\t\t\t\t\t\t.filter((node) => node.type === 'Declaration')\n\t\t\t\t\t\t\t\t.map((node) => new Declaration(node));\n\t\t\t\t\t\t\tpush_array(atrule.declarations, at_rule_declarations);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tcurrent_atrule = atrule;\n\t\t\t\t\t}\n\t\t\t\t\tif (node.type === 'Rule') {\n\t\t\t\t\t\tconst rule = new Rule(node, this, current_atrule);\n\t\t\t\t\t\tif (current_atrule) {\n\t\t\t\t\t\t\tcurrent_atrule.children.push(rule);\n\t\t\t\t\t\t} else if (depth <= 1) {\n\t\t\t\t\t\t\tthis.children.push(rule);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tdepth += 1;\n\t\t\t\t},\n\t\t\t\tleave: (/** @type {any} */ node) => {\n\t\t\t\t\tif (node.type === 'Atrule') {\n\t\t\t\t\t\tstack.pop();\n\t\t\t\t\t\tcurrent_atrule = stack[stack.length - 1];\n\t\t\t\t\t}\n\t\t\t\t\tdepth -= 1;\n\t\t\t\t}\n\t\t\t});\n\t\t} else {\n\t\t\tthis.has_styles = false;\n\t\t}\n\t}\n\n\t/** @param {import('../nodes/Element.js').default} node */\n\tapply(node) {\n\t\tif (!this.has_styles) return;\n\t\tfor (let i = 0; i < this.children.length; i += 1) {\n\t\t\tconst child = this.children[i];\n\t\t\tchild.apply(node);\n\t\t}\n\t}\n\treify() {\n\t\tthis.nodes_with_css_class.forEach((node) => {\n\t\t\tnode.add_css_class();\n\t\t});\n\t}\n\n\t/** @param {string} file */\n\trender(file) {\n\t\tif (!this.has_styles) {\n\t\t\treturn { code: null, map: null };\n\t\t}\n\t\tconst code = new MagicString(this.source);\n\t\twalk(/** @type {any} */ (this.ast.css), {\n\t\t\tenter: (/** @type {any} */ node) => {\n\t\t\t\tcode.addSourcemapLocation(node.start);\n\t\t\t\tcode.addSourcemapLocation(node.end);\n\t\t\t}\n\t\t});\n\t\tconst max = Math.max(\n\t\t\t...this.children.map((rule) => rule.get_max_amount_class_specificity_increased())\n\t\t);\n\t\tthis.children.forEach((child) => {\n\t\t\tchild.transform(code, this.id, this.keyframes, max);\n\t\t});\n\t\tlet c = 0;\n\t\tthis.children.forEach((child) => {\n\t\t\tif (child.is_used(this.dev)) {\n\t\t\t\tcode.remove(c, child.node.start);\n\t\t\t\tchild.minify(code, this.dev);\n\t\t\t\tc = child.node.end;\n\t\t\t}\n\t\t});\n\t\tcode.remove(c, this.source.length);\n\t\treturn {\n\t\t\tcode: code.toString(),\n\t\t\tmap: code.generateMap({\n\t\t\t\tincludeContent: true,\n\t\t\t\tsource: this.filename,\n\t\t\t\tfile\n\t\t\t})\n\t\t};\n\t}\n\n\t/** @param {import('../Component.js').default} component */\n\tvalidate(component) {\n\t\tthis.children.forEach((child) => {\n\t\t\tchild.validate(component);\n\t\t});\n\t}\n\n\t/** @param {import('../Component.js').default} component */\n\twarn_on_unused_selectors(component) {\n\t\tconst ignores = !this.ast.css\n\t\t\t? []\n\t\t\t: extract_ignores_above_position(this.ast.css.start, this.ast.html.children);\n\t\tcomponent.push_ignores(ignores);\n\t\tthis.children.forEach((child) => {\n\t\t\tchild.warn_on_unused_selector((selector) => {\n\t\t\t\tcomponent.warn(\n\t\t\t\t\tselector.node,\n\t\t\t\t\tcompiler_warnings.css_unused_selector(\n\t\t\t\t\t\tthis.source.slice(selector.node.start, selector.node.end)\n\t\t\t\t\t)\n\t\t\t\t);\n\t\t\t});\n\t\t});\n\t\tcomponent.pop_ignores();\n\t}\n}\n", "/** The scope of constructs within the Svelte template */\nexport default class TemplateScope {\n\t/**\n\t * @typedef {import('../EachBlock').default\n\t * \t| import('../ThenBlock').default\n\t * \t| import('../CatchBlock').default\n\t * \t| import('../InlineComponent').default\n\t * \t| import('../Element').default\n\t * \t| import('../SlotTemplate').default\n\t * \t| import('../ConstTag').default} NodeWithScope\n\t */\n\n\t/** @type {Set<string>} */\n\tnames;\n\n\t/** @type {Map<string, Set<string>>} */\n\tdependencies_for_name;\n\n\t/** @type {Map<string, NodeWithScope>} */\n\towners = new Map();\n\n\t/** @type {TemplateScope} */\n\tparent;\n\n\t/** @param {TemplateScope} [parent]  undefined */\n\tconstructor(parent) {\n\t\tthis.parent = parent;\n\t\tthis.names = new Set(parent ? parent.names : []);\n\t\tthis.dependencies_for_name = new Map(parent ? parent.dependencies_for_name : []);\n\t}\n\n\t/**\n\t * @param {any} name\n\t * @param {Set<string>} dependencies\n\t * @param {any} owner\n\t */\n\tadd(name, dependencies, owner) {\n\t\tthis.names.add(name);\n\t\tthis.dependencies_for_name.set(name, dependencies);\n\t\tthis.owners.set(name, owner);\n\t\treturn this;\n\t}\n\tchild() {\n\t\tconst child = new TemplateScope(this);\n\t\treturn child;\n\t}\n\n\t/** @param {string} name */\n\tis_top_level(name) {\n\t\treturn !this.parent || (!this.names.has(name) && this.parent.is_top_level(name));\n\t}\n\n\t/**\n\t * @param {string} name\n\t * @returns {NodeWithScope}\n\t */\n\tget_owner(name) {\n\t\treturn this.owners.get(name) || (this.parent && this.parent.get_owner(name));\n\t}\n\n\t/** @param {string} name */\n\tis_let(name) {\n\t\tconst owner = this.get_owner(name);\n\t\treturn (\n\t\t\towner &&\n\t\t\t(owner.type === 'Element' ||\n\t\t\t\towner.type === 'InlineComponent' ||\n\t\t\t\towner.type === 'SlotTemplate')\n\t\t);\n\t}\n\n\t/** @param {string} name */\n\tis_await(name) {\n\t\tconst owner = this.get_owner(name);\n\t\treturn owner && (owner.type === 'ThenBlock' || owner.type === 'CatchBlock');\n\t}\n\n\t/** @param {string} name */\n\tis_const(name) {\n\t\tconst owner = this.get_owner(name);\n\t\treturn owner && owner.type === 'ConstTag';\n\t}\n}\n", "import Node from './shared/Node.js';\nimport map_children from './shared/map_children.js';\nimport TemplateScope from './shared/TemplateScope.js';\n\n/** @extends Node<'Fragment'> */\nexport default class Fragment extends Node {\n\t/** @type {import('../render_dom/Block.js').default} */\n\tblock;\n\n\t/** @type {import('./interfaces.js').INode[]} */\n\tchildren;\n\n\t/** @type {import('./shared/TemplateScope.js').default} */\n\tscope;\n\n\t/**\n\t * @param {import('../Component.js').default} component\n\t * @param {import('../../interfaces.js').TemplateNode} info\n\t */\n\tconstructor(component, info) {\n\t\tconst scope = new TemplateScope();\n\t\tsuper(component, null, scope, info);\n\t\tthis.scope = scope;\n\t\tthis.children = map_children(component, this, scope, info.children);\n\t}\n}\n", "// This file is automatically generated\nexport default new Set([\"HtmlTag\",\"HtmlTagHydration\",\"ResizeObserverSingleton\",\"SvelteComponent\",\"SvelteComponentDev\",\"SvelteComponentTyped\",\"SvelteElement\",\"action_destroyer\",\"add_attribute\",\"add_classes\",\"add_flush_callback\",\"add_iframe_resize_listener\",\"add_location\",\"add_render_callback\",\"add_styles\",\"add_transform\",\"afterUpdate\",\"append\",\"append_dev\",\"append_empty_stylesheet\",\"append_hydration\",\"append_hydration_dev\",\"append_styles\",\"assign\",\"attr\",\"attr_dev\",\"attribute_to_object\",\"beforeUpdate\",\"bind\",\"binding_callbacks\",\"blank_object\",\"bubble\",\"check_outros\",\"children\",\"claim_comment\",\"claim_component\",\"claim_element\",\"claim_html_tag\",\"claim_space\",\"claim_svg_element\",\"claim_text\",\"clear_loops\",\"comment\",\"component_subscribe\",\"compute_rest_props\",\"compute_slots\",\"construct_svelte_component\",\"construct_svelte_component_dev\",\"contenteditable_truthy_values\",\"createEventDispatcher\",\"create_animation\",\"create_bidirectional_transition\",\"create_component\",\"create_custom_element\",\"create_in_transition\",\"create_out_transition\",\"create_slot\",\"create_ssr_component\",\"current_component\",\"custom_event\",\"dataset_dev\",\"debug\",\"destroy_block\",\"destroy_component\",\"destroy_each\",\"detach\",\"detach_after_dev\",\"detach_before_dev\",\"detach_between_dev\",\"detach_dev\",\"dirty_components\",\"dispatch_dev\",\"each\",\"element\",\"element_is\",\"empty\",\"end_hydrating\",\"ensure_array_like\",\"ensure_array_like_dev\",\"escape\",\"escape_attribute_value\",\"escape_object\",\"exclude_internal_props\",\"fix_and_destroy_block\",\"fix_and_outro_and_destroy_block\",\"fix_position\",\"flush\",\"flush_render_callbacks\",\"getAllContexts\",\"getContext\",\"get_all_dirty_from_scope\",\"get_binding_group_value\",\"get_current_component\",\"get_custom_elements_slots\",\"get_root_for_style\",\"get_slot_changes\",\"get_spread_object\",\"get_spread_update\",\"get_store_value\",\"get_svelte_dataset\",\"globals\",\"group_outros\",\"handle_promise\",\"hasContext\",\"has_prop\",\"head_selector\",\"identity\",\"init\",\"init_binding_group\",\"init_binding_group_dynamic\",\"insert\",\"insert_dev\",\"insert_hydration\",\"insert_hydration_dev\",\"intros\",\"invalid_attribute_name_character\",\"is_client\",\"is_crossorigin\",\"is_empty\",\"is_function\",\"is_promise\",\"is_void\",\"listen\",\"listen_dev\",\"loop\",\"loop_guard\",\"merge_ssr_styles\",\"missing_component\",\"mount_component\",\"noop\",\"not_equal\",\"now\",\"null_to_empty\",\"object_without_properties\",\"onDestroy\",\"onMount\",\"once\",\"outro_and_destroy_block\",\"prevent_default\",\"prop_dev\",\"query_selector_all\",\"raf\",\"resize_observer_border_box\",\"resize_observer_content_box\",\"resize_observer_device_pixel_content_box\",\"run\",\"run_all\",\"safe_not_equal\",\"schedule_update\",\"select_multiple_value\",\"select_option\",\"select_options\",\"select_value\",\"self\",\"setContext\",\"set_attributes\",\"set_current_component\",\"set_custom_element_data\",\"set_custom_element_data_map\",\"set_data\",\"set_data_contenteditable\",\"set_data_contenteditable_dev\",\"set_data_dev\",\"set_data_maybe_contenteditable\",\"set_data_maybe_contenteditable_dev\",\"set_dynamic_element_data\",\"set_input_type\",\"set_input_value\",\"set_now\",\"set_raf\",\"set_store_value\",\"set_style\",\"set_svg_attributes\",\"space\",\"split_css_unit\",\"spread\",\"src_url_equal\",\"srcset_url_equal\",\"start_hydrating\",\"stop_immediate_propagation\",\"stop_propagation\",\"stringify_spread\",\"subscribe\",\"svg_element\",\"text\",\"tick\",\"time_ranges_to_array\",\"to_number\",\"toggle_class\",\"transition_in\",\"transition_out\",\"trusted\",\"update_await_block_branch\",\"update_keyed_each\",\"update_slot\",\"update_slot_base\",\"validate_component\",\"validate_dynamic_element\",\"validate_each_keys\",\"validate_slots\",\"validate_store\",\"validate_void_dynamic_element\",\"xlink_attr\"]);", "import is_reference from 'is-reference';\n\n/**\n *\n * @param {import('estree').Node} node\n * @param {import('estree').Node} parent\n * @returns {boolean}\n */\nexport default function is_used_as_reference(node, parent) {\n\tif (\n\t\t!is_reference(\n\t\t\t/** @type {import('is-reference').NodeWithPropertyDefinition} */ (node),\n\t\t\t/** @type {import('is-reference').NodeWithPropertyDefinition} */ (parent)\n\t\t)\n\t) {\n\t\treturn false;\n\t}\n\tif (!parent) {\n\t\treturn true;\n\t}\n\n\t/* eslint-disable no-fallthrough */\n\tswitch (parent.type) {\n\t\t// disregard the `foo` in `const foo = bar`\n\t\tcase 'VariableDeclarator':\n\t\t\treturn node !== parent.id;\n\t\t// disregard the `foo`, `bar` in `function foo(bar){}`\n\t\tcase 'FunctionDeclaration':\n\t\t// disregard the `foo` in `import { foo } from 'foo'`\n\t\tcase 'ImportSpecifier':\n\t\t// disregard the `foo` in `import foo from 'foo'`\n\t\tcase 'ImportDefaultSpecifier':\n\t\t// disregard the `foo` in `import * as foo from 'foo'`\n\t\tcase 'ImportNamespaceSpecifier':\n\t\t// disregard the `foo` in `export { foo }`\n\t\tcase 'ExportSpecifier':\n\t\t\treturn false;\n\t\tdefault:\n\t\t\treturn true;\n\t}\n}\n", "const regex_percentage_characters = /%/g;\nconst regex_file_ending = /\\.[^.]+$/;\nconst regex_repeated_invalid_variable_identifier_characters = /[^a-zA-Z_$0-9]+/g;\nconst regex_starts_with_digit = /^(\\d)/;\nconst regex_may_starts_or_ends_with_underscore = /^_?(.+?)_?$/;\n\n/**\n * @param {string} filename\n */\nexport default function get_name_from_filename(filename) {\n\tif (!filename) return null;\n\n\tconst parts = filename.split(/[/\\\\]/).map(encodeURI);\n\n\tif (parts.length > 1) {\n\t\tconst index_match = parts[parts.length - 1].match(/^index(\\.\\w+)/);\n\t\tif (index_match) {\n\t\t\tparts.pop();\n\t\t\tparts[parts.length - 1] += index_match[1];\n\t\t}\n\t}\n\n\tconst base = parts\n\t\t.pop()\n\t\t.replace(regex_percentage_characters, 'u')\n\t\t.replace(regex_file_ending, '')\n\t\t.replace(regex_repeated_invalid_variable_identifier_characters, '_')\n\t\t.replace(regex_may_starts_or_ends_with_underscore, '$1')\n\t\t.replace(regex_starts_with_digit, '_$1');\n\n\tif (!base) {\n\t\tthrow new Error(`Could not derive component name from file ${filename}`);\n\t}\n\n\treturn base[0].toUpperCase() + base.slice(1);\n}\n", "import Stats from '../Stats.js';\nimport parse from '../parse/index.js';\nimport render_dom from './render_dom/index.js';\nimport render_ssr from './render_ssr/index.js';\nimport Component from './Component.js';\nimport fuzzymatch from '../utils/fuzzymatch.js';\nimport get_name_from_filename from './utils/get_name_from_filename.js';\nimport { valid_namespaces } from '../utils/namespaces.js';\n\nconst valid_options = [\n\t'name',\n\t'filename',\n\t'sourcemap',\n\t'enableSourcemap',\n\t'generate',\n\t'errorMode',\n\t'varsReport',\n\t'outputFilename',\n\t'cssOutputFilename',\n\t'sveltePath',\n\t'dev',\n\t'accessors',\n\t'immutable',\n\t'hydratable',\n\t'legacy',\n\t'customElement',\n\t'namespace',\n\t'tag',\n\t'css',\n\t'loopGuardTimeout',\n\t'preserveComments',\n\t'preserveWhitespace',\n\t'cssHash',\n\t'discloseVersion'\n];\nconst valid_css_values = [true, false, 'injected', 'external', 'none'];\nconst regex_valid_identifier = /^[a-zA-Z_$][a-zA-Z_$0-9]*$/;\nconst regex_starts_with_lowercase_character = /^[a-z]/;\n\nlet warned_of_format = false;\nlet warned_boolean_css = false;\n\n/**\n * @param {import('../interfaces.js').CompileOptions} options\n * @param {import('../interfaces.js').Warning[]} warnings\n */\nfunction validate_options(options, warnings) {\n\tif (/** @type {any} */ (options).format) {\n\t\tif (!warned_of_format) {\n\t\t\twarned_of_format = true;\n\t\t\tconsole.warn(\n\t\t\t\t'The format option has been removed in Svelte 4, the compiler only outputs ESM now. Remove \"format\" from your compiler options. ' +\n\t\t\t\t\t'If you did not set this yourself, bump the version of your bundler plugin (vite-plugin-svelte/rollup-plugin-svelte/svelte-loader)'\n\t\t\t);\n\t\t}\n\t\tdelete (/** @type {any} */ (options).format);\n\t}\n\n\tconst { name, filename, loopGuardTimeout, dev, namespace, css } = options;\n\tObject.keys(options).forEach((key) => {\n\t\tif (!valid_options.includes(key)) {\n\t\t\tconst match = fuzzymatch(key, valid_options);\n\t\t\tlet message = `Unrecognized option '${key}'`;\n\t\t\tif (match) message += ` (did you mean '${match}'?)`;\n\t\t\tthrow new Error(message);\n\t\t}\n\t});\n\tif (name && !regex_valid_identifier.test(name)) {\n\t\tthrow new Error(`options.name must be a valid identifier (got '${name}')`);\n\t}\n\tif (name && regex_starts_with_lowercase_character.test(name)) {\n\t\tconst message = 'options.name should be capitalised';\n\t\twarnings.push({\n\t\t\tcode: 'options-lowercase-name',\n\t\t\tmessage,\n\t\t\tfilename,\n\t\t\ttoString: () => message\n\t\t});\n\t}\n\tif (loopGuardTimeout && !dev) {\n\t\tconst message = 'options.loopGuardTimeout is for options.dev = true only';\n\t\twarnings.push({\n\t\t\tcode: 'options-loop-guard-timeout',\n\t\t\tmessage,\n\t\t\tfilename,\n\t\t\ttoString: () => message\n\t\t});\n\t}\n\n\tif (css === true || css === false) {\n\t\toptions.css = css === true ? 'injected' : 'external';\n\t\tif (!warned_boolean_css) {\n\t\t\tconsole.warn(\n\t\t\t\t`compilerOptions.css as a boolean is deprecated. Use '${options.css}' instead of ${css}.`\n\t\t\t);\n\t\t\twarned_boolean_css = true;\n\t\t}\n\t}\n\n\tif (!valid_css_values.includes(options.css)) {\n\t\tthrow new Error(\n\t\t\t`compilerOptions.css must be 'injected', 'external' or 'none' (got '${options.css}').`\n\t\t);\n\t}\n\n\tif (namespace && valid_namespaces.indexOf(namespace) === -1) {\n\t\tconst match = fuzzymatch(namespace, valid_namespaces);\n\t\tif (match) {\n\t\t\tthrow new Error(`Invalid namespace '${namespace}' (did you mean '${match}'?)`);\n\t\t} else {\n\t\t\tthrow new Error(`Invalid namespace '${namespace}'`);\n\t\t}\n\t}\n\n\tif (options.discloseVersion == undefined) {\n\t\toptions.discloseVersion = true;\n\t}\n}\n\n/**\n * `compile` takes your component source code, and turns it into a JavaScript module that exports a class.\n *\n * https://svelte.dev/docs/svelte-compiler#svelte-compile\n * @param {string} source\n * @param {import('../interfaces.js').CompileOptions} options\n */\nexport default function compile(source, options = {}) {\n\toptions = Object.assign(\n\t\t{ generate: 'dom', dev: false, enableSourcemap: true, css: 'injected' },\n\t\toptions\n\t);\n\tconst stats = new Stats();\n\tconst warnings = [];\n\tvalidate_options(options, warnings);\n\tstats.start('parse');\n\tconst ast = parse(source, options);\n\tstats.stop('parse');\n\tstats.start('create component');\n\tconst component = new Component(\n\t\tast,\n\t\tsource,\n\t\toptions.name || get_name_from_filename(options.filename) || 'Component',\n\t\toptions,\n\t\tstats,\n\t\twarnings\n\t);\n\tstats.stop('create component');\n\tconst result =\n\t\toptions.generate === false\n\t\t\t? null\n\t\t\t: options.generate === 'ssr'\n\t\t\t? render_ssr(component, options)\n\t\t\t: render_dom(component, options);\n\treturn component.generate(result);\n}\n", "import { decode as decode_mappings } from '@jridgewell/sourcemap-codec';\n\n/**\n * Import decoded sourcemap from mozilla/source-map/SourceMapGenerator\n * Forked from source-map/lib/source-map-generator.js\n * from methods _serializeMappings and toJSON.\n * We cannot use source-map.d.ts types, because we access hidden properties.\n * @param {any} generator\n */\nfunction decoded_sourcemap_from_generator(generator) {\n\tlet previous_generated_line = 1;\n\tconst converted_mappings = [[]];\n\tlet result_line;\n\tlet result_segment;\n\tlet mapping;\n\tconst source_idx = generator._sources\n\t\t.toArray()\n\t\t.reduce((acc, val, idx) => ((acc[val] = idx), acc), {});\n\tconst name_idx = generator._names\n\t\t.toArray()\n\t\t.reduce((acc, val, idx) => ((acc[val] = idx), acc), {});\n\tconst mappings = generator._mappings.toArray();\n\tresult_line = converted_mappings[0];\n\tfor (let i = 0, len = mappings.length; i < len; i++) {\n\t\tmapping = mappings[i];\n\t\tif (mapping.generatedLine > previous_generated_line) {\n\t\t\twhile (mapping.generatedLine > previous_generated_line) {\n\t\t\t\tconverted_mappings.push([]);\n\t\t\t\tprevious_generated_line++;\n\t\t\t}\n\t\t\tresult_line = converted_mappings[mapping.generatedLine - 1]; // line is one-based\n\t\t} else if (i > 0) {\n\t\t\tconst previous_mapping = mappings[i - 1];\n\t\t\tif (\n\t\t\t\t// sorted by selectivity\n\t\t\t\tmapping.generatedColumn === previous_mapping.generatedColumn &&\n\t\t\t\tmapping.originalColumn === previous_mapping.originalColumn &&\n\t\t\t\tmapping.name === previous_mapping.name &&\n\t\t\t\tmapping.generatedLine === previous_mapping.generatedLine &&\n\t\t\t\tmapping.originalLine === previous_mapping.originalLine &&\n\t\t\t\tmapping.source === previous_mapping.source\n\t\t\t) {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t}\n\t\tresult_line.push([mapping.generatedColumn]);\n\t\tresult_segment = result_line[result_line.length - 1];\n\t\tif (mapping.source != null) {\n\t\t\tresult_segment.push(\n\t\t\t\t...[source_idx[mapping.source], mapping.originalLine - 1, mapping.originalColumn]\n\t\t\t);\n\t\t\tif (mapping.name != null) {\n\t\t\t\tresult_segment.push(name_idx[mapping.name]);\n\t\t\t}\n\t\t}\n\t}\n\tconst map = {\n\t\tversion: generator._version,\n\t\tsources: generator._sources.toArray(),\n\t\tnames: generator._names.toArray(),\n\t\tmappings: converted_mappings\n\t};\n\tif (generator._file != null) {\n\t\tmap.file = generator._file;\n\t}\n\t// not needed: map.sourcesContent and map.sourceRoot\n\treturn map;\n}\n\n/**\n * @param {import('./public.js').Processed} processed\n */\nexport function decode_map(processed) {\n\tlet decoded_map = typeof processed.map === 'string' ? JSON.parse(processed.map) : processed.map;\n\tif (typeof decoded_map.mappings === 'string') {\n\t\tdecoded_map.mappings = decode_mappings(decoded_map.mappings);\n\t}\n\tif (decoded_map._mappings && decoded_map.constructor.name === 'SourceMapGenerator') {\n\t\t// import decoded sourcemap from mozilla/source-map/SourceMapGenerator\n\t\tdecoded_map = decoded_sourcemap_from_generator(decoded_map);\n\t}\n\treturn decoded_map;\n}\n", "import { MappedCode } from '../utils/mapped_code.js';\n\n/**\n * @param {string} code_slice\n * @param {number} offset\n * @param {import('./private.js').Source} opts\n * @returns {import('./private.js').Source}\n */\nexport function slice_source(code_slice, offset, { file_basename, filename, get_location }) {\n\treturn {\n\t\tsource: code_slice,\n\t\tget_location: (index) => get_location(index + offset),\n\t\tfile_basename,\n\t\tfilename\n\t};\n}\n\n/**\n * @param {RegExp} re\n * @param {(...match: any[]) => Promise<MappedCode>} get_replacement\n * @param {string} source\n */\nfunction calculate_replacements(re, get_replacement, source) {\n\t/**\n\t * @type {Array<Promise<import('./private.js').Replacement>>}\n\t */\n\tconst replacements = [];\n\tsource.replace(re, (...match) => {\n\t\treplacements.push(\n\t\t\tget_replacement(...match).then((replacement) => {\n\t\t\t\tconst matched_string = match[0];\n\t\t\t\tconst offset = match[match.length - 2];\n\t\t\t\treturn { offset, length: matched_string.length, replacement };\n\t\t\t})\n\t\t);\n\t\treturn '';\n\t});\n\treturn Promise.all(replacements);\n}\n\n/**\n * @param {import('./private.js').Replacement[]} replacements\n * @param {import('./private.js').Source} source\n * @returns {MappedCode}\n */\nfunction perform_replacements(replacements, source) {\n\tconst out = new MappedCode();\n\tlet last_end = 0;\n\tfor (const { offset, length, replacement } of replacements) {\n\t\tconst unchanged_prefix = MappedCode.from_source(\n\t\t\tslice_source(source.source.slice(last_end, offset), last_end, source)\n\t\t);\n\t\tout.concat(unchanged_prefix).concat(replacement);\n\t\tlast_end = offset + length;\n\t}\n\tconst unchanged_suffix = MappedCode.from_source(\n\t\tslice_source(source.source.slice(last_end), last_end, source)\n\t);\n\treturn out.concat(unchanged_suffix);\n}\n\n/**\n * @param {RegExp} regex\n * @param {(...match: any[]) => Promise<MappedCode>} get_replacement\n * @param {import('./private.js').Source} location\n * @returns {Promise<MappedCode>}\n */\nexport async function replace_in_code(regex, get_replacement, location) {\n\tconst replacements = await calculate_replacements(regex, get_replacement, location.source);\n\treturn perform_replacements(replacements, location);\n}\n", "import { getLocator } from 'locate-character';\nimport {\n\tMappedCode,\n\tparse_attached_sourcemap,\n\tsourcemap_add_offset,\n\tcombine_sourcemaps\n} from '../utils/mapped_code.js';\nimport { decode_map } from './decode_sourcemap.js';\nimport { replace_in_code, slice_source } from './replace_in_code.js';\n\nconst regex_filepath_separator = /[/\\\\]/;\n\n/**\n * @param {string} filename\n */\nfunction get_file_basename(filename) {\n\treturn filename.split(regex_filepath_separator).pop();\n}\n\n/**\n * Represents intermediate states of the preprocessing.\n */\nclass PreprocessResult {\n\t/** @type {string} */\n\tsource;\n\t/** @type {string | undefined} */\n\tfilename;\n\n\t// sourcemap_list is sorted in reverse order from last map (index 0) to first map (index -1)\n\t// so we use sourcemap_list.unshift() to add new maps\n\t// https://github.com/ampproject/remapping#multiple-transformations-of-a-file\n\n\t/**\n\t * @default []\n\t * @type {Array<import('@ampproject/remapping').DecodedSourceMap | import('@ampproject/remapping').RawSourceMap>}\n\t */\n\tsourcemap_list = [];\n\n\t/**\n\t * @default []\n\t * @type {string[]}\n\t */\n\tdependencies = [];\n\n\t/**\n\t * @type {string}\n\t */\n\tfile_basename = undefined;\n\n\t/**\n\t * @type {ReturnType<typeof getLocator>}\n\t */\n\tget_location = undefined;\n\n\t/**\n\t *\n\t * @param {string} source\n\t * @param {string} [filename]\n\t */\n\tconstructor(source, filename) {\n\t\tthis.source = source;\n\t\tthis.filename = filename;\n\t\tthis.update_source({ string: source });\n\t\t// preprocess source must be relative to itself or equal null\n\t\tthis.file_basename = filename == null ? null : get_file_basename(filename);\n\t}\n\n\t/**\n\t * @param {import('./private.js').SourceUpdate} opts\n\t */\n\tupdate_source({ string: source, map, dependencies }) {\n\t\tif (source != null) {\n\t\t\tthis.source = source;\n\t\t\tthis.get_location = getLocator(source);\n\t\t}\n\t\tif (map) {\n\t\t\tthis.sourcemap_list.unshift(map);\n\t\t}\n\t\tif (dependencies) {\n\t\t\tthis.dependencies.push(...dependencies);\n\t\t}\n\t}\n\n\t/**\n\t * @returns {import('./public.js').Processed}\n\t */\n\tto_processed() {\n\t\t// Combine all the source maps for each preprocessor function into one\n\t\tconst map = combine_sourcemaps(this.file_basename, this.sourcemap_list);\n\t\treturn {\n\t\t\t// TODO return separated output, in future version where svelte.compile supports it:\n\t\t\t// style: { code: styleCode, map: styleMap },\n\t\t\t// script { code: scriptCode, map: scriptMap },\n\t\t\t// markup { code: markupCode, map: markupMap },\n\t\t\tcode: this.source,\n\t\t\tdependencies: [...new Set(this.dependencies)],\n\t\t\tmap,\n\t\t\ttoString: () => this.source\n\t\t};\n\t}\n}\n/**\n * Convert preprocessor output for the tag content into MappedCode\n * @param {import('./public.js').Processed} processed\n * @param {{ line: number; column: number; }} location\n * @param {string} file_basename\n * @returns {MappedCode}\n */\nfunction processed_content_to_code(processed, location, file_basename) {\n\t// Convert the preprocessed code and its sourcemap to a MappedCode\n\n\t/**\n\t * @type {import('@ampproject/remapping').DecodedSourceMap}\n\t */\n\tlet decoded_map;\n\tif (processed.map) {\n\t\tdecoded_map = decode_map(processed);\n\t\t// decoded map may not have sources for empty maps like `{ mappings: '' }`\n\t\tif (decoded_map.sources) {\n\t\t\t// offset only segments pointing at original component source\n\t\t\tconst source_index = decoded_map.sources.indexOf(file_basename);\n\t\t\tif (source_index !== -1) {\n\t\t\t\tsourcemap_add_offset(decoded_map, location, source_index);\n\t\t\t}\n\t\t}\n\t}\n\treturn MappedCode.from_processed(processed.code, decoded_map);\n}\n/**\n * Given the whole tag including content, return a `MappedCode`\n * representing the tag content replaced with `processed`.\n * @param {import('./public.js').Processed} processed\n * @param {'style' | 'script'} tag_name\n * @param {string} original_attributes\n * @param {string} generated_attributes\n * @param {import('./private.js').Source} source\n * @returns {MappedCode}\n */\nfunction processed_tag_to_code(\n\tprocessed,\n\ttag_name,\n\toriginal_attributes,\n\tgenerated_attributes,\n\tsource\n) {\n\tconst { file_basename, get_location } = source;\n\n\t/**\n\t * @param {string} code\n\t * @param {number} offset\n\t */\n\tconst build_mapped_code = (code, offset) =>\n\t\tMappedCode.from_source(slice_source(code, offset, source));\n\n\t// To map the open/close tag and content starts positions correctly, we need to\n\t// differentiate between the original attributes and the generated attributes:\n\t// `source` contains the original attributes and its get_location maps accordingly.\n\tconst original_tag_open = `<${tag_name}${original_attributes}>`;\n\tconst tag_open = `<${tag_name}${generated_attributes}>`;\n\t/** @type {MappedCode} */\n\tlet tag_open_code;\n\n\tif (original_tag_open.length !== tag_open.length) {\n\t\t// Generate a source map for the open tag\n\t\t/** @type {import('@ampproject/remapping').DecodedSourceMap['mappings']} */\n\t\tconst mappings = [\n\t\t\t[\n\t\t\t\t// start of tag\n\t\t\t\t[0, 0, 0, 0],\n\t\t\t\t// end of tag start\n\t\t\t\t[`<${tag_name}`.length, 0, 0, `<${tag_name}`.length]\n\t\t\t]\n\t\t];\n\n\t\tconst line = tag_open.split('\\n').length - 1;\n\t\tconst column = tag_open.length - (line === 0 ? 0 : tag_open.lastIndexOf('\\n')) - 1;\n\n\t\twhile (mappings.length <= line) {\n\t\t\t// end of tag start again, if this is a multi line mapping\n\t\t\tmappings.push([[0, 0, 0, `<${tag_name}`.length]]);\n\t\t}\n\n\t\t// end of tag\n\t\tmappings[line].push([\n\t\t\tcolumn,\n\t\t\t0,\n\t\t\toriginal_tag_open.split('\\n').length - 1,\n\t\t\toriginal_tag_open.length - original_tag_open.lastIndexOf('\\n') - 1\n\t\t]);\n\n\t\t/** @type {import('@ampproject/remapping').DecodedSourceMap} */\n\t\tconst map = {\n\t\t\tversion: 3,\n\t\t\tnames: [],\n\t\t\tsources: [file_basename],\n\t\t\tmappings\n\t\t};\n\t\tsourcemap_add_offset(map, get_location(0), 0);\n\t\ttag_open_code = MappedCode.from_processed(tag_open, map);\n\t} else {\n\t\ttag_open_code = build_mapped_code(tag_open, 0);\n\t}\n\n\tconst tag_close = `</${tag_name}>`;\n\tconst tag_close_code = build_mapped_code(\n\t\ttag_close,\n\t\toriginal_tag_open.length + source.source.length\n\t);\n\n\tparse_attached_sourcemap(processed, tag_name);\n\tconst content_code = processed_content_to_code(\n\t\tprocessed,\n\t\tget_location(original_tag_open.length),\n\t\tfile_basename\n\t);\n\n\treturn tag_open_code.concat(content_code).concat(tag_close_code);\n}\n\nconst attribute_pattern = /([\\w-$]+\\b)(?:=(?:\"([^\"]*)\"|'([^']*)'|(\\S+)))?/g;\n\n/**\n * @param {string} str\n */\nfunction parse_tag_attributes(str) {\n\t/** @type {Record<string, string | boolean>} */\n\tconst attrs = {};\n\n\t/** @type {RegExpMatchArray} */\n\tlet match;\n\twhile ((match = attribute_pattern.exec(str)) !== null) {\n\t\tconst name = match[1];\n\t\tconst value = match[2] || match[3] || match[4];\n\t\tattrs[name] = !value || value;\n\t}\n\n\treturn attrs;\n}\n\n/**\n * @param {Record<string, string | boolean> | undefined} attributes\n */\nfunction stringify_tag_attributes(attributes) {\n\tif (!attributes) return;\n\n\tlet value = Object.entries(attributes)\n\t\t.map(([key, value]) => (value === true ? key : `${key}=\"${value}\"`))\n\t\t.join(' ');\n\tif (value) {\n\t\tvalue = ' ' + value;\n\t}\n\treturn value;\n}\n\nconst regex_style_tags =\n\t/<!--[^]*?-->|<style((?:\\s+[^=>'\"\\/]+=(?:\"[^\"]*\"|'[^']*'|[^>\\s]+)|\\s+[^=>'\"\\/]+)*\\s*)(?:\\/>|>([\\S\\s]*?)<\\/style>)/g;\nconst regex_script_tags =\n\t/<!--[^]*?-->|<script((?:\\s+[^=>'\"\\/]+=(?:\"[^\"]*\"|'[^']*'|[^>\\s]+)|\\s+[^=>'\"\\/]+)*\\s*)(?:\\/>|>([\\S\\s]*?)<\\/script>)/g;\n\n/**\n * Calculate the updates required to process all instances of the specified tag.\n * @param {'style' | 'script'} tag_name\n * @param {import('./public.js').Preprocessor} preprocessor\n * @param {import('./private.js').Source} source\n * @returns {Promise<import('./private.js').SourceUpdate>}\n */\nasync function process_tag(tag_name, preprocessor, source) {\n\tconst { filename, source: markup } = source;\n\tconst tag_regex = tag_name === 'style' ? regex_style_tags : regex_script_tags;\n\n\t/**\n\t * @type {string[]}\n\t */\n\tconst dependencies = [];\n\n\t/**\n\t * @param {string} tag_with_content\n\t * @param {number} tag_offset\n\t * @returns {Promise<MappedCode>}\n\t */\n\tasync function process_single_tag(tag_with_content, attributes = '', content = '', tag_offset) {\n\t\tconst no_change = () =>\n\t\t\tMappedCode.from_source(slice_source(tag_with_content, tag_offset, source));\n\t\tif (!attributes && !content) return no_change();\n\t\tconst processed = await preprocessor({\n\t\t\tcontent: content || '',\n\t\t\tattributes: parse_tag_attributes(attributes || ''),\n\t\t\tmarkup,\n\t\t\tfilename\n\t\t});\n\t\tif (!processed) return no_change();\n\t\tif (processed.dependencies) dependencies.push(...processed.dependencies);\n\t\tif (!processed.map && processed.code === content) return no_change();\n\t\treturn processed_tag_to_code(\n\t\t\tprocessed,\n\t\t\ttag_name,\n\t\t\tattributes,\n\t\t\tstringify_tag_attributes(processed.attributes) ?? attributes,\n\t\t\tslice_source(content, tag_offset, source)\n\t\t);\n\t}\n\tconst { string, map } = await replace_in_code(tag_regex, process_single_tag, source);\n\treturn { string, map, dependencies };\n}\n\n/**\n * @param {import('./public.js').MarkupPreprocessor} process\n * @param {import('./private.js').Source} source\n */\nasync function process_markup(process, source) {\n\tconst processed = await process({\n\t\tcontent: source.source,\n\t\tfilename: source.filename\n\t});\n\tif (processed) {\n\t\treturn {\n\t\t\tstring: processed.code,\n\t\t\tmap: processed.map\n\t\t\t\t? // TODO: can we use decode_sourcemap?\n\t\t\t\t  typeof processed.map === 'string'\n\t\t\t\t\t? JSON.parse(processed.map)\n\t\t\t\t\t: processed.map\n\t\t\t\t: undefined,\n\t\t\tdependencies: processed.dependencies\n\t\t};\n\t} else {\n\t\treturn {};\n\t}\n}\n\n/**\n * The preprocess function provides convenient hooks for arbitrarily transforming component source code.\n * For example, it can be used to convert a <style lang=\"sass\"> block into vanilla CSS.\n *\n * https://svelte.dev/docs/svelte-compiler#svelte-preprocess\n * @param {string} source\n * @param {import('./public.js').PreprocessorGroup | import('./public.js').PreprocessorGroup[]} preprocessor\n * @param {{ filename?: string }} [options]\n * @returns {Promise<import('./public.js').Processed>}\n */\nexport default async function preprocess(source, preprocessor, options) {\n\t/**\n\t * @type {string | undefined}\n\t */\n\tconst filename = (options && options.filename) || /** @type {any} */ (preprocessor).filename; // legacy\n\tconst preprocessors = preprocessor\n\t\t? Array.isArray(preprocessor)\n\t\t\t? preprocessor\n\t\t\t: [preprocessor]\n\t\t: [];\n\tconst result = new PreprocessResult(source, filename);\n\n\t// TODO keep track: what preprocessor generated what sourcemap?\n\t// to make debugging easier = detect low-resolution sourcemaps in fn combine_mappings\n\tfor (const preprocessor of preprocessors) {\n\t\tif (preprocessor.markup) {\n\t\t\tresult.update_source(await process_markup(preprocessor.markup, result));\n\t\t}\n\t\tif (preprocessor.script) {\n\t\t\tresult.update_source(await process_tag('script', preprocessor.script, result));\n\t\t}\n\t\tif (preprocessor.style) {\n\t\t\tresult.update_source(await process_tag('style', preprocessor.style, result));\n\t\t}\n\t}\n\n\treturn result.to_processed();\n}\n"],
  "mappings": "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A,EACtB,sBAAsB;AAAA,EACtB,sBAAsB;AAAA,EACtB,sBAAsB;AAAA,EACtB,sBAAsB;AAAA,EACtB,sBAAsB;AAAA,EACtB,sBAAsB;AAAA,EACtB,sBAAsB;AAAA,EACtB,sBAAsB;AAAA,EACtB,sBAAsB;AAAA,EACtB,sBAAsB;AAAA,EACtB,sBAAsB;AAAA,EACtB,sBAAsB;AAAA,EACtB,qBAAqB;AAAA,EACrB,qBAAqB;AAAA,EACrB,qBAAqB;AAAA,EACrB,qBAAqB;AAAA,EACrB,qBAAqB;AAAA,EACrB,qBAAqB;AAAA,EACrB,qBAAqB;AAAA,EACrB,qBAAqB;AAAA,EACrB,qBAAqB;AAAA,EACrB,qBAAqB;AAAA,EACrB,qBAAqB;AAAA,EACrB,qBAAqB;AAAA,EACrB,qBAAqB;AAAA,EACrB,qBAAqB;AAAA,EACrB,qBAAqB;AAAA,EACrB,qBAAqB;AAAA,EACrB,qBAAqB;AAAA,EACrB,qBAAqB;AAAA,EACrB,qBAAqB;AAAA,EACrB,qBAAqB;AAAA,EACrB,qBAAqB;AAAA,EACrB,qBAAqB;AAAA,EACrB,qBAAqB;AAAA,EACrB,qBAAqB;AAAA,EACrB,qBAAqB;AAAA,EACrB,qBAAqB;AAAA,EACrB,qBAAqB;AAAA,EACrB,qBAAqB;AAAA,EACrB,qBAAqB;AAAA,EACrB,oBAAoB;AAAA,EACpB,oBAAoB;AAAA,EACpB,oBAAoB;AAAA,EACpB,oBAAoB;AAAA,EACpB,oBAAoB;AAAA,EACpB,oBAAoB;AAAA,EACpB,oBAAoB;AAAA,EACpB,oBAAoB;AAAA,EACpB,oBAAoB;AAAA,EACpB,oBAAoB;AAAA,EACpB,oBAAoB;AAAA,EACpB,oBAAoB;AAAA,EACpB,oBAAoB;AAAA,EACpB,oBAAoB;AAAA,EACpB,oBAAoB;AAAA,EACpB,oBAAoB;AAAA,EACpB,oBAAoB;AAAA,EACpB,oBAAoB;AAAA,EACpB,oBAAoB;AAAA,EACpB,oBAAoB;AAAA,EACpB,oBAAoB;AAAA,EACpB,oBAAoB;AAAA,EACpB,oBAAoB;AAAA,EACpB,oBAAoB;AAAA,EACpB,oBAAoB;AAAA,EACpB,oBAAoB;AAAA,EACpB,oBAAoB;AAAA,EACpB,oBAAoB;AAAA,EACpB,oBAAoB;AAAA,EACpB,oBAAoB;AAAA,EACpB,oBAAoB;AAAA,EACpB,oBAAoB;AAAA,EACpB,oBAAoB;AAAA,EACpB,oBAAoB;AAAA,EACpB,mBAAmB;AAAA,EACnB,mBAAmB;AAAA,EACnB,mBAAmB;AAAA,EACnB,mBAAmB;AAAA,EACnB,mBAAmB;AAAA,EACnB,mBAAmB;AAAA,EACnB,mBAAmB;AAAA,EACnB,mBAAmB;AAAA,EACnB,mBAAmB;AAAA,EACnB,mBAAmB;AAAA,EACnB,mBAAmB;AAAA,EACnB,mBAAmB;AAAA,EACnB,mBAAmB;AAAA,EACnB,mBAAmB;AAAA,EACnB,mBAAmB;AAAA,EACnB,mBAAmB;AAAA,EACnB,mBAAmB;AAAA,EACnB,mBAAmB;AAAA,EACnB,mBAAmB;AAAA,EACnB,mBAAmB;AAAA,EACnB,mBAAmB;AAAA,EACnB,mBAAmB;AAAA,EACnB,mBAAmB;AAAA,EACnB,mBAAmB;AAAA,EACnB,mBAAmB;AAAA,EACnB,mBAAmB;AAAA,EACnB,mBAAmB;AAAA,EACnB,mBAAmB;AAAA,EACnB,mBAAmB;AAAA,EACnB,mBAAmB;AAAA,EACnB,mBAAmB;AAAA,EACnB,mBAAmB;AAAA,EACnB,mBAAmB;AAAA,EACnB,mBAAmB;AAAA,EACnB,mBAAmB;AAAA,EACnB,mBAAmB;AAAA,EACnB,mBAAmB;AAAA,EACnB,mBAAmB;AAAA,EACnB,mBAAmB;AAAA,EACnB,mBAAmB;AAAA,EACnB,mBAAmB;AAAA,EACnB,mBAAmB;AAAA,EACnB,mBAAmB;AAAA,EACnB,mBAAmB;AAAA,EACnB,kBAAkB;AAAA,EAClB,kBAAkB;AAAA,EAClB,kBAAkB;AAAA,EAClB,kBAAkB;AAAA,EAClB,kBAAkB;AAAA,EAClB,kBAAkB;AAAA,EAClB,kBAAkB;AAAA,EAClB,kBAAkB;AAAA,EAClB,kBAAkB;AAAA,EAClB,kBAAkB;AAAA,EAClB,kBAAkB;AAAA,EAClB,kBAAkB;AAAA,EAClB,kBAAkB;AAAA,EAClB,kBAAkB;AAAA,EAClB,kBAAkB;AAAA,EAClB,kBAAkB;AAAA,EAClB,kBAAkB;AAAA,EAClB,kBAAkB;AAAA,EAClB,kBAAkB;AAAA,EAClB,kBAAkB;AAAA,EAClB,kBAAkB;AAAA,EAClB,kBAAkB;AAAA,EAClB,kBAAkB;AAAA,EAClB,kBAAkB;AAAA,EAClB,kBAAkB;AAAA,EAClB,kBAAkB;AAAA,EAClB,kBAAkB;AAAA,EAClB,kBAAkB;AAAA,EAClB,kBAAkB;AAAA,EAClB,kBAAkB;AAAA,EAClB,kBAAkB;AAAA,EAClB,kBAAkB;AAAA,EAClB,kBAAkB;AAAA,EAClB,kBAAkB;AAAA,EAClB,kBAAkB;AAAA,EAClB,kBAAkB;AAAA,EAClB,kBAAkB;AAAA,EAClB,kBAAkB;AAAA,EAClB,kBAAkB;AAAA,EAClB,kBAAkB;AAAA,EAClB,kBAAkB;AAAA,EAClB,kBAAkB;AAAA,EAClB,iBAAiB;AAAA,EACjB,iBAAiB;AAAA,EACjB,iBAAiB;AAAA,EACjB,iBAAiB;AAAA,EACjB,iBAAiB;AAAA,EACjB,iBAAiB;AAAA,EACjB,iBAAiB;AAAA,EACjB,iBAAiB;AAAA,EACjB,iBAAiB;AAAA,EACjB,iBAAiB;AAAA,EACjB,iBAAiB;AAAA,EACjB,iBAAiB;AAAA,EACjB,iBAAiB;AAAA,EACjB,iBAAiB;AAAA,EACjB,iBAAiB;AAAA,EACjB,iBAAiB;AAAA,EACjB,iBAAiB;AAAA,EACjB,iBAAiB;AAAA,EACjB,iBAAiB;AAAA,EACjB,iBAAiB;AAAA,EACjB,iBAAiB;AAAA,EACjB,iBAAiB;AAAA,EACjB,iBAAiB;AAAA,EACjB,iBAAiB;AAAA,EACjB,iBAAiB;AAAA,EACjB,iBAAiB;AAAA,EACjB,iBAAiB;AAAA,EACjB,iBAAiB;AAAA,EACjB,iBAAiB;AAAA,EACjB,iBAAiB;AAAA,EACjB,gBAAgB;AAAA,EAChB,gBAAgB;AAAA,EAChB,gBAAgB;AAAA,EAChB,gBAAgB;AAAA,EAChB,gBAAgB;AAAA,EAChB,gBAAgB;AAAA,EAChB,gBAAgB;AAAA,EAChB,gBAAgB;AAAA,EAChB,gBAAgB;AAAA,EAChB,gBAAgB;AAAA,EAChB,gBAAgB;AAAA,EAChB,gBAAgB;AAAA,EAChB,gBAAgB;AAAA,EAChB,gBAAgB;AAAA,EAChB,gBAAgB;AAAA,EAChB,gBAAgB;AAAA,EAChB,gBAAgB;AAAA,EAChB,gBAAgB;AAAA,EAChB,gBAAgB;AAAA,EAChB,gBAAgB;AAAA,EAChB,gBAAgB;AAAA,EAChB,gBAAgB;AAAA,EAChB,gBAAgB;AAAA,EAChB,gBAAgB;AAAA,EAChB,gBAAgB;AAAA,EAChB,gBAAgB;AAAA,EAChB,gBAAgB;AAAA,EAChB,gBAAgB;AAAA,EAChB,gBAAgB;AAAA,EAChB,gBAAgB;AAAA,EAChB,gBAAgB;AAAA,EAChB,gBAAgB;AAAA,EAChB,gBAAgB;AAAA,EAChB,gBAAgB;AAAA,EAChB,gBAAgB;AAAA,EAChB,gBAAgB;AAAA,EAChB,gBAAgB;AAAA,EAChB,gBAAgB;AAAA,EAChB,gBAAgB;AAAA,EAChB,gBAAgB;AAAA,EAChB,eAAe;AAAA,EACf,eAAe;AAAA,EACf,eAAe;AAAA,EACf,eAAe;AAAA,EACf,eAAe;AAAA,EACf,eAAe;AAAA,EACf,eAAe;AAAA,EACf,eAAe;AAAA,EACf,eAAe;AAAA,EACf,eAAe;AAAA,EACf,eAAe;AAAA,EACf,eAAe;AAAA,EACf,eAAe;AAAA,EACf,eAAe;AAAA,EACf,eAAe;AAAA,EACf,eAAe;AAAA,EACf,eAAe;AAAA,EACf,eAAe;AAAA,EACf,eAAe;AAAA,EACf,eAAe;AAAA,EACf,eAAe;AAAA,EACf,eAAe;AAAA,EACf,eAAe;AAAA,EACf,eAAe;AAAA,EACf,eAAe;AAAA,EACf,eAAe;AAAA,EACf,eAAe;AAAA,EACf,eAAe;AAAA,EACf,eAAe;AAAA,EACf,eAAe;AAAA,EACf,eAAe;AAAA,EACf,eAAe;AAAA,EACf,eAAe;AAAA,EACf,eAAe;AAAA,EACf,eAAe;AAAA,EACf,eAAe;AAAA,EACf,eAAe;AAAA,EACf,eAAe;AAAA,EACf,eAAe;AAAA,EACf,eAAe;AAAA,EACf,eAAe;AAAA,EACf,eAAe;AAAA,EACf,eAAe;AAAA,EACf,eAAe;AAAA,EACf,eAAe;AAAA,EACf,eAAe;AAAA,EACf,cAAc;AAAA,EACd,cAAc;AAAA,EACd,cAAc;AAAA,EACd,cAAc;AAAA,EACd,cAAc;AAAA,EACd,cAAc;AAAA,EACd,cAAc;AAAA,EACd,cAAc;AAAA,EACd,cAAc;AAAA,EACd,cAAc;AAAA,EACd,cAAc;AAAA,EACd,cAAc;AAAA,EACd,cAAc;AAAA,EACd,cAAc;AAAA,EACd,cAAc;AAAA,EACd,cAAc;AAAA,EACd,cAAc;AAAA,EACd,cAAc;AAAA,EACd,cAAc;AAAA,EACd,cAAc;AAAA,EACd,cAAc;AAAA,EACd,cAAc;AAAA,EACd,cAAc;AAAA,EACd,cAAc;AAAA,EACd,cAAc;AAAA,EACd,cAAc;AAAA,EACd,cAAc;AAAA,EACd,cAAc;AAAA,EACd,cAAc;AAAA,EACd,cAAc;AAAA,EACd,cAAc;AAAA,EACd,cAAc;AAAA,EACd,cAAc;AAAA,EACd,cAAc;AAAA,EACd,cAAc;AAAA,EACd,cAAc;AAAA,EACd,cAAc;AAAA,EACd,cAAc;AAAA,EACd,cAAc;AAAA,EACd,cAAc;AAAA,EACd,cAAc;AAAA,EACd,cAAc;AAAA,EACd,cAAc;AAAA,EACd,cAAc;AAAA,EACd,cAAc;AAAA,EACd,cAAc;AAAA,EACd,cAAc;AAAA,EACd,cAAc;AAAA,EACd,cAAc;AAAA,EACd,cAAc;AAAA,EACd,cAAc;AAAA,EACd,cAAc;AAAA,EACd,cAAc;AAAA,EACd,cAAc;AAAA,EACd,cAAc;AAAA,EACd,cAAc;AAAA,EACd,aAAa;AAAA,EACb,aAAa;AAAA,EACb,aAAa;AAAA,EACb,aAAa;AAAA,EACb,aAAa;AAAA,EACb,aAAa;AAAA,EACb,aAAa;AAAA,EACb,aAAa;AAAA,EACb,aAAa;AAAA,EACb,aAAa;AAAA,EACb,aAAa;AAAA,EACb,aAAa;AAAA,EACb,aAAa;AAAA,EACb,aAAa;AAAA,EACb,aAAa;AAAA,EACb,aAAa;AAAA,EACb,aAAa;AAAA,EACb,aAAa;AAAA,EACb,aAAa;AAAA,EACb,aAAa;AAAA,EACb,aAAa;AAAA,EACb,aAAa;AAAA,EACb,aAAa;AAAA,EACb,aAAa;AAAA,EACb,aAAa;AAAA,EACb,aAAa;AAAA,EACb,aAAa;AAAA,EACb,aAAa;AAAA,EACb,aAAa;AAAA,EACb,aAAa;AAAA,EACb,aAAa;AAAA,EACb,aAAa;AAAA,EACb,aAAa;AAAA,EACb,aAAa;AAAA,EACb,aAAa;AAAA,EACb,aAAa;AAAA,EACb,aAAa;AAAA,EACb,aAAa;AAAA,EACb,aAAa;AAAA,EACb,aAAa;AAAA,EACb,aAAa;AAAA,EACb,aAAa;AAAA,EACb,aAAa;AAAA,EACb,aAAa;AAAA,EACb,aAAa;AAAA,EACb,aAAa;AAAA,EACb,aAAa;AAAA,EACb,aAAa;AAAA,EACb,aAAa;AAAA,EACb,aAAa;AAAA,EACb,aAAa;AAAA,EACb,aAAa;AAAA,EACb,aAAa;AAAA,EACb,aAAa;AAAA,EACb,aAAa;AAAA,EACb,aAAa;AAAA,EACb,aAAa;AAAA,EACb,aAAa;AAAA,EACb,aAAa;AAAA,EACb,aAAa;AAAA,EACb,aAAa;AAAA,EACb,aAAa;AAAA,EACb,aAAa;AAAA,EACb,aAAa;AAAA,EACb,aAAa;AAAA,EACb,aAAa;AAAA,EACb,aAAa;AAAA,EACb,aAAa;AAAA,EACb,aAAa;AAAA,EACb,aAAa;AAAA,EACb,aAAa;AAAA,EACb,aAAa;AAAA,EACb,aAAa;AAAA,EACb,aAAa;AAAA,EACb,aAAa;AAAA,EACb,aAAa;AAAA,EACb,aAAa;AAAA,EACb,aAAa;AAAA,EACb,aAAa;AAAA,EACb,aAAa;AAAA,EACb,aAAa;AAAA,EACb,aAAa;AAAA,EACb,aAAa;AAAA,EACb,aAAa;AAAA,EACb,aAAa;AAAA,EACb,aAAa;AAAA,EACb,aAAa;AAAA,EACb,aAAa;AAAA,EACb,aAAa;AAAA,EACb,aAAa;AAAA,EACb,aAAa;AAAA,EACb,aAAa;AAAA,EACb,aAAa;AAAA,EACb,aAAa;AAAA,EACb,aAAa;AAAA,EACb,aAAa;AAAA,EACb,aAAa;AAAA,EACb,aAAa;AAAA,EACb,aAAa;AAAA,EACb,aAAa;AAAA,EACb,aAAa;AAAA,EACb,aAAa;AAAA,EACb,aAAa;AAAA,EACb,aAAa;AAAA,EACb,aAAa;AAAA,EACb,aAAa;AAAA,EACb,aAAa;AAAA,EACb,aAAa;AAAA,EACb,aAAa;AAAA,EACb,aAAa;AAAA,EACb,YAAY;AAAA,EACZ,YAAY;AAAA,EACZ,YAAY;AAAA,EACZ,YAAY;AAAA,EACZ,YAAY;AAAA,EACZ,YAAY;AAAA,EACZ,YAAY;AAAA,EACZ,YAAY;AAAA,EACZ,YAAY;AAAA,EACZ,YAAY;AAAA,EACZ,YAAY;AAAA,EACZ,YAAY;AAAA,EACZ,YAAY;AAAA,EACZ,YAAY;AAAA,EACZ,YAAY;AAAA,EACZ,YAAY;AAAA,EACZ,YAAY;AAAA,EACZ,YAAY;AAAA,EACZ,YAAY;AAAA,EACZ,YAAY;AAAA,EACZ,YAAY;AAAA,EACZ,YAAY;AAAA,EACZ,YAAY;AAAA,EACZ,YAAY;AAAA,EACZ,YAAY;AAAA,EACZ,YAAY;AAAA,EACZ,YAAY;AAAA,EACZ,YAAY;AAAA,EACZ,YAAY;AAAA,EACZ,YAAY;AAAA,EACZ,YAAY;AAAA,EACZ,YAAY;AAAA,EACZ,YAAY;AAAA,EACZ,YAAY;AAAA,EACZ,YAAY;AAAA,EACZ,YAAY;AAAA,EACZ,YAAY;AAAA,EACZ,YAAY;AAAA,EACZ,YAAY;AAAA,EACZ,YAAY;AAAA,EACZ,YAAY;AAAA,EACZ,YAAY;AAAA,EACZ,YAAY;AAAA,EACZ,YAAY;AAAA,EACZ,YAAY;AAAA,EACZ,YAAY;AAAA,EACZ,YAAY;AAAA,EACZ,YAAY;AAAA,EACZ,YAAY;AAAA,EACZ,YAAY;AAAA,EACZ,YAAY;AAAA,EACZ,YAAY;AAAA,EACZ,YAAY;AAAA,EACZ,YAAY;AAAA,EACZ,YAAY;AAAA,EACZ,YAAY;AAAA,EACZ,YAAY;AAAA,EACZ,YAAY;AAAA,EACZ,YAAY;AAAA,EACZ,YAAY;AAAA,EACZ,YAAY;AAAA,EACZ,YAAY;AAAA,EACZ,YAAY;AAAA,EACZ,YAAY;AAAA,EACZ,YAAY;AAAA,EACZ,YAAY;AAAA,EACZ,YAAY;AAAA,EACZ,YAAY;AAAA,EACZ,YAAY;AAAA,EACZ,YAAY;AAAA,EACZ,YAAY;AAAA,EACZ,YAAY;AAAA,EACZ,YAAY;AAAA,EACZ,YAAY;AAAA,EACZ,YAAY;AAAA,EACZ,YAAY;AAAA,EACZ,YAAY;AAAA,EACZ,YAAY;AAAA,EACZ,YAAY;AAAA,EACZ,YAAY;AAAA,EACZ,YAAY;AAAA,EACZ,YAAY;AAAA,EACZ,YAAY;AAAA,EACZ,YAAY;AAAA,EACZ,YAAY;AAAA,EACZ,YAAY;AAAA,EACZ,YAAY;AAAA,EACZ,YAAY;AAAA,EACZ,YAAY;AAAA,EACZ,YAAY;AAAA,EACZ,YAAY;AAAA,EACZ,YAAY;AAAA,EACZ,YAAY;AAAA,EACZ,YAAY;AAAA,EACZ,YAAY;AAAA,EACZ,YAAY;AAAA,EACZ,YAAY;AAAA,EACZ,YAAY;AAAA,EACZ,YAAY;AAAA,EACZ,YAAY;AAAA,EACZ,YAAY;AAAA,EACZ,YAAY;AAAA,EACZ,YAAY;AAAA,EACZ,YAAY;AAAA,EACZ,YAAY;AAAA,EACZ,YAAY;AAAA,EACZ,YAAY;AAAA,EACZ,YAAY;AAAA,EACZ,YAAY;AAAA,EACZ,YAAY;AAAA,EACZ,YAAY;AAAA,EACZ,YAAY;AAAA,EACZ,YAAY;AAAA,EACZ,YAAY;AAAA,EACZ,YAAY;AAAA,EACZ,YAAY;AAAA,EACZ,YAAY;AAAA,EACZ,YAAY;AAAA,EACZ,YAAY;AAAA,EACZ,YAAY;AAAA,EACZ,YAAY;AAAA,EACZ,YAAY;AAAA,EACZ,YAAY;AAAA,EACZ,YAAY;AAAA,EACZ,YAAY;AAAA,EACZ,YAAY;AAAA,EACZ,YAAY;AAAA,EACZ,YAAY;AAAA,EACZ,YAAY;AAAA,EACZ,YAAY;AAAA,EACZ,YAAY;AAAA,EACZ,YAAY;AAAA,EACZ,YAAY;AAAA,EACZ,YAAY;AAAA,EACZ,YAAY;AAAA,EACZ,YAAY;AAAA,EACZ,YAAY;AAAA,EACZ,YAAY;AAAA,EACZ,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,WAAW;AAAA,EACX,UAAU;AAAA,EACV,QAAQ;AAAA,EACR,UAAU;AAAA,EACV,QAAQ;AAAA,EACR,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,QAAQ;AAAA,EACR,UAAU;AAAA,EACV,QAAQ;AAAA,EACR,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,QAAQ;AAAA,EACR,UAAU;AAAA,EACV,QAAQ;AAAA,EACR,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,QAAQ;AAAA,EACR,UAAU;AAAA,EACV,QAAQ;AAAA,EACR,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,QAAQ;AAAA,EACR,UAAU;AAAA,EACV,QAAQ;AAAA,EACR,UAAU;AAAA,EACV,QAAQ;AAAA,EACR,UAAU;AAAA,EACV,UAAU;AAAA,EACV,QAAQ;AAAA,EACR,QAAQ;AAAA,EACR,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,QAAQ;AAAA,EACR,UAAU;AAAA,EACV,UAAU;AAAA,EACV,QAAQ;AAAA,EACR,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,QAAQ;AAAA,EACR,UAAU;AAAA,EACV,QAAQ;AAAA,EACR,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,QAAQ;AAAA,EACR,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,QAAQ;AAAA,EACR,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,QAAQ;AAAA,EACR,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,QAAQ;AAAA,EACR,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,QAAQ;AAAA,EACR,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,QAAQ;AAAA,EACR,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,QAAQ;AAAA,EACR,UAAU;AAAA,EACV,UAAU;AAAA,EACV,QAAQ;AAAA,EACR,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,QAAQ;AAAA,EACR,QAAQ;AAAA,EACR,QAAQ;AAAA,EACR,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,QAAQ;AAAA,EACR,UAAU;AAAA,EACV,UAAU;AAAA,EACV,QAAQ;AAAA,EACR,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,QAAQ;AAAA,EACR,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,QAAQ;AAAA,EACR,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,QAAQ;AAAA,EACR,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,QAAQ;AAAA,EACR,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,QAAQ;AAAA,EACR,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,QAAQ;AAAA,EACR,QAAQ;AAAA,EACR,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,QAAQ;AAAA,EACR,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,QAAQ;AAAA,EACR,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,QAAQ;AAAA,EACR,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,UAAU;AAAA,EACV,QAAQ;AAAA,EACR,UAAU;AAAA,EACV,OAAO;AAAA,EACP,OAAO;AAAA,EACP,SAAS;AAAA,EACT,OAAO;AAAA,EACP,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,OAAO;AAAA,EACP,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,OAAO;AAAA,EACP,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,OAAO;AAAA,EACP,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,OAAO;AAAA,EACP,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,OAAO;AAAA,EACP,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,OAAO;AAAA,EACP,OAAO;AAAA,EACP,OAAO;AAAA,EACP,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,OAAO;AAAA,EACP,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,OAAO;AAAA,EACP,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,OAAO;AAAA,EACP,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,OAAO;AAAA,EACP,SAAS;AAAA,EACT,OAAO;AAAA,EACP,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,OAAO;AAAA,EACP,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,OAAO;AAAA,EACP,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,OAAO;AAAA,EACP,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,OAAO;AAAA,EACP,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,OAAO;AAAA,EACP,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,OAAO;AAAA,EACP,SAAS;AAAA,EACT,SAAS;AAAA,EACT,OAAO;AAAA,EACP,OAAO;AAAA,EACP,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,OAAO;AAAA,EACP,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,SAAS;AAAA,EACT,QAAQ;AAAA,EACR,QAAQ;AAAA,EACR,QAAQ;AAAA,EACR,QAAQ;AAAA,EACR,MAAM;AAAA,EACN,QAAQ;AAAA,EACR,QAAQ;AAAA,EACR,MAAM;AAAA,EACN,QAAQ;AAAA,EACR,QAAQ;AAAA,EACR,QAAQ;AAAA,EACR,QAAQ;AAAA,EACR,QAAQ;AAAA,EACR,QAAQ;AAAA,EACR,QAAQ;AAAA,EACR,QAAQ;AAAA,EACR,QAAQ;AAAA,EACR,QAAQ;AAAA,EACR,QAAQ;AAAA,EACR,QAAQ;AAAA,EACR,QAAQ;AAAA,EACR,MAAM;AAAA,EACN,QAAQ;AAAA,EACR,QAAQ;AAAA,EACR,QAAQ;AAAA,EACR,QAAQ;AAAA,EACR,QAAQ;AAAA,EACR,QAAQ;AAAA,EACR,QAAQ;AAAA,EACR,QAAQ;AAAA,EACR,QAAQ;AAAA,EACR,MAAM;AAAA,EACN,QAAQ;AAAA,EACR,QAAQ;AAAA,EACR,QAAQ;AAAA,EACR,QAAQ;AAAA,EACR,QAAQ;AAAA,EACR,QAAQ;AAAA,EACR,QAAQ;AAAA,EACR,QAAQ;AAAA,EACR,QAAQ;AAAA,EACR,QAAQ;AAAA,EACR,QAAQ;AAAA,EACR,QAAQ;AAAA,EACR,QAAQ;AAAA,EACR,QAAQ;AAAA,EACR,QAAQ;AAAA,EACR,MAAM;AAAA,EACN,QAAQ;AAAA,EACR,QAAQ;AAAA,EACR,QAAQ;AAAA,EACR,QAAQ;AAAA,EACR,MAAM;AAAA,EACN,QAAQ;AAAA,EACR,QAAQ;AAAA,EACR,QAAQ;AAAA,EACR,QAAQ;AAAA,EACR,QAAQ;AAAA,EACR,QAAQ;AAAA,EACR,QAAQ;AAAA,EACR,QAAQ;AAAA,EACR,QAAQ;AAAA,EACR,QAAQ;AAAA,EACR,QAAQ;AAAA,EACR,QAAQ;AAAA,EACR,QAAQ;AAAA,EACR,QAAQ;AAAA,EACR,QAAQ;AAAA,EACR,QAAQ;AAAA,EACR,QAAQ;AAAA,EACR,MAAM;AAAA,EACN,QAAQ;AAAA,EACR,QAAQ;AAAA,EACR,QAAQ;AAAA,EACR,QAAQ;AAAA,EACR,QAAQ;AAAA,EACR,QAAQ;AAAA,EACR,QAAQ;AAAA,EACR,QAAQ;AAAA,EACR,QAAQ;AAAA,EACR,QAAQ;AAAA,EACR,QAAQ;AAAA,EACR,QAAQ;AAAA,EACR,QAAQ;AAAA,EACR,QAAQ;AAAA,EACR,QAAQ;AAAA,EACR,QAAQ;AAAA,EACR,QAAQ;AAAA,EACR,QAAQ;AAAA,EACR,QAAQ;AAAA,EACR,MAAM;AAAA,EACN,QAAQ;AAAA,EACR,QAAQ;AAAA,EACR,QAAQ;AAAA,EACR,QAAQ;AAAA,EACR,QAAQ;AAAA,EACR,MAAM;AAAA,EACN,QAAQ;AAAA,EACR,QAAQ;AAAA,EACR,QAAQ;AAAA,EACR,MAAM;AAAA,EACN,QAAQ;AAAA,EACR,QAAQ;AAAA,EACR,QAAQ;AAAA,EACR,QAAQ;AAAA,EACR,QAAQ;AAAA,EACR,QAAQ;AAAA,EACR,QAAQ;AAAA,EACR,QAAQ;AAAA,EACR,QAAQ;AAAA,EACR,QAAQ;AAAA,EACR,QAAQ;AAAA,EACR,QAAQ;AAAA,EACR,QAAQ;AAAA,EACR,QAAQ;AAAA,EACR,QAAQ;AAAA,EACR,MAAM;AAAA,EACN,QAAQ;AAAA,EACR,QAAQ;AAAA,EACR,QAAQ;AAAA,EACR,QAAQ;AAAA,EACR,QAAQ;AAAA,EACR,QAAQ;AAAA,EACR,QAAQ;AAAA,EACR,QAAQ;AAAA,EACR,QAAQ;AAAA,EACR,QAAQ;AAAA,EACR,QAAQ;AAAA,EACR,QAAQ;AAAA,EACR,QAAQ;AAAA,EACR,QAAQ;AAAA,EACR,QAAQ;AAAA,EACR,QAAQ;AAAA,EACR,QAAQ;AAAA,EACR,QAAQ;AAAA,EACR,QAAQ;AAAA,EACR,QAAQ;AAAA,EACR,MAAM;AAAA,EACN,QAAQ;AAAA,EACR,QAAQ;AAAA,EACR,QAAQ;AAAA,EACR,QAAQ;AAAA,EACR,QAAQ;AAAA,EACR,QAAQ;AAAA,EACR,QAAQ;AAAA,EACR,QAAQ;AAAA,EACR,QAAQ;AAAA,EACR,QAAQ;AAAA,EACR,QAAQ;AAAA,EACR,QAAQ;AAAA,EACR,QAAQ;AAAA,EACR,QAAQ;AAAA,EACR,QAAQ;AAAA,EACR,QAAQ;AAAA,EACR,QAAQ;AAAA,EACR,QAAQ;AAAA,EACR,MAAM;AAAA,EACN,QAAQ;AAAA,EACR,QAAQ;AAAA,EACR,QAAQ;AAAA,EACR,QAAQ;AAAA,EACR,QAAQ;AAAA,EACR,QAAQ;AAAA,EACR,QAAQ;AAAA,EACR,QAAQ;AAAA,EACR,QAAQ;AAAA,EACR,QAAQ;AAAA,EACR,MAAM;AAAA,EACN,QAAQ;AAAA,EACR,QAAQ;AAAA,EACR,QAAQ;AAAA,EACR,QAAQ;AAAA,EACR,QAAQ;AAAA,EACR,QAAQ;AAAA,EACR,QAAQ;AAAA,EACR,QAAQ;AAAA,EACR,QAAQ;AAAA,EACR,QAAQ;AAAA,EACR,QAAQ;AAAA,EACR,QAAQ;AAAA,EACR,QAAQ;AAAA,EACR,QAAQ;AAAA,EACR,QAAQ;AAAA,EACR,QAAQ;AAAA,EACR,QAAQ;AAAA,EACR,QAAQ;AAAA,EACR,QAAQ;AAAA,EACR,QAAQ;AAAA,EACR,MAAM;AAAA,EACN,MAAM;AAAA,EACN,QAAQ;AAAA,EACR,MAAM;AAAA,EACN,QAAQ;AAAA,EACR,MAAM;AAAA,EACN,QAAQ;AAAA,EACR,QAAQ;AAAA,EACR,QAAQ;AAAA,EACR,QAAQ;AAAA,EACR,QAAQ;AAAA,EACR,QAAQ;AAAA,EACR,QAAQ;AAAA,EACR,QAAQ;AAAA,EACR,MAAM;AAAA,EACN,QAAQ;AAAA,EACR,QAAQ;AAAA,EACR,QAAQ;AAAA,EACR,QAAQ;AAAA,EACR,QAAQ;AAAA,EACR,QAAQ;AAAA,EACR,QAAQ;AAAA,EACR,QAAQ;AAAA,EACR,QAAQ;AAAA,EACR,MAAM;AAAA,EACN,QAAQ;AAAA,EACR,QAAQ;AAAA,EACR,QAAQ;AAAA,EACR,QAAQ;AAAA,EACR,QAAQ;AAAA,EACR,QAAQ;AAAA,EACR,QAAQ;AAAA,EACR,QAAQ;AAAA,EACR,MAAM;AAAA,EACN,MAAM;AAAA,EACN,MAAM;AAAA,EACN,QAAQ;AAAA,EACR,QAAQ;AAAA,EACR,QAAQ;AAAA,EACR,QAAQ;AAAA,EACR,QAAQ;AAAA,EACR,QAAQ;AAAA,EACR,QAAQ;AAAA,EACR,QAAQ;AAAA,EACR,MAAM;AAAA,EACN,QAAQ;AAAA,EACR,QAAQ;AAAA,EACR,QAAQ;AAAA,EACR,QAAQ;AAAA,EACR,QAAQ;AAAA,EACR,QAAQ;AAAA,EACR,QAAQ;AAAA,EACR,QAAQ;AAAA,EACR,MAAM;AAAA,EACN,QAAQ;AAAA,EACR,QAAQ;AAAA,EACR,QAAQ;AAAA,EACR,KAAK;AAAA,EACL,OAAO;AAAA,EACP,KAAK;AAAA,EACL,OAAO;AAAA,EACP,OAAO;AAAA,EACP,OAAO;AAAA,EACP,OAAO;AAAA,EACP,OAAO;AAAA,EACP,OAAO;AAAA,EACP,OAAO;AAAA,EACP,OAAO;AAAA,EACP,OAAO;AAAA,EACP,OAAO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A,EAChB;AACA,SAAO,MAAM,MAAM,OAAO,GAAG;AAC9B;;;AC5NA,2BAA8C;;;ACK9C,IAAO,kBAAQ,oBAAI,IAAI;AAAA,EACtB;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AACD,CAAC;;;AC1zBc,SAAR,cACN,SACAC,OACA,QACA,cAAc,UACd,SACA,SACA,SACA,gBACA,cACC;AACD,QAAM,gBAAgB,GAAG,WAAW;AACpC,UAAQ,KAAK,CAAC,GAAGC,OAAO,EAAE,OAAOA,GAAE,OAAO,KAAK,CAAE;AACjD,UAAQ,KAAK,CAAC,GAAGA,OAAO,EAAE,OAAOA,GAAE,OAAO,KAAK,CAAE;AACjD,SAAO;AAAA,IACN;AAAA,IACAD;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACD;AACD;AAMA,SAAS,YAAY,QAAQ,aAAa;AACzC,SAAO,WAAW,YAAY,OAAO,WAAW,SAAS,IACtD,OAAO,QAAQ,UAAU,WAAW,IACpC;AACJ;AAMA,SAAS,qBAAqB,SAAS,SAAS;AAC/C,SACC,QAAQ,SAAS,KAAK;AAAA,IACrB,MAAM;AAAA,IACN,MAAM;AAAA,IACN,cAAc;AAAA,MACb;AAAA,QACC,MAAM;AAAA,QACN,IAAI;AAAA,UACH,MAAM;AAAA,UACN,YAAY,QAAQ,IAAI,CAAC,OAAO;AAAA,YAC/B,MAAM;AAAA,YACN,QAAQ;AAAA,YACR,WAAW;AAAA,YACX,UAAU;AAAA,YACV,KAAK,EAAE,MAAM,cAAc,MAAM,EAAE,KAAK;AAAA,YACxC,OAAO,EAAE;AAAA,YACT,MAAM;AAAA,UACP,EAAE;AAAA,QACH;AAAA,QACA,MAAM,QAAQ,KAAK,CAAC,EAAE,MAAAA,MAAK,MAAMA,UAAS,SAAS,EAAE;AAAA,MACtD;AAAA,IACD;AAAA,EACD;AAEF;AAcA,SAAS,IACR,SACAA,OACA,QACA,aACA,eACA,SACA,SACA,SACA,gBACA,cACC;AACD,QAAM,qBAAqB;AAAA,IAC1B,MAAM;AAAA,IACN,YAAY,QAAQ,IAAI,CAAC,OAAO;AAAA,MAC/B,MAAM;AAAA,MACN,OAAO,EAAE;AAAA,MACT,UAAU,EAAE,MAAM,cAAc,MAAM,EAAE,KAAK;AAAA,IAC9C,EAAE;AAAA,IACF,QAAQ,EAAE,MAAM,WAAW,OAAO,cAAc;AAAA,EACjD;AACA,QAAM,mBAAmB,qBAAqB,SAAS,OAAO;AAI9D,WAAS,eAAe,MAAM;AAC7B,UAAM,QAAQ,YAAY,KAAK,OAAO,OAAO,WAAW;AACxD,QAAI,KAAK,OAAO,UAAU,OAAO;AAChC,WAAK,OAAO,QAAQ;AACpB,WAAK,OAAO,MAAM;AAAA,IACnB;AAAA,EACD;AACA,UAAQ,QAAQ,cAAc;AAC9B,eAAa,QAAQ,cAAc;AACnC,QAAM,UAAU,eAAe,SAAS,KAAK;AAAA,IAC5C,MAAM;AAAA,IACN,YAAY,eAAe,IAAI,CAACE,QAAO;AAAA,MACtC,MAAM;AAAA,MACN,OAAO,EAAE,MAAM,cAAc,MAAMA,GAAE,KAAK;AAAA,MAC1C,UAAU,EAAE,MAAM,cAAc,MAAMA,GAAE,GAAG;AAAA,IAC5C,EAAE;AAAA,EACH;AACA,UAAQ,OAAO;AAAA,OACT,MAAM;AAAA;AAAA,IAET,kBAAkB;AAAA,IAClB,gBAAgB;AAAA,IAChB,OAAO;AAAA,IACP,YAAY;AAAA;AAAA,IAEZ,QAAQ,IAAI;AAAA;AAAA,mBAEGF,KAAI;AAAA,IACnB,OAAO;AAAA;AAEX;;;ACrJO,IAAM,UAAU,CAAC;AAMjB,SAAS,uBAAuB,MAAM,KAAK;AACjD,MAAI,KAAK,SAAS,WAAW;AAC5B,QAAI,IAAI,KAAK,KAAK;AAAA,EACnB,WAAW,KAAK,SAAS,yBAAyB;AACjD,2BAAuB,KAAK,YAAY,GAAG;AAC3C,2BAAuB,KAAK,WAAW,GAAG;AAAA,EAC3C,OAAO;AACN,QAAI,IAAI,OAAO;AAAA,EAChB;AACD;;;ACXA,IAAM;AAAA;AAAA,EAA2C;AAAA,IAChD,aAAa;AAAA,IACb,UAAU;AAAA,IACV,qBAAqB;AAAA,EACtB;AAAA;AAEA,IAAM;AAAA;AAAA,EAAkC;AAAA,IACvC,UAAU;AAAA,IACV,YAAY;AAAA,EACb;AAAA;AAIA,IAAM,+BAA+B,oBAAI,IAAI;AAAA,EAC5C,CAAC,WAAW,oBAAI,IAAI,CAAC,MAAM,CAAC,CAAC;AAAA,EAC7B,CAAC,UAAU,oBAAI,IAAI,CAAC,MAAM,CAAC,CAAC;AAC7B,CAAC;AACD,IAAM,+BAA+B;AAErC,IAAqB,WAArB,MAA8B;AAAA;AAAA;AAAA;AAAA;AAAA,EAoB7B,YAAY,MAAM,YAAY;AAlB9B;AAAA;AAGA;AAAA;AAGA;AAAA;AAGA;AAAA;AAGA;AAAA;AAOC,SAAK,OAAO;AACZ,SAAK,aAAa;AAClB,SAAK,SAAS,gBAAgB,IAAI;AAElC,QAAI,IAAI,KAAK,OAAO;AACpB,WAAO,IAAI,GAAG;AACb,UAAI,CAAC,KAAK,OAAO,IAAI,CAAC,EAAE;AAAQ;AAChC,WAAK;AAAA,IACN;AACA,SAAK,eAAe,KAAK,OAAO,MAAM,GAAG,CAAC;AAC1C,UAAM,YAAY,KAAK,OAAO,WAAW,KAAK,KAAK,OAAO,CAAC,EAAE;AAC7D,UAAM,YAAY,KAAK,OAAO,WAAW,KAAK,KAAK,OAAO,CAAC,EAAE;AAC7D,SAAK,OAAO,KAAK,aAAa,WAAW,KAAK,aAAa;AAAA,EAC5D;AAAA;AAAA,EAGA,MAAM,MAAM;AAEX,UAAM,iBAAiB,CAAC;AACxB,mBAAe,KAAK,aAAa,MAAM,GAAG,MAAM,cAAc;AAC9D,QAAI,eAAe,SAAS,GAAG;AAC9B,qBAAe,QAAQ,CAAC,EAAE,MAAAG,OAAM,MAAM,MAAM;AAC3C,aAAK,WAAW,qBAAqB,IAAIA,KAAI;AAC7C,cAAM,qBAAqB;AAAA,MAC5B,CAAC;AACD,WAAK,OAAO;AAAA,IACb;AAAA,EACD;AAAA;AAAA,EAGA,OAAO,MAAM;AAEZ,QAAI,IAAI;AACR,SAAK,OAAO,QAAQ,CAAC,OAAO,MAAM;AACjC,UAAI,IAAI,GAAG;AACV,YAAI,MAAM,QAAQ,IAAI,GAAG;AACxB,eAAK,OAAO,GAAG,MAAM,OAAO,MAAM,WAAW,QAAQ,GAAG;AAAA,QACzD;AAAA,MACD;AACA,UAAI,MAAM;AAAA,IACX,CAAC;AAAA,EACF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAOA,UAAU,MAAM,MAAM,wCAAwC;AAC7D,UAAM,uCACL,yCACA,KAAK,OAAO,OAAO,CAAC,UAAU,MAAM,kBAAkB,EAAE;AAGzD,aAAS,2BAA2B,UAAU;AAC7C,YAAM,QAAQ,SAAS,SAAS,CAAC;AACjC,YAAM,OAAO,SAAS,SAAS,SAAS,SAAS,SAAS,CAAC;AAC3D,WAAK,OAAO,SAAS,OAAO,MAAM,KAAK,EAAE,OAAO,KAAK,KAAK,SAAS,GAAG;AAAA,IACvE;AAMA,aAAS,kBAAkB,OAAOC,OAAM;AACvC,iBAAW,YAAY,MAAM,WAAW;AACvC,YAAI,SAAS,SAAS,yBAAyB,SAAS,SAAS,UAAU;AAC1E,qCAA2B,QAAQ;AAAA,QACpC;AAAA,MACD;AACA,UAAI,IAAI,MAAM,UAAU;AACxB,aAAO,KAAK;AACX,cAAM,WAAW,MAAM,UAAU,CAAC;AAClC,YAAI,SAAS,SAAS,2BAA2B,SAAS,SAAS,uBAAuB;AACzF,cAAI,SAAS,SAAS,UAAU,SAAS,SAAS,QAAQ;AACzD,gBAAI,MAAM;AAAG,mBAAK,aAAa,SAAS,OAAOA,KAAI;AAAA,UACpD;AACA;AAAA,QACD;AACA,YAAI,SAAS,SAAS,kBAAkB,SAAS,SAAS,KAAK;AAC9D,eAAK,OAAO,SAAS,OAAO,SAAS,KAAKA,KAAI;AAAA,QAC/C,OAAO;AACN,eAAK,WAAW,SAAS,KAAKA,KAAI;AAAA,QACnC;AACA;AAAA,MACD;AAAA,IACD;AACA,SAAK,OAAO,QAAQ,CAAC,OAAO,UAAU;AACrC,UAAI,MAAM,QAAQ;AACjB,mCAA2B,MAAM,UAAU,CAAC,CAAC;AAAA,MAC9C;AACA,UAAI,MAAM;AACT;AAAA,UACC;AAAA,UACA,UAAU,KAAK,OAAO,SAAS,IAC5B,KAAK,OAAO,uCAAuC,CAAC,IACpD;AAAA,QACJ;AAAA,IACF,CAAC;AAAA,EACF;AAAA;AAAA,EAGA,SAAS,WAAW;AACnB,QAAI,QAAQ;AACZ,QAAI,MAAM,KAAK,OAAO;AACtB,WAAO,QAAQ,KAAK,SAAS,GAAG;AAC/B,UAAI,CAAC,KAAK,OAAO,KAAK,EAAE;AAAQ;AAAA,IACjC;AACA,WAAO,MAAM,OAAO,OAAO,GAAG;AAC7B,UAAI,CAAC,KAAK,OAAO,MAAM,CAAC,EAAE;AAAQ;AAAA,IACnC;AACA,aAAS,IAAI,OAAO,IAAI,KAAK,KAAK,GAAG;AACpC,UAAI,KAAK,OAAO,CAAC,EAAE,QAAQ;AAC1B,eAAO,UAAU,MAAM,KAAK,OAAO,CAAC,EAAE,UAAU,CAAC,GAAG,wBAAgB,kBAAkB;AAAA,MACvF;AAAA,IACD;AACA,SAAK,wCAAwC,SAAS;AACtD,SAAK,kCAAkC,SAAS;AAChD,SAAK,6CAA6C,SAAS;AAAA,EAC5D;AAAA;AAAA,EAGA,wCAAwC,WAAW;AAClD,QAAI,KAAK,OAAO,WAAW,KAAK,KAAK,OAAO,CAAC,EAAE,UAAU,WAAW,GAAG;AAEtE;AAAA,IACD;AACA,eAAW,SAAS,KAAK,QAAQ;AAChC,iBAAW,YAAY,MAAM,WAAW;AACvC,YAAI,SAAS,SAAS,yBAAyB,SAAS,SAAS,UAAU;AAC1E,cAAI,6BAA6B,KAAK,SAAS,SAAS,CAAC,EAAE,KAAK,GAAG;AAClE,sBAAU,MAAM,UAAU,wBAAgB,2BAA2B;AAAA,UACtE;AAAA,QACD;AAAA,MACD;AAAA,IACD;AAAA,EACD;AAAA;AAAA,EAGA,6CAA6C,WAAW;AACvD,aAAS,IAAI,GAAG,IAAI,KAAK,OAAO,QAAQ,KAAK;AAC5C,YAAM,QAAQ,KAAK,OAAO,CAAC;AAC3B,UAAI,MAAM,cAAc,MAAM,UAAU,WAAW,GAAG;AACrD,kBAAU;AAAA,UACT,KAAK;AAAA,UACL,wBAAgB;AAAA,YACf,UAAU,OAAO,MAAM,KAAK,KAAK,OAAO,KAAK,KAAK,GAAG;AAAA,UACtD;AAAA,QACD;AAAA,MACD;AACA,UAAI,CAAC,MAAM,cAAc,MAAM,UAAU,WAAW,GAAG;AACtD,kBAAU;AAAA,UACT,KAAK;AAAA,UACL,wBAAgB;AAAA,YACf,UAAU,OAAO,MAAM,KAAK,KAAK,OAAO,KAAK,KAAK,GAAG;AAAA,UACtD;AAAA,QACD;AAAA,MACD;AAAA,IACD;AAAA,EACD;AAAA;AAAA,EAGA,kCAAkC,WAAW;AAC5C,eAAW,SAAS,KAAK,QAAQ;AAChC,eAAS,QAAQ,GAAG,QAAQ,MAAM,UAAU,QAAQ,SAAS;AAC5D,cAAM,WAAW,MAAM,UAAU,KAAK;AACtC,YACC,SAAS,SAAS,yBAClB,SAAS,SAAS,YAClB,UAAU,KACV,SAAS,YACT,SAAS,SAAS,SAAS,KAC3B,CAAC,UAAU,KAAK,SAAS,SAAS,CAAC,EAAE,MAAM,CAAC,CAAC,GAC5C;AACD,oBAAU,MAAM,UAAU,wBAAgB,oCAAoC;AAAA,QAC/E;AAAA,MACD;AAAA,IACD;AAAA,EACD;AAAA,EAEA,yCAAyC;AACxC,QAAI,QAAQ;AACZ,eAAW,SAAS,KAAK,QAAQ;AAChC,UAAI,MAAM,oBAAoB;AAC7B;AAAA,MACD;AAAA,IACD;AACA,WAAO;AAAA,EACR;AACD;AAQA,SAAS,eAAe,QAAQ,MAAM,gBAAgB;AACrD,QAAM,QAAQ,OAAO,IAAI;AACzB,MAAI,CAAC;AAAO,WAAO;AACnB,MAAI,CAAC,MAAM;AACV,WACE,MAAM,UAAU,OAAO,MAAM,CAACC,WAAUA,OAAM,MAAM,KAAO,MAAM,QAAQ,OAAO,WAAW;AAAA,EAE9F;AACA,UAAQ,0BAA0B,OAAO,IAAI,GAAG;AAAA,IAC/C,KAAK,mBAAmB;AACvB,aAAO;AAAA,IACR,KAAK,mBAAmB;AAEvB,qBAAe,KAAK,EAAE,MAAM,MAAM,CAAC;AACnC,aAAO;AAAA,EACT;AACA,MAAI,MAAM,YAAY;AACrB,QAAI,MAAM,WAAW,SAAS,gBAAgB,MAAM,WAAW,SAAS,KAAK;AAC5E,iBAAW,kBAAkB,QAAQ;AACpC,YAAI,eAAe,QAAQ;AAC1B;AAAA,QACD;AACA,YAAI,eAAe,MAAM;AACxB,yBAAe,KAAK,EAAE,MAAM,MAAM,CAAC;AACnC,iBAAO;AAAA,QACR;AACA,YAAI,SAAS;AACb,eAAQ,SAAS,mBAAmB,MAAM,GAAI;AAC7C,cACC,0BAA0B,gBAAgB,MAAM,MAAM,mBAAmB,aACxE;AACD,2BAAe,KAAK,EAAE,MAAM,QAAQ,OAAO,eAAe,CAAC;AAAA,UAC5D;AAAA,QACD;AACA,YAAI,eAAe,QAAQ;AAC1B,yBAAe,KAAK,EAAE,MAAM,MAAM,CAAC;AACnC,iBAAO;AAAA,QACR;AAAA,MACD;AACA,UAAI,OAAO,MAAM,CAACA,WAAUA,OAAM,MAAM,GAAG;AAC1C,uBAAe,KAAK,EAAE,MAAM,MAAM,CAAC;AACnC,eAAO;AAAA,MACR;AACA,aAAO;AAAA,IACR,WAAW,MAAM,WAAW,SAAS,KAAK;AACzC,YAAM,oBAAoB,OAAO,MAAM,CAACA,WAAUA,OAAM,MAAM;AAC9D,UAAI,qBAAqB,eAAe,QAAQ,mBAAmB,IAAI,GAAG,cAAc,GAAG;AAC1F,uBAAe,KAAK,EAAE,MAAM,MAAM,CAAC;AACnC,eAAO;AAAA,MACR;AACA,aAAO;AAAA,IACR,WAAW,MAAM,WAAW,SAAS,OAAO,MAAM,WAAW,SAAS,KAAK;AAC1E,YAAM,WAAW,8BAA8B,MAAM,MAAM,WAAW,SAAS,GAAG;AAClF,UAAI,YAAY;AAIhB,YAAM,aAAa,OAAO,KAAK,CAACA,WAAUA,OAAM,MAAM;AACtD,UAAI,YAAY;AACf,YAAI,SAAS,SAAS,KAAK,mBAAmB,IAAI,MAAM,MAAM;AAC7D,iBAAO;AAAA,QACR;AACA,uBAAe,KAAK,EAAE,MAAM,MAAM,CAAC;AACnC,eAAO;AAAA,MACR;AACA,iBAAW,oBAAoB,SAAS,KAAK,GAAG;AAC/C,YAAI,eAAe,OAAO,MAAM,GAAG,kBAAkB,cAAc,GAAG;AACrE,yBAAe,KAAK,EAAE,MAAM,MAAM,CAAC;AACnC,sBAAY;AAAA,QACb;AAAA,MACD;AACA,aAAO;AAAA,IACR;AAEA,mBAAe,KAAK,EAAE,MAAM,MAAM,CAAC;AACnC,WAAO;AAAA,EACR;AACA,iBAAe,KAAK,EAAE,MAAM,MAAM,CAAC;AACnC,SAAO;AACR;AAEA,IAAM,0CAA0C;AAOhD,SAAS,0BAA0B,OAAO,MAAM;AAC/C,MAAI,IAAI,MAAM,UAAU;AACxB,SAAO,KAAK;AACX,UAAM,WAAW,MAAM,UAAU,CAAC;AAClC,UAAMC,QACL,OAAO,SAAS,SAAS,YACzB,SAAS,KAAK,QAAQ,yCAAyC,IAAI;AACpE,QAAI,SAAS,SAAS,0BAA0BA,UAAS,UAAUA,UAAS,SAAS;AACpF,aAAO,mBAAmB;AAAA,IAC3B;AACA,QACC,MAAM,UAAU,WAAW,KAC3B,SAAS,SAAS,yBAClBA,UAAS,UACR;AACD,aAAO,mBAAmB;AAAA,IAC3B;AACA,QAAI,SAAS,SAAS,yBAAyB,SAAS,SAAS,yBAAyB;AACzF;AAAA,IACD;AACA,QAAI,SAAS,SAAS,iBAAiB;AACtC,UACC,CAAC,kBAAkB,MAAM,SAASA,OAAM,MAAM,KAAK,KACnD,CAAC,KAAK,QAAQ,KAAK,CAAC,MAAM,EAAE,SAASA,KAAI;AAEzC,eAAO,mBAAmB;AAAA,IAC5B,WAAW,SAAS,SAAS,cAAc;AAC1C,UAAI,CAAC,kBAAkB,MAAM,MAAMA,OAAM,KAAK,KAAK;AAAG,eAAO,mBAAmB;AAAA,IACjF,WAAW,SAAS,SAAS,qBAAqB;AACjD,UACC,EACC,6BAA6B,IAAI,KAAK,KAAK,YAAY,CAAC,KACxD,6BACE,IAAI,KAAK,KAAK,YAAY,CAAC,EAC3B,IAAI,SAAS,KAAK,KAAK,YAAY,CAAC,MAEvC,CAAC;AAAA,QACA;AAAA,QACA,SAAS,KAAK;AAAA,QACd,SAAS,SAAS,QAAQ,SAAS,KAAK;AAAA,QACxC,SAAS;AAAA,QACT,SAAS;AAAA,MACV,GACC;AACD,eAAO,mBAAmB;AAAA,MAC3B;AAAA,IACD,WAAW,SAAS,SAAS,gBAAgB;AAC5C,UACC,KAAK,KAAK,YAAY,MAAMA,MAAK,YAAY,KAC7CA,UAAS,OACT,CAAC,KAAK;AAEN,eAAO,mBAAmB;AAAA,IAC5B,OAAO;AACN,aAAO,mBAAmB;AAAA,IAC3B;AAAA,EACD;AACA,SAAO,mBAAmB;AAC3B;AAQA,SAAS,eAAe,UAAU,gBAAgB,kBAAkB,OAAO;AAC1E,MAAI,kBAAkB;AACrB,qBAAiB,eAAe,YAAY;AAC5C,YAAQ,MAAM,YAAY;AAAA,EAC3B;AACA,UAAQ,UAAU;AAAA,IACjB,KAAK;AACJ,aAAO,UAAU;AAAA,IAClB,KAAK;AACJ,aAAO,MAAM,MAAM,IAAI,EAAE,SAAS,cAAc;AAAA,IACjD,KAAK;AACJ,aAAO,GAAG,KAAK,IAAI,WAAW,GAAG,cAAc,GAAG;AAAA,IACnD,KAAK;AACJ,aAAO,MAAM,WAAW,cAAc;AAAA,IACvC,KAAK;AACJ,aAAO,MAAM,SAAS,cAAc;AAAA,IACrC,KAAK;AACJ,aAAO,MAAM,SAAS,cAAc;AAAA,IACrC;AACC,YAAM,IAAI,MAAM,uBAAuB;AAAA,EACzC;AACD;AASA,SAAS,kBAAkB,MAAMA,OAAM,gBAAgB,UAAU,kBAAkB;AAClF,QAAM,SAAS,KAAK,WAAW,KAAK,CAACF,UAASA,MAAK,SAAS,QAAQ;AACpE,MAAI;AAAQ,WAAO;AACnB,MAAI,KAAK,SAAS,KAAK,CAAC,YAAY,QAAQ,SAASE,KAAI;AAAG,WAAO;AACnE,QAAM,OAAO,KAAK,WAAW,KAAK,CAACF,UAASA,MAAK,SAASE,KAAI;AAC9D,MAAI,CAAC;AAAM,WAAO;AAClB,MAAI,KAAK;AAAS,WAAO,aAAa;AACtC,MAAI,kBAAkB;AAAM,WAAO;AACnC,MAAI,KAAK,OAAO,WAAW,GAAG;AAC7B,UAAM,QAAQ,KAAK,OAAO,CAAC;AAC3B,QAAI,CAAC;AAAO,aAAO;AACnB,QAAI,MAAM,SAAS;AAClB,aAAO,eAAe,UAAU,gBAAgB,kBAAkB,MAAM,IAAI;AAAA,EAC9E;AACA,QAAM,kBAAkB,oBAAI,IAAI;AAChC,MAAI,cAAc,CAAC;AACnB,aAAW,SAAS,KAAK,QAAQ;AAChC,UAAM,0BAA0B,oBAAI,IAAI;AACxC,QAAI,MAAM,SAAS,QAAQ;AAC1B,8BAAwB,IAAI,MAAM,IAAI;AAAA,IACvC,OAAO;AACN,6BAAuB,MAAM,MAAM,uBAAuB;AAAA,IAC3D;AAEA,QAAI,wBAAwB,IAAI,OAAO;AAAG,aAAO;AACjD,QAAI,YAAY,SAAS,GAAG;AAC3B,YAAM,mBAAmB,CAAC;AAC1B,YAAM,YAAY,CAAC;AACnB,8BAAwB,QAAQ,CAAC,2BAA2B;AAC3D,YAAI,6BAA6B,KAAK,sBAAsB,GAAG;AAC9D,2BAAiB,KAAK,sBAAsB;AAAA,QAC7C,OAAO;AACN,oBAAU,KAAK,sBAAsB;AAAA,QACtC;AAAA,MACD,CAAC;AACD,UAAI,UAAU,SAAS,GAAG;AACzB,YAAI,iBAAiB,SAAS,GAAG;AAChC,sBAAY,QAAQ,CAAC,eAAe,gBAAgB,IAAI,UAAU,CAAC;AAAA,QACpE;AACA,cAAM,WAAW,CAAC;AAClB,oBAAY,QAAQ,CAAC,eAAe;AACnC,oBAAU,QAAQ,CAAC,UAAU;AAC5B,qBAAS,KAAK,aAAa,KAAK;AAAA,UACjC,CAAC;AAAA,QACF,CAAC;AACD,sBAAc;AACd,yBAAiB,QAAQ,CAAC,UAAU;AACnC,cAAI,2BAA2B,KAAK,KAAK,GAAG;AAC3C,4BAAgB,IAAI,KAAK;AAAA,UAC1B,OAAO;AACN,wBAAY,KAAK,KAAK;AAAA,UACvB;AAAA,QACD,CAAC;AACD;AAAA,MACD,OAAO;AACN,oBAAY,QAAQ,CAAC,eAAe,gBAAgB,IAAI,UAAU,CAAC;AACnE,sBAAc,CAAC;AAAA,MAChB;AAAA,IACD;AACA,4BAAwB,QAAQ,CAAC,2BAA2B;AAC3D,UAAI,2BAA2B,KAAK,sBAAsB,GAAG;AAC5D,wBAAgB,IAAI,sBAAsB;AAAA,MAC3C,OAAO;AACN,oBAAY,KAAK,sBAAsB;AAAA,MACxC;AAAA,IACD,CAAC;AACD,QAAI,YAAY,SAAS,wBAAwB,MAAM;AACtD,kBAAY,KAAK,GAAG;AAAA,IACrB;AACA,QAAI,YAAY,SAAS,IAAI;AAE5B,aAAO;AAAA,IACR;AAAA,EACD;AACA,cAAY,QAAQ,CAAC,eAAe,gBAAgB,IAAI,UAAU,CAAC;AACnE,MAAI,gBAAgB,IAAI,OAAO;AAAG,WAAO;AACzC,aAAW,SAAS,iBAAiB;AACpC,QAAI,eAAe,UAAU,gBAAgB,kBAAkB,KAAK;AAAG,aAAO;AAAA,EAC/E;AACA,SAAO;AACR;AAGA,SAAS,QAAQ,OAAO;AACvB,MAAI,MAAM,SAAS;AAAc,WAAO,MAAM;AAC9C,QAAM,MAAM,MAAM;AAClB,MAAK,IAAI,CAAC,MAAM,IAAI,IAAI,SAAS,CAAC,KAAK,IAAI,CAAC,MAAM,OAAQ,IAAI,CAAC,MAAM,KAAK;AACzE,WAAO,IAAI,MAAM,GAAG,IAAI,SAAS,CAAC;AAAA,EACnC;AACA,SAAO;AACR;AAMA,SAAS,mBAAmB,MAAM;AAEjC,MAAI,SAAS;AACb,UAAQ,SAAS,OAAO,WAAW,OAAO,SAAS;AAAU;AAC7D;AAAA;AAAA,IAAoE;AAAA;AACrE;AAoBA,SAAS,sBAAsB,MAAM;AAEpC,MAAI,eAAe;AACnB,KAAG;AACF,QAAI,aAAa,SAAS,QAAQ;AACjC,YAAM,gBAAgB,aAAa;AACnC,UAAI,cAAc,SAAS,GAAG;AAC7B,uBAAe,cAAc,MAAM,EAAE,EAAE,CAAC;AACxC;AAAA,MACD;AAAA,IACD;AACA,WAAO,CAAC,aAAa,QAAQ,aAAa,UAAU,aAAa,OAAO,SAAS,QAAQ;AACxF,qBAAe,aAAa;AAAA,IAC7B;AACA,mBAAe,aAAa;AAAA,EAC7B,SAAS,gBAAgB,aAAa,SAAS;AAC/C,SAAO;AACR;AAOA,SAAS,8BAA8B,MAAM,eAAe;AAE3D,QAAM,SAAS,oBAAI,IAAI;AAGvB,MAAI,OAAO;AACX,SAAQ,OAAO,sBAAsB,IAAI,GAAI;AAC5C,QAAI,KAAK,SAAS,WAAW;AAC5B,UACC,CAAC,KAAK,WAAW;AAAA,QAChB,CAAC,SAAS,KAAK,SAAS,eAAe,KAAK,KAAK,YAAY,MAAM;AAAA,MACpE,GACC;AACD,eAAO,IAAI,MAAM,UAAU,UAAU;AAAA,MACtC;AACA,UAAI,eAAe;AAClB;AAAA,MACD;AAAA,IACD,WAAW,KAAK,SAAS,eAAe,KAAK,SAAS,aAAa,KAAK,SAAS,cAAc;AAC9F,YAAM,sBAAsB,wBAAwB,MAAM,aAAa;AACvE,iBAAW,qBAAqB,MAAM;AACtC,UAAI,iBAAiB,sBAAsB,mBAAmB,GAAG;AAChE,eAAO;AAAA,MACR;AAAA,IACD;AAAA,EACD;AACA,MAAI,CAAC,QAAQ,CAAC,eAAe;AAE5B,QAAI,SAAS;AACb,QAAI,2BAA2B,KAAK,SAAS;AAC7C,YACE,SAAS,OAAO,YAChB,OAAO,SAAS,eAChB,OAAO,SAAS,aAChB,OAAO,SAAS,eAChB,OAAO,SAAS,eAChB;AACD,YAAM,oBAAoB,8BAA8B,QAAQ,aAAa;AAC7E,iBAAW,mBAAmB,MAAM;AACpC,UAAI,OAAO,SAAS,aAAa;AAEhC,YAAI,0BAA0B;AAC7B,qCAA2B;AAAA,QAC5B,OAAO;AACN,qBAAW,wBAAwB,QAAQ,aAAa,GAAG,MAAM;AAAA,QAClE;AAAA,MACD,WAAW,OAAO,SAAS,aAAa;AACvC,mCAA2B;AAC3B,iBAAS,OAAO;AAAA,MACjB;AACA,UAAI,iBAAiB,sBAAsB,iBAAiB,GAAG;AAC9D;AAAA,MACD;AAAA,IACD;AAAA,EACD;AACA,SAAO;AACR;AAOA,SAAS,wBAAwB,OAAO,eAAe;AAItD,QAAM,SAAS,oBAAI,IAAI;AACvB,MAAI,MAAM,SAAS,aAAa;AAE/B,UAAM,cAAc,WAAW,MAAM,UAAU,aAAa;AAG5D,UAAM,cAAc,MAAM,OAAO,WAAW,MAAM,KAAK,UAAU,aAAa,IAAI,oBAAI,IAAI;AAC1F,UAAM,iBAAiB,CAAC,sBAAsB,WAAW;AACzD,QAAI,gBAAgB;AACnB,uBAAiB,WAAW;AAC5B,uBAAiB,WAAW;AAAA,IAC7B;AACA,eAAW,aAAa,MAAM;AAC9B,eAAW,aAAa,MAAM;AAAA,EAC/B,WAAW,MAAM,SAAS,WAAW;AAEpC,UAAM,YAAY,WAAW,MAAM,UAAU,aAAa;AAG1D,UAAM,cAAc,MAAM,OAAO,WAAW,MAAM,KAAK,UAAU,aAAa,IAAI,oBAAI,IAAI;AAC1F,UAAM,iBAAiB,CAAC,sBAAsB,SAAS,KAAK,CAAC,sBAAsB,WAAW;AAC9F,QAAI,gBAAgB;AACnB,uBAAiB,SAAS;AAC1B,uBAAiB,WAAW;AAAA,IAC7B;AACA,eAAW,WAAW,MAAM;AAC5B,eAAW,aAAa,MAAM;AAAA,EAC/B,WAAW,MAAM,SAAS,cAAc;AAEvC,UAAM,iBAAiB,MAAM,UAC1B,WAAW,MAAM,QAAQ,UAAU,aAAa,IAChD,oBAAI,IAAI;AAGX,UAAM,cAAc,MAAM,OAAO,WAAW,MAAM,KAAK,UAAU,aAAa,IAAI,oBAAI,IAAI;AAG1F,UAAM,eAAe,MAAM,QAAQ,WAAW,MAAM,MAAM,UAAU,aAAa,IAAI,oBAAI,IAAI;AAC7F,UAAM,iBACL,CAAC,sBAAsB,cAAc,KACrC,CAAC,sBAAsB,WAAW,KAClC,CAAC,sBAAsB,YAAY;AACpC,QAAI,gBAAgB;AACnB,uBAAiB,cAAc;AAC/B,uBAAiB,WAAW;AAC5B,uBAAiB,YAAY;AAAA,IAC9B;AACA,eAAW,gBAAgB,MAAM;AACjC,eAAW,aAAa,MAAM;AAC9B,eAAW,cAAc,MAAM;AAAA,EAChC;AACA,SAAO;AACR;AAMA,SAAS,sBAAsB,QAAQ;AACtC,MAAI,OAAO,SAAS;AAAG,WAAO;AAC9B,aAAW,SAAS,OAAO,OAAO,GAAG;AACpC,QAAI,UAAU,UAAU,YAAY;AACnC,aAAO;AAAA,IACR;AAAA,EACD;AACA,SAAO;AACR;AAOA,SAAS,WAAW,MAAM,IAAI;AAC7B,OAAK,QAAQ,CAAC,OAAO,YAAY;AAChC,OAAG,IAAI,SAAS,iBAAiB,OAAO,GAAG,IAAI,OAAO,CAAC,CAAC;AAAA,EACzD,CAAC;AACF;AAOA,SAAS,iBAAiB,QAAQ,QAAQ;AACzC,MAAI,WAAW,UAAa,WAAW;AAAW,WAAO,UAAU;AACnE,SAAO,SAAS,SAAS,SAAS;AACnC;AAGA,SAAS,iBAAiB,QAAQ;AACjC,aAAW,OAAO,OAAO,KAAK,GAAG;AAChC,WAAO,IAAI,KAAK,UAAU,QAAQ;AAAA,EACnC;AACD;AAMA,SAAS,WAAW,UAAU,eAAe;AAE5C,QAAM,SAAS,oBAAI,IAAI;AACvB,WAAS,IAAI,SAAS,SAAS,GAAG,KAAK,GAAG,KAAK;AAC9C,UAAM,QAAQ,SAAS,CAAC;AACxB,QAAI,MAAM,SAAS,WAAW;AAC7B,aAAO,IAAI,OAAO,UAAU,UAAU;AACtC,UAAI,eAAe;AAClB;AAAA,MACD;AAAA,IACD,WACC,MAAM,SAAS,eACf,MAAM,SAAS,aACf,MAAM,SAAS,cACd;AACD,YAAM,eAAe,wBAAwB,OAAO,aAAa;AACjE,iBAAW,cAAc,MAAM;AAC/B,UAAI,iBAAiB,sBAAsB,YAAY,GAAG;AACzD;AAAA,MACD;AAAA,IACD;AAAA,EACD;AACA,SAAO;AACR;AAEA,IAAMC,SAAN,MAAY;AAAA;AAAA,EAuBX,YAAY,YAAY;AArBxB;AAAA;AAGA;AAAA;AAGA;AAAA;AAGA;AAAA;AAGA;AAAA;AAGA;AAAA;AAGA;AAAA;AAIC,SAAK,aAAa;AAClB,SAAK,OAAO;AACZ,SAAK,OAAO;AACZ,SAAK,YAAY,CAAC;AAClB,SAAK,QAAQ;AACb,SAAK,MAAM;AACX,SAAK,qBAAqB;AAAA,EAC3B;AAAA;AAAA,EAGA,IAAI,UAAU;AACb,QAAI,KAAK,UAAU,WAAW,GAAG;AAChC,WAAK,QAAQ,SAAS;AACtB,WAAK,OAAO,SAAS,SAAS,yBAAyB,SAAS,SAAS;AAAA,IAC1E;AACA,SAAK,OAAO,KAAK,QAAS,SAAS,SAAS,yBAAyB,SAAS,SAAS;AACvF,SAAK,UAAU,KAAK,QAAQ;AAC5B,SAAK,MAAM,SAAS;AAAA,EACrB;AAAA,EACA,IAAI,SAAS;AACZ,WACC,KAAK,UAAU,UAAU,KACzB,KAAK,UAAU,CAAC,EAAE,SAAS,yBAC3B,KAAK,UAAU,CAAC,EAAE,SAAS,YAC3B,KAAK,UAAU;AAAA,MACd,CAAC,aACA,SAAS,SAAS,yBAAyB,SAAS,SAAS;AAAA,IAC/D;AAAA,EAEF;AACD;AAGA,SAAS,gBAAgB,UAAU;AAElC,MAAI,QAAQ,IAAIA,OAAM,IAAI;AAC1B,QAAM,SAAS,CAAC,KAAK;AACrB,WAAS,SAAS,QAAQ,CAAC,UAAU;AACpC,QAAI,MAAM,SAAS,gBAAgB,MAAM,SAAS,cAAc;AAC/D,cAAQ,IAAIA,OAAM,KAAK;AACvB,aAAO,KAAK,KAAK;AAAA,IAClB,OAAO;AACN,YAAM,IAAI,KAAK;AAAA,IAChB;AAAA,EACD,CAAC;AACD,SAAO;AACR;;;ACvzBA,IAAM,2BAA2B;AAMjC,SAAS,kBAAkBC,OAAM;AAChC,SAAOA,MAAK,QAAQ,0BAA0B,EAAE;AACjD;AAGA,IAAM,oBAAoB,CAAC,SAAS,kBAAkB,KAAK,IAAI,MAAM;AAMrE,IAAM,0BAA0B,CAAC,EAAE,MAAM,MACxC,SAAS,MAAM,YAAY,MAAM,SAAS,KAAK,CAAC,SAAS,KAAK,SAAS,aAAa;AAQrF,SAAS,oBAAoB,MAAM,OAAO,cAAc;AACvD,MAAI,IAAI;AACR,eAAa,QAAQ,CAAC,aAAa,MAAM;AACxC,UAAM,YAAY,IAAI,IAAI,MAAM;AAChC,QAAI,YAAY,KAAK,QAAQ,IAAI,UAAU,QAAQ;AAClD,WAAK,OAAO,GAAG,YAAY,KAAK,OAAO,SAAS;AAAA,IACjD;AACA,gBAAY,OAAO,IAAI;AACvB,QAAI,YAAY,KAAK;AAAA,EACtB,CAAC;AACD,SAAO;AACR;AACA,IAAM,OAAN,MAAW;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAkBV,YAAY,MAAM,YAAY,QAAQ;AAhBtC;AAAA;AAGA;AAAA;AAGA;AAAA;AAGA;AAAA;AAQC,SAAK,OAAO;AACZ,SAAK,SAAS;AACd,SAAK,YAAY,KAAK,QAAQ,SAAS,IAAI,CAACC,UAAS,IAAI,SAASA,OAAM,UAAU,CAAC;AACnF,SAAK,eAAe,KAAK,MAAM,SAAS,IAAI,CAACA,UAAS,IAAI,YAAYA,KAAI,CAAC;AAAA,EAC5E;AAAA;AAAA,EAGA,MAAM,MAAM;AACX,SAAK,UAAU,QAAQ,CAAC,aAAa,SAAS,MAAM,IAAI,CAAC;AAAA,EAC1D;AAAA;AAAA,EAGA,QAAQ,KAAK;AACZ,QAAI,KAAK,UAAU,KAAK,OAAO,KAAK,SAAS,YAAY,kBAAkB,KAAK,OAAO,IAAI;AAC1F,aAAO;AACR,QAAI,KAAK,aAAa,WAAW;AAAG,aAAO;AAC3C,WAAO,KAAK,UAAU,KAAK,CAAC,MAAM,EAAE,IAAI;AAAA,EACzC;AAAA;AAAA;AAAA;AAAA;AAAA,EAMA,OAAO,MAAM,MAAM;AAClB,QAAI,IAAI,KAAK,KAAK;AAClB,QAAI,UAAU;AACd,SAAK,UAAU,QAAQ,CAAC,aAAa;AACpC,UAAI,SAAS,MAAM;AAClB,cAAM,YAAY,UAAU,MAAM;AAClC,YAAI,SAAS,KAAK,QAAQ,IAAI,UAAU,QAAQ;AAC/C,eAAK,OAAO,GAAG,SAAS,KAAK,OAAO,SAAS;AAAA,QAC9C;AACA,iBAAS,OAAO,IAAI;AACpB,YAAI,SAAS,KAAK;AAClB,kBAAU;AAAA,MACX;AAAA,IACD,CAAC;AACD,SAAK,OAAO,GAAG,KAAK,KAAK,MAAM,KAAK;AACpC,QAAI,KAAK,KAAK,MAAM,QAAQ;AAC5B,QAAI,oBAAoB,MAAM,GAAG,KAAK,YAAY;AAClD,SAAK,OAAO,GAAG,KAAK,KAAK,MAAM,MAAM,CAAC;AAAA,EACvC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAQA,UAAU,MAAM,IAAI,WAAW,wCAAwC;AACtE,QAAI,KAAK,UAAU,KAAK,OAAO,KAAK,SAAS,YAAY,kBAAkB,KAAK,OAAO,IAAI;AAC1F,aAAO;AACR,UAAM,OAAO,IAAI,EAAE;AACnB,SAAK,UAAU;AAAA,MAAQ,CAAC,aACvB,SAAS,UAAU,MAAM,MAAM,sCAAsC;AAAA,IACtE;AACA,SAAK,aAAa,QAAQ,CAAC,gBAAgB,YAAY,UAAU,MAAM,SAAS,CAAC;AAAA,EAClF;AAAA;AAAA,EAGA,SAAS,WAAW;AACnB,SAAK,UAAU,QAAQ,CAAC,aAAa;AACpC,eAAS,SAAS,SAAS;AAAA,IAC5B,CAAC;AAAA,EACF;AAAA;AAAA,EAGA,wBAAwB,SAAS;AAChC,SAAK,UAAU,QAAQ,CAAC,aAAa;AACpC,UAAI,CAAC,SAAS;AAAM,gBAAQ,QAAQ;AAAA,IACrC,CAAC;AAAA,EACF;AAAA,EACA,6CAA6C;AAC5C,WAAO,KAAK;AAAA,MACX,GAAG,KAAK,UAAU,IAAI,CAAC,aAAa,SAAS,uCAAuC,CAAC;AAAA,IACtF;AAAA,EACD;AACD;AACA,IAAM,cAAN,MAAkB;AAAA;AAAA,EAKjB,YAAY,MAAM;AAHlB;AAAA;AAIC,SAAK,OAAO;AAAA,EACb;AAAA;AAAA;AAAA;AAAA;AAAA,EAMA,UAAU,MAAM,WAAW;AAC1B,UAAM,WAAW,KAAK,KAAK,YAAY,kBAAkB,KAAK,KAAK,SAAS,YAAY,CAAC;AACzF,QAAI,aAAa,eAAe,aAAa,kBAAkB;AAC9D,WAAK,KAAK,MAAM,SAAS,QAAQ,CAAC,UAAU;AAC3C,YAAI,MAAM,SAAS,cAAc;AAChC,gBAAMD,QAAO,MAAM;AACnB,cAAI,UAAU,IAAIA,KAAI,GAAG;AACxB,iBAAK,OAAO,MAAM,OAAO,MAAM,KAAK,UAAU,IAAIA,KAAI,CAAC;AAAA,UACxD;AAAA,QACD;AAAA,MACD,CAAC;AAAA,IACF;AAAA,EACD;AAAA;AAAA,EAGA,OAAO,MAAM;AACZ,QAAI,CAAC,KAAK,KAAK;AAAU;AACzB,UAAM,IAAI,KAAK,KAAK,QAAQ,KAAK,KAAK,SAAS;AAC/C,UAAM,QAAQ,KAAK,KAAK,MAAM,WAAW,KAAK,KAAK,MAAM,SAAS,CAAC,IAAI,KAAK,KAAK;AAGjF,QAAI,MAAM,SAAS,SAAS,uBAAuB,KAAK,MAAM,KAAK;AAAG;AACtE,QAAI,QAAQ,MAAM;AAClB,WAAO,iBAAiB,KAAK,KAAK,SAAS,KAAK,CAAC;AAAG,eAAS;AAC7D,QAAI,QAAQ,IAAI,GAAG;AAClB,WAAK,OAAO,GAAG,OAAO,GAAG;AAAA,IAC1B;AAAA,EACD;AACD;AACA,IAAM,SAAN,MAAa;AAAA;AAAA,EAWZ,YAAY,MAAM;AATlB;AAAA;AAGA;AAAA;AAGA;AAAA;AAIC,SAAK,OAAO;AACZ,SAAK,WAAW,CAAC;AACjB,SAAK,eAAe,CAAC;AAAA,EACtB;AAAA;AAAA,EAGA,MAAM,MAAM;AACX,QACC,KAAK,KAAK,SAAS,eACnB,KAAK,KAAK,SAAS,WACnB,KAAK,KAAK,SAAS,cACnB,KAAK,KAAK,SAAS,SAClB;AACD,WAAK,SAAS,QAAQ,CAAC,UAAU;AAChC,cAAM,MAAM,IAAI;AAAA,MACjB,CAAC;AAAA,IACF,WAAW,kBAAkB,KAAK,IAAI,GAAG;AACxC,WAAK,SAAS,QAAQ,CAAqB,SAAS;AACnD,aAAK,UAAU,QAAQ,CAAC,aAAa;AACpC,mBAAS,OAAO;AAAA,QACjB,CAAC;AAAA,MACF,CAAC;AAAA,IACF;AAAA,EACD;AAAA;AAAA,EAGA,QAAQ,MAAM;AACb,WAAO;AAAA,EACR;AAAA;AAAA;AAAA;AAAA;AAAA,EAMA,OAAO,MAAM,KAAK;AACjB,QAAI,KAAK,KAAK,SAAS,SAAS;AAC/B,YAAM,kBAAkB,KAAK,SAAS,KAAK,KAAK,QAAQ,KAAK;AAC7D,UAAI,IAAI,KAAK,KAAK,SAAS,oBAAoB,MAAM,IAAI;AACzD,UAAI,KAAK,KAAK,QAAQ,QAAQ;AAAG,aAAK,OAAO,GAAG,KAAK,KAAK,QAAQ,KAAK;AACvE,WAAK,KAAK,QAAQ,SAAS,QAAQ,CAAC,UAAU;AAE7C,YAAI,MAAM;AAAA,MACX,CAAC;AACD,WAAK,OAAO,GAAG,KAAK,KAAK,MAAM,KAAK;AAAA,IACrC,WAAW,KAAK,KAAK,SAAS,YAAY;AACzC,UAAI,IAAI,KAAK,KAAK,QAAQ;AAC1B,UAAI,KAAK,KAAK,QAAQ,QAAQ,IAAI;AAAG,aAAK,OAAO,GAAG,KAAK,KAAK,QAAQ,OAAO,GAAG;AAChF,WAAK,KAAK,QAAQ,SAAS,QAAQ,CAAC,UAAU;AAE7C,YAAI,MAAM;AAAA,MACX,CAAC;AACD,WAAK,OAAO,GAAG,KAAK,KAAK,MAAM,KAAK;AAAA,IACrC,OAAO;AACN,UAAI,IAAI,KAAK,KAAK,QAAQ,KAAK,KAAK,KAAK,SAAS;AAClD,UAAI,KAAK,KAAK,SAAS;AACtB,YAAI,KAAK,KAAK,QAAQ,QAAQ,IAAI;AAAG,eAAK,OAAO,GAAG,KAAK,KAAK,QAAQ,OAAO,GAAG;AAChF,YAAI,KAAK,KAAK,QAAQ;AAAA,MACvB;AACA,UAAI,KAAK,KAAK,SAAS,KAAK,KAAK,MAAM,QAAQ,IAAI,GAAG;AACrD,aAAK,OAAO,GAAG,KAAK,KAAK,MAAM,KAAK;AAAA,MACrC;AAAA,IACD;AAEA,QAAI,KAAK,KAAK,OAAO;AACpB,UAAI,IAAI,KAAK,KAAK,MAAM,QAAQ;AAChC,UAAI,KAAK,aAAa,QAAQ;AAC7B,YAAI,oBAAoB,MAAM,GAAG,KAAK,YAAY;AAElD,YAAI,KAAK,SAAS;AAAQ;AAAA,MAC3B;AACA,WAAK,SAAS,QAAQ,CAAC,UAAU;AAChC,YAAI,MAAM,QAAQ,GAAG,GAAG;AACvB,eAAK,OAAO,GAAG,MAAM,KAAK,KAAK;AAC/B,gBAAM,OAAO,MAAM,GAAG;AACtB,cAAI,MAAM,KAAK;AAAA,QAChB;AAAA,MACD,CAAC;AACD,WAAK,OAAO,GAAG,KAAK,KAAK,MAAM,MAAM,CAAC;AAAA,IACvC;AAAA,EACD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAQA,UAAU,MAAM,IAAI,WAAW,wCAAwC;AACtE,QAAI,kBAAkB,KAAK,IAAI,GAAG;AACjC,WAAK,KAAK,QAAQ,SAAS,QAAQ,CAAC,EAAE,MAAM,MAAAA,OAAM,OAAO,IAAI,MAAM;AAClE,YAAI,SAAS,cAAc;AAC1B,cAAIA,MAAK,WAAW,UAAU,GAAG;AAChC,iBAAK,OAAO,OAAO,QAAQ,CAAC;AAC5B,iBAAK,SAAS,QAAQ,CAAqB,SAAS;AACnD,mBAAK,UAAU,QAAQ,CAAC,aAAa;AACpC,yBAAS,OAAO;AAAA,cACjB,CAAC;AAAA,YACF,CAAC;AAAA,UACF,OAAO;AACN,iBAAK,OAAO,OAAO,KAAK,UAAU,IAAIA,KAAI,CAAC;AAAA,UAC5C;AAAA,QACD;AAAA,MACD,CAAC;AAAA,IACF;AACA,SAAK,SAAS,QAAQ,CAAC,UAAU;AAChC,YAAM,UAAU,MAAM,IAAI,WAAW,sCAAsC;AAAA,IAC5E,CAAC;AAAA,EACF;AAAA;AAAA,EAGA,SAAS,WAAW;AACnB,SAAK,SAAS,QAAQ,CAAC,UAAU;AAChC,YAAM,SAAS,SAAS;AAAA,IACzB,CAAC;AAAA,EACF;AAAA;AAAA,EAGA,wBAAwB,SAAS;AAChC,QAAI,KAAK,KAAK,SAAS;AAAS;AAChC,SAAK,SAAS,QAAQ,CAAC,UAAU;AAChC,YAAM,wBAAwB,OAAO;AAAA,IACtC,CAAC;AAAA,EACF;AAAA,EACA,6CAA6C;AAC5C,WAAO,KAAK;AAAA,MACX,GAAG,KAAK,SAAS,IAAI,CAAC,SAAS,KAAK,2CAA2C,CAAC;AAAA,IACjF;AAAA,EACD;AACD;AAGA,IAAM,uBAAuB,CAAC,EAAE,KAAK,MAAAE,MAAK,MAAM;AAC/C,SAAO,UAAUA,MAAK,GAAG,CAAC;AAC3B;AACA,IAAqB,aAArB,MAAgC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAsC/B,YAAY,EAAE,QAAQ,KAAK,gBAAgB,UAAU,KAAK,eAAe,qBAAqB,GAAG;AApCjG;AAAA;AAGA;AAAA;AAGA;AAAA;AAGA;AAAA;AAGA;AAAA;AAGA;AAAA;AAGA;AAAA,oCAAW,CAAC;AAGZ;AAAA,qCAAY,oBAAI,IAAI;AAGpB;AAAA,gDAAuB,oBAAI,IAAI;AAa9B,SAAK,SAAS;AACd,SAAK,MAAM;AACX,SAAK,WAAW;AAChB,SAAK,MAAM;AACX,QAAI,IAAI,OAAO,IAAI,IAAI,SAAS,QAAQ;AACvC,WAAK,KAAK,aAAa;AAAA,QACtB;AAAA,QACA,MAAM;AAAA,QACN,KAAK,IAAI,IAAI,QAAQ;AAAA,QACrB;AAAA,MACD,CAAC;AACD,WAAK,aAAa;AAGlB,YAAM,QAAQ,CAAC;AACf,UAAI,QAAQ;AAGZ,UAAI,iBAAiB;AACrB;AAAA;AAAA,QAAyB,IAAI;AAAA,QAAM;AAAA,UAClC,OAAO,CAAoB,SAAS;AACnC,gBAAI,KAAK,SAAS,UAAU;AAC3B,oBAAM,SAAS,IAAI,OAAO,IAAI;AAC9B,oBAAM,KAAK,MAAM;AACjB,kBAAI,gBAAgB;AACnB,+BAAe,SAAS,KAAK,MAAM;AAAA,cACpC,WAAW,SAAS,GAAG;AACtB,qBAAK,SAAS,KAAK,MAAM;AAAA,cAC1B;AACA,kBAAI,kBAAkB,IAAI,GAAG;AAC5B,qBAAK,QAAQ,SAAS,QAAQ,CAAC,eAAe;AAC7C,sBAAI,WAAW,SAAS,gBAAgB,CAAC,WAAW,KAAK,WAAW,UAAU,GAAG;AAChF,yBAAK,UAAU,IAAI,WAAW,MAAM,GAAG,KAAK,EAAE,IAAI,WAAW,IAAI,EAAE;AAAA,kBACpE;AAAA,gBACD,CAAC;AAAA,cACF,WAAW,wBAAwB,IAAI,GAAG;AACzC,sBAAM,uBAAuB,KAAK,MAAM,SACtC,OAAO,CAACD,UAASA,MAAK,SAAS,aAAa,EAC5C,IAAI,CAACA,UAAS,IAAI,YAAYA,KAAI,CAAC;AACrC,2BAAW,OAAO,cAAc,oBAAoB;AAAA,cACrD;AACA,+BAAiB;AAAA,YAClB;AACA,gBAAI,KAAK,SAAS,QAAQ;AACzB,oBAAM,OAAO,IAAI,KAAK,MAAM,MAAM,cAAc;AAChD,kBAAI,gBAAgB;AACnB,+BAAe,SAAS,KAAK,IAAI;AAAA,cAClC,WAAW,SAAS,GAAG;AACtB,qBAAK,SAAS,KAAK,IAAI;AAAA,cACxB;AAAA,YACD;AACA,qBAAS;AAAA,UACV;AAAA,UACA,OAAO,CAAoB,SAAS;AACnC,gBAAI,KAAK,SAAS,UAAU;AAC3B,oBAAM,IAAI;AACV,+BAAiB,MAAM,MAAM,SAAS,CAAC;AAAA,YACxC;AACA,qBAAS;AAAA,UACV;AAAA,QACD;AAAA,MAAC;AAAA,IACF,OAAO;AACN,WAAK,aAAa;AAAA,IACnB;AAAA,EACD;AAAA;AAAA,EAGA,MAAM,MAAM;AACX,QAAI,CAAC,KAAK;AAAY;AACtB,aAAS,IAAI,GAAG,IAAI,KAAK,SAAS,QAAQ,KAAK,GAAG;AACjD,YAAM,QAAQ,KAAK,SAAS,CAAC;AAC7B,YAAM,MAAM,IAAI;AAAA,IACjB;AAAA,EACD;AAAA,EACA,QAAQ;AACP,SAAK,qBAAqB,QAAQ,CAAC,SAAS;AAC3C,WAAK,cAAc;AAAA,IACpB,CAAC;AAAA,EACF;AAAA;AAAA,EAGA,OAAO,MAAM;AACZ,QAAI,CAAC,KAAK,YAAY;AACrB,aAAO,EAAE,MAAM,MAAM,KAAK,KAAK;AAAA,IAChC;AACA,UAAM,OAAO,IAAI,YAAY,KAAK,MAAM;AACxC;AAAA;AAAA,MAAyB,KAAK,IAAI;AAAA,MAAM;AAAA,QACvC,OAAO,CAAoB,SAAS;AACnC,eAAK,qBAAqB,KAAK,KAAK;AACpC,eAAK,qBAAqB,KAAK,GAAG;AAAA,QACnC;AAAA,MACD;AAAA,IAAC;AACD,UAAM,MAAM,KAAK;AAAA,MAChB,GAAG,KAAK,SAAS,IAAI,CAAC,SAAS,KAAK,2CAA2C,CAAC;AAAA,IACjF;AACA,SAAK,SAAS,QAAQ,CAAC,UAAU;AAChC,YAAM,UAAU,MAAM,KAAK,IAAI,KAAK,WAAW,GAAG;AAAA,IACnD,CAAC;AACD,QAAI,IAAI;AACR,SAAK,SAAS,QAAQ,CAAC,UAAU;AAChC,UAAI,MAAM,QAAQ,KAAK,GAAG,GAAG;AAC5B,aAAK,OAAO,GAAG,MAAM,KAAK,KAAK;AAC/B,cAAM,OAAO,MAAM,KAAK,GAAG;AAC3B,YAAI,MAAM,KAAK;AAAA,MAChB;AAAA,IACD,CAAC;AACD,SAAK,OAAO,GAAG,KAAK,OAAO,MAAM;AACjC,WAAO;AAAA,MACN,MAAM,KAAK,SAAS;AAAA,MACpB,KAAK,KAAK,YAAY;AAAA,QACrB,gBAAgB;AAAA,QAChB,QAAQ,KAAK;AAAA,QACb;AAAA,MACD,CAAC;AAAA,IACF;AAAA,EACD;AAAA;AAAA,EAGA,SAAS,WAAW;AACnB,SAAK,SAAS,QAAQ,CAAC,UAAU;AAChC,YAAM,SAAS,SAAS;AAAA,IACzB,CAAC;AAAA,EACF;AAAA;AAAA,EAGA,yBAAyB,WAAW;AACnC,UAAM,UAAU,CAAC,KAAK,IAAI,MACvB,CAAC,IACD,+BAA+B,KAAK,IAAI,IAAI,OAAO,KAAK,IAAI,KAAK,QAAQ;AAC5E,cAAU,aAAa,OAAO;AAC9B,SAAK,SAAS,QAAQ,CAAC,UAAU;AAChC,YAAM,wBAAwB,CAAC,aAAa;AAC3C,kBAAU;AAAA,UACT,SAAS;AAAA,UACT,0BAAkB;AAAA,YACjB,KAAK,OAAO,MAAM,SAAS,KAAK,OAAO,SAAS,KAAK,GAAG;AAAA,UACzD;AAAA,QACD;AAAA,MACD,CAAC;AAAA,IACF,CAAC;AACD,cAAU,YAAY;AAAA,EACvB;AACD;;;AChgBA,IAAqB,gBAArB,MAAqB,eAAc;AAAA;AAAA,EAwBlC,YAAY,QAAQ;AAZpB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAGA;AAAA,kCAAS,oBAAI,IAAI;AAGjB;AAAA;AAIC,SAAK,SAAS;AACd,SAAK,QAAQ,IAAI,IAAI,SAAS,OAAO,QAAQ,CAAC,CAAC;AAC/C,SAAK,wBAAwB,IAAI,IAAI,SAAS,OAAO,wBAAwB,CAAC,CAAC;AAAA,EAChF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAOA,IAAIE,OAAM,cAAc,OAAO;AAC9B,SAAK,MAAM,IAAIA,KAAI;AACnB,SAAK,sBAAsB,IAAIA,OAAM,YAAY;AACjD,SAAK,OAAO,IAAIA,OAAM,KAAK;AAC3B,WAAO;AAAA,EACR;AAAA,EACA,QAAQ;AACP,UAAM,QAAQ,IAAI,eAAc,IAAI;AACpC,WAAO;AAAA,EACR;AAAA;AAAA,EAGA,aAAaA,OAAM;AAClB,WAAO,CAAC,KAAK,UAAW,CAAC,KAAK,MAAM,IAAIA,KAAI,KAAK,KAAK,OAAO,aAAaA,KAAI;AAAA,EAC/E;AAAA;AAAA;AAAA;AAAA;AAAA,EAMA,UAAUA,OAAM;AACf,WAAO,KAAK,OAAO,IAAIA,KAAI,KAAM,KAAK,UAAU,KAAK,OAAO,UAAUA,KAAI;AAAA,EAC3E;AAAA;AAAA,EAGA,OAAOA,OAAM;AACZ,UAAM,QAAQ,KAAK,UAAUA,KAAI;AACjC,WACC,UACC,MAAM,SAAS,aACf,MAAM,SAAS,qBACf,MAAM,SAAS;AAAA,EAElB;AAAA;AAAA,EAGA,SAASA,OAAM;AACd,UAAM,QAAQ,KAAK,UAAUA,KAAI;AACjC,WAAO,UAAU,MAAM,SAAS,eAAe,MAAM,SAAS;AAAA,EAC/D;AAAA;AAAA,EAGA,SAASA,OAAM;AACd,UAAM,QAAQ,KAAK,UAAUA,KAAI;AACjC,WAAO,SAAS,MAAM,SAAS;AAAA,EAChC;AACD;;;AC7EA,IAAqB,WAArB,cAAsC,KAAK;AAAA;AAAA;AAAA;AAAA;AAAA,EAc1C,YAAY,WAAW,MAAM;AAC5B,UAAM,QAAQ,IAAI,cAAc;AAChC,UAAM,WAAW,MAAM,OAAO,IAAI;AAdnC;AAAA;AAGA;AAAA;AAGA;AAAA;AASC,SAAK,QAAQ;AACb,SAAK,WAAW,aAAa,WAAW,MAAM,OAAO,KAAK,QAAQ;AAAA,EACnE;AACD;;;ACxBA,IAAO,2BAAQ,oBAAI,IAAI,CAAC,WAAU,oBAAmB,2BAA0B,mBAAkB,sBAAqB,wBAAuB,iBAAgB,oBAAmB,iBAAgB,eAAc,sBAAqB,8BAA6B,gBAAe,uBAAsB,cAAa,iBAAgB,eAAc,UAAS,cAAa,2BAA0B,oBAAmB,wBAAuB,iBAAgB,UAAS,QAAO,YAAW,uBAAsB,gBAAe,QAAO,qBAAoB,gBAAe,UAAS,gBAAe,YAAW,iBAAgB,mBAAkB,iBAAgB,kBAAiB,eAAc,qBAAoB,cAAa,eAAc,WAAU,uBAAsB,sBAAqB,iBAAgB,8BAA6B,kCAAiC,iCAAgC,yBAAwB,oBAAmB,mCAAkC,oBAAmB,yBAAwB,wBAAuB,yBAAwB,eAAc,wBAAuB,qBAAoB,gBAAe,eAAc,SAAQ,iBAAgB,qBAAoB,gBAAe,UAAS,oBAAmB,qBAAoB,sBAAqB,cAAa,oBAAmB,gBAAe,QAAO,WAAU,cAAa,SAAQ,iBAAgB,qBAAoB,yBAAwB,UAAS,0BAAyB,iBAAgB,0BAAyB,yBAAwB,mCAAkC,gBAAe,SAAQ,0BAAyB,kBAAiB,cAAa,4BAA2B,2BAA0B,yBAAwB,6BAA4B,sBAAqB,oBAAmB,qBAAoB,qBAAoB,mBAAkB,sBAAqB,WAAU,gBAAe,kBAAiB,cAAa,YAAW,iBAAgB,YAAW,QAAO,sBAAqB,8BAA6B,UAAS,cAAa,oBAAmB,wBAAuB,UAAS,oCAAmC,aAAY,kBAAiB,YAAW,eAAc,cAAa,WAAU,UAAS,cAAa,QAAO,cAAa,oBAAmB,qBAAoB,mBAAkB,QAAO,aAAY,OAAM,iBAAgB,6BAA4B,aAAY,WAAU,QAAO,2BAA0B,mBAAkB,YAAW,sBAAqB,OAAM,8BAA6B,+BAA8B,4CAA2C,OAAM,WAAU,kBAAiB,mBAAkB,yBAAwB,iBAAgB,kBAAiB,gBAAe,QAAO,cAAa,kBAAiB,yBAAwB,2BAA0B,+BAA8B,YAAW,4BAA2B,gCAA+B,gBAAe,kCAAiC,sCAAqC,4BAA2B,kBAAiB,mBAAkB,WAAU,WAAU,mBAAkB,aAAY,sBAAqB,SAAQ,kBAAiB,UAAS,iBAAgB,oBAAmB,mBAAkB,8BAA6B,oBAAmB,oBAAmB,aAAY,eAAc,QAAO,QAAO,wBAAuB,aAAY,gBAAe,iBAAgB,kBAAiB,WAAU,6BAA4B,qBAAoB,eAAc,oBAAmB,sBAAqB,4BAA2B,sBAAqB,kBAAiB,kBAAiB,iCAAgC,YAAY,CAAC;;;ACO3/G,SAAR,qBAAsC,MAAM,QAAQ;AAC1D,MACC,CAAC;AAAA;AAAA,IACkE;AAAA;AAAA,IACA;AAAA,EACnE,GACC;AACD,WAAO;AAAA,EACR;AACA,MAAI,CAAC,QAAQ;AACZ,WAAO;AAAA,EACR;AAGA,UAAQ,OAAO,MAAM;AAAA,IAEpB,KAAK;AACJ,aAAO,SAAS,OAAO;AAAA,IAExB,KAAK;AAAA,IAEL,KAAK;AAAA,IAEL,KAAK;AAAA,IAEL,KAAK;AAAA,IAEL,KAAK;AACJ,aAAO;AAAA,IACR;AACC,aAAO;AAAA,EACT;AACD;;;ATPA,IAAM,oCAAoC;AAC1C,IAAM,gCAAgC;AACtC,IAAM,+BAA+B;AAErC,IAAqB,YAArB,MAA+B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EA0J9B,YAAY,KAAK,QAAQC,OAAM,iBAAiB,OAAO,UAAU;AAxJjE;AAAA;AAGA;AAAA;AAGA;AAAA;AAGA;AAAA,wCAAe,CAAC;AAGhB;AAAA;AAGA;AAAA;AAGA;AAAA;AAGA;AAAA;AAGA;AAAA;AAGA;AAAA;AAGA;AAAA;AAGA;AAAA;AAGA;AAAA;AAGA;AAAA;AAGA;AAAA;AAGA;AAAA;AAGA;AAAA;AAGA;AAAA,gCAAO,CAAC;AAGR;AAAA,sCAAa,oBAAI,IAAI;AAGrB;AAAA,mCAAU,CAAC;AAGX;AAAA,wCAAe,CAAC;AAGhB;AAAA,iDAAwB,CAAC;AAGzB;AAAA,2CAAkB,oBAAI,IAAI;AAG1B;AAAA,gDAAuB,oBAAI,IAAI;AAG/B;AAAA,0CAAiB,CAAC;AAGlB;AAAA,yCAAgB,CAAC;AASjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iDAAwB,CAAC;AAGzB;AAAA,sDAA6B,oBAAI,IAAI;AAErC;AAAA,oDAA2B;AAG3B;AAAA,8DAAqC,oBAAI,IAAI;AAG7C;AAAA,mCAAU,oBAAI,IAAI;AAGlB;AAAA,mCAAU,oBAAI,IAAI;AAGlB;AAAA,iDAAwB,oBAAI,IAAI;AAGhC;AAAA;AAOA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA,oCAAW,CAAC;AAGZ;AAAA;AAGA;AAAA,mCAAU,oBAAI,IAAI;AAGlB;AAAA,sCAAa,oBAAI,IAAI;AAGrB;AAAA,+CAAsB,oBAAI,IAAI;AAG9B;AAAA,iCAAQ,oBAAI,IAAI;AAGhB;AAAA,wCAAe,oBAAI,IAAI;AAGvB;AAAA,gCAAO,CAAC;AArLT;AAgME,SAAK,OAAO,EAAE,MAAM,cAAc,MAAAA,MAAK;AACvC,SAAK,QAAQ;AACb,SAAK,WAAW;AAChB,SAAK,MAAM;AACX,SAAK,SAAS;AACd,SAAK,kBAAkB;AAGvB,SAAK,eAAe,MAAM;AAAA,MACzB,MAAM,IAAI;AAAA,MACV,KAAK,IAAI;AAAA,MACT,UAAU,IAAI;AAAA,MACd,QAAQ,IAAI;AAAA,IACb,CAAC;AACD,SAAK,OACJ,gBAAgB,aACf,OAAO,YAAY,cACjB,gBAAgB,SACf,QAAQ,QAAQ,IAAI,GAAG,EAAE,EACzB,QAAQ,mCAAmC,EAAE,IAC9C,gBAAgB;AAGpB,SAAK,SAAS,WAAW,KAAK,QAAQ,EAAE,YAAY,EAAE,CAAC;AAEvD,QAAI;AACJ,SAAK,cAAc,CAAC,MAAM;AAEzB,UAAI,WAAW,KAAK,OAAO,CAAC;AAC5B,UAAI,WAAW,QAAW;AAEzB,iBAAS,gBAAgB,YAAY,IAAI,8BAAS,gBAAgB,SAAS,IAAI;AAAA,MAChF;AACA,UAAI,QAAQ;AAEX,uBAAW,0CAAoB,QAAQ,QAAQ;AAAA,MAChD;AACA,aAAO;AAAA,IACR;AAGA,SAAK,aAAa,IAAI,WAAW;AAAA,MAChC;AAAA,MACA;AAAA,MACA,UAAU,gBAAgB;AAAA,MAC1B,gBAAgBA;AAAA,MAChB,KAAK,gBAAgB;AAAA,MACrB,cAAc,gBAAgB;AAAA,IAC/B,CAAC;AACD,SAAK,WAAW,SAAS,IAAI;AAC7B,SAAK,oBAAoB,0BAA0B,MAAM,KAAK,IAAI,KAAK,QAAQ;AAC/E,SAAK,YACJ,WAAW,KAAK,kBAAkB,SAAS,KAAK,KAAK,kBAAkB;AACxE,QAAI,gBAAgB,eAAe;AAClC,WAAK,QAAM,UAAK,kBAAkB,kBAAvB,mBAAsC,QAAO,gBAAgB,OAAO,KAAK,KAAK;AAAA,IAC1F,OAAO;AACN,WAAK,MAAM,KAAK,KAAK;AAAA,IACtB;AACA,SAAK,eAAe;AACpB,SAAK;AAAA,MACJ,KAAK,IAAI,WACN,+BAA+B,KAAK,IAAI,SAAS,OAAO,KAAK,IAAI,KAAK,QAAQ,IAC9E,CAAC;AAAA,IACL;AACA,SAAK,8BAA8B;AACnC,SAAK,YAAY;AACjB,SAAK,WAAW,IAAI,SAAS,MAAM,IAAI,IAAI;AAC3C,SAAK,OAAO,KAAK,gBAAgBA,KAAI;AACrC,SAAK;AAAA,MACJ,KAAK,IAAI,WACN,+BAA+B,KAAK,IAAI,SAAS,OAAO,KAAK,IAAI,KAAK,QAAQ,IAC9E,CAAC;AAAA,IACL;AACA,SAAK,+BAA+B;AACpC,SAAK,YAAY;AACjB,SAAK,SAAS,QAAQ,CAAC,YAAY,KAAK,WAAW,MAAM,OAAO,CAAC;AACjE,SAAK,WAAW,MAAM;AACtB,SAAK,WAAW,yBAAyB,IAAI;AAAA,EAC9C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAOA,QAAQ,MAAM,UAAU,gBAAgB,MAAM;AAC7C,SAAK,KAAK,KAAK,QAAQ;AACvB,QAAI,eAAe;AAClB,UAAI,KAAK,WAAW,IAAI,SAAS,IAAI,GAAG;AACvC,cAAM,aAAa,KAAK,WAAW,IAAI,SAAS,IAAI;AACpD,YAAI,WAAW,UAAU,WAAW,UAAU;AAC7C,eAAK;AAAA;AAAA,YAA0B;AAAA,YAAO,wBAAgB;AAAA,UAA4B;AAAA,QACnF;AAAA,MACD;AACA,WAAK,WAAW,IAAI,SAAS,MAAM,QAAQ;AAAA,IAC5C;AAAA,EACD;AAAA;AAAA;AAAA;AAAA;AAAA,EAMA,cAAc,MAAMA,OAAM;AACzB,UAAM,WAAW,KAAK,WAAW,IAAIA,KAAI;AACzC,QAAI,UAAU;AACb,eAAS,aAAa;AAAA,IACvB,WAAW,oBAAoBA,KAAI,GAAG;AACrC,WAAK,QAAQ,MAAM;AAAA,QAClB,MAAAA;AAAA,QACA,UAAU;AAAA,QACV,YAAY;AAAA,MACb,CAAC;AAAA,IACF,WAAWA,MAAK,CAAC,MAAM,KAAK;AAC3B,WAAK,QAAQ,MAAM;AAAA,QAClB,MAAAA;AAAA,QACA,UAAU;AAAA,QACV,YAAY;AAAA,QACZ,SAAS;AAAA,QACT,UAAU;AAAA,MACX,CAAC;AACD,YAAM,oBAAoBA,MAAK,MAAM,CAAC;AACtC,YAAMC,YAAW,KAAK,WAAW,IAAI,iBAAiB;AACtD,UAAIA,WAAU;AACb,QAAAA,UAAS,aAAa;AACtB,QAAAA,UAAS,eAAe;AAAA,MACzB;AAAA,IACD,OAAO;AACN,UAAI,KAAK,gBAAgB,eAAe,QAAQ;AAC/C,aAAK,QAAQ,MAAM,EAAE,MAAAD,OAAM,YAAY,KAAK,GAAG,KAAK;AAAA,MACrD;AACA,WAAK,WAAW,IAAIA,KAAI;AAAA,IACzB;AAAA,EACD;AAAA;AAAA,EAGA,MAAMA,OAAM;AACX,QAAI,CAAC,KAAK,QAAQ,IAAIA,KAAI,GAAG;AAC5B,WAAK,QAAQ,IAAIA,OAAM,KAAK,gBAAgBA,KAAI,CAAC;AAAA,IAClD;AACA,WAAO,KAAK,QAAQ,IAAIA,KAAI;AAAA,EAC7B;AAAA;AAAA,EAGA,iBAAiB,SAAS;AACzB,SAAK,SAAS,KAAK,OAAO;AAAA,EAC3B;AAAA;AAAA,EAGA,OAAOA,OAAM;AACZ,UAAM,QAAQ,KAAK,MAAMA,KAAI;AAC7B,SAAK,QAAQ,IAAIA,OAAM,KAAK;AAC5B,WAAO;AAAA,EACR;AAAA;AAAA;AAAA;AAAA;AAAA,EAMA,SAAS,QAAQ;AAChB,QAAI,KAAK;AACT,QAAI,MAAM;AACV,QAAI,QAAQ;AACX,YAAM,EAAE,iBAAiB,MAAAA,MAAK,IAAI;AAClC,YAAM,SAAS,GAAG,KAAK,OAAO,GAAG,KAAK,IAAI,MAAM,EAAE,wBAAwB,OAAO;AAGjF,YAAM,UAAU,EAAE,MAAM,WAAW,MAAM,OAAO,GAAG;AACnD,WAAK,SAAS;AAAA,QACb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAII,CAAC,MAAM,QAAQ,QAAQ;AAC1B,gBAAI,KAAK,SAAS,cAAc;AAC/B,kBAAI,KAAK,KAAK,CAAC,MAAM,KAAK;AACzB,oBAAI,KAAK,KAAK,CAAC,MAAM,KAAK;AACzB,wBAAM,QAAQ,KAAK,OAAO,KAAK,KAAK,MAAM,CAAC,CAAC;AAC5C,uBAAK,OAAO,MAAM;AAAA,gBACnB,OAAO;AACN,sBAAIA,QAAO,KAAK,KAAK,MAAM,CAAC;AAC5B,sBAAI,gBAAgB,YAAY;AAC/B,wBAAI,yBAAiB,IAAI,GAAGA,KAAI,YAAY,GAAG;AAC9C,sBAAAA,SAAQ;AAAA,oBACT,WAAW,yBAAiB,IAAI,GAAGA,KAAI,WAAW,GAAG;AACpD,sBAAAA,SAAQ;AAAA,oBACT;AAAA,kBACD;AACA,sBAAI,gBAAgB,KAAK;AACxB,wBAAI,yBAAiB,IAAI,GAAGA,KAAI,MAAM,GAAG;AACxC,sBAAAA,SAAQ;AAAA,oBACT,WAAW,yBAAiB,IAAI,GAAGA,KAAI,KAAK,GAAG;AAC9C,sBAAAA,SAAQ;AAAA,oBACT;AAAA,kBACD;AACA,wBAAM,QAAQ,KAAK,MAAMA,KAAI;AAC7B,uBAAK,QAAQ,IAAIA,OAAM,KAAK;AAC5B,uBAAK,OAAO,MAAM;AAAA,gBACnB;AAAA,cACD,WAAW,KAAK,KAAK,CAAC,MAAM,OAAO,CAAC,SAAS,KAAK,IAAI,GAAG;AAIxD,sBAAM,UAAU,EAAE,MAAM,WAAW,OAAO,KAAK,KAAK;AACpD,oBAAI,OAAO,SAAS,cAAc,QAAQ,OAAO;AAChD,yBAAO,MAAM;AAAA,gBACd,WAAW,OAAO,SAAS,sBAAsB,QAAQ,YAAY;AACpE,yBAAO,WAAW;AAClB,yBAAO,WAAW;AAAA,gBACnB;AAAA,cACD;AAAA,YACD;AAAA,UACD;AAAA;AAAA,MACD,CAAC;AACD,YAAM,qBAAqB,MAAM;AAAA,QAChC,KAAK;AAAA,QACL,CAAC,CAACA,OAAM,KAAK,MAAMA,UAAS,MAAM,QAAQ,EAAE,MAAAA,OAAM,MAAM;AAAA,MACzD,EAAE,OAAO,OAAO;AAChB,UAAI,mBAAmB,QAAQ;AAC9B,aAAK,QAAQ,IAAI,WAAW,KAAK,MAAM,SAAS,CAAC;AAAA,MAClD;AACA,YAAM,mBAAmB,MAAM,KAAK,KAAK,SAAS,CAAC,CAACA,OAAM,KAAK,OAAO;AAAA,QACrE,MAAAA;AAAA,QACA;AAAA,MACD,EAAE;AACF;AAAA,QACC;AAAA,QACAA;AAAA,QACA;AAAA,QACA,gBAAgB;AAAA,QAChB;AAAA,QACA;AAAA,QACA,KAAK;AAAA,QACL,KAAK,KACH,OAAO,CAAC,aAAa,SAAS,UAAU,SAAS,WAAW,EAC5D,IAAI,CAAC,cAAc;AAAA,UACnB,MAAM,SAAS;AAAA,UACf,IAAI,SAAS;AAAA,QACd,EAAE;AAAA,QACH,KAAK;AAAA,MACN;AACA,YAAM,gBAAgB,gBAAgB,EAAE,MAAM,MAAM,KAAK,KAAK,IAAI,OAAO;AACzE,YAAM,uBAAuB,uBAAuB,gBAAgB,iBAAiB,IAAI;AACzF,UAAI,CAAC,sBAAsB;AAC1B,aAAK,MAAM,OAAO;AAClB,WAAG,MAAM;AAAA,MACV,OAAO;AACN,cAAM,4BAA4B,8BAA8B,eAAe;AAC/E,aAAK,MAAM,SAAS;AAAA,UACnB,iBAAiB;AAAA,QAClB,CAAC;AACD,WAAG,IAAI,UAAU,CAAC,yBAAyB;AAC3C,WAAG,IAAI,iBAAiB,CAAC,KAAK,MAAM;AACpC,WAAG,MAAM;AAAA,UACR;AAAA,UACA,GAAG;AAAA;AAAA,UAEF,gBAAgB;AAAA,QAElB;AAAA,MACD;AAAA,IACD;AACA,WAAO;AAAA,MACN;AAAA,MACA;AAAA,MACA,KAAK,KAAK;AAAA,MACV,UAAU,KAAK;AAAA,MACf,MAAM,KAAK,gBAAgB;AAAA,MAC3B,OAAO,KAAK,MAAM,OAAO;AAAA,IAC1B;AAAA,EACD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAOA,gBAAgBA,OAAM,OAAO;AAC5B,QAAI,QAAQA;AACZ,aACK,IAAI,GACR,SAAS,IAAI,KAAK,KAClB,KAAK,WAAW,IAAI,KAAK,KACzB,KAAK,WAAW,IAAI,KAAK,KACzB,KAAK,oBAAoB,IAAI,KAAK,KACjC,SAAS,MAAM,IAAI,KAAK,KAExB;AACD,cAAQ,GAAGA,KAAI,IAAI,GAAG;AAAA,IACvB;AACA,SAAK,WAAW,IAAI,KAAK;AACzB,WAAO,EAAE,MAAM,cAAc,MAAM,MAAM;AAAA,EAC1C;AAAA,EACA,wBAAwB;AACvB,UAAM,mBAAmB,oBAAI,IAAI;AAGjC,aAAS,IAAIA,OAAM;AAClB,uBAAiB,IAAIA,KAAI;AAAA,IAC1B;AACA,aAAS,QAAQ,GAAG;AACpB,6BAAiB,QAAQ,GAAG;AAC5B,SAAK,WAAW,QAAQ,CAAC,QAAQ,QAAQ,IAAI,GAAG,CAAC;AAMjD,WAAO,CAACA,UAAS;AAChB,UAAI,QAAQA;AACZ,eACK,IAAI,GACR,KAAK,WAAW,IAAI,KAAK,KAAK,iBAAiB,IAAI,KAAK,GACxD,QAAQ,GAAGA,KAAI,IAAI,GAAG;AACtB;AACD,uBAAiB,IAAI,KAAK;AAC1B,WAAK,oBAAoB,IAAI,KAAK;AAClC,aAAO;AAAA,QACN,MAAM;AAAA,QACN,MAAM;AAAA,MACP;AAAA,IACD;AAAA,EACD;AAAA;AAAA,EAGA,kBAAkB;AACjB,UAAM,EAAE,iBAAiB,KAAK,IAAI;AAClC,UAAM,cACL,gBAAgB,eAAe,QAC5B,CAAC,IACD,gBAAgB,eAAe,SAC/B,OACA,KAAK,OAAO,CAAC,MAAM,CAAC,EAAE,UAAU,CAAC,EAAE,QAAQ;AAC/C,WAAO,YAAY,IAAI,CAAC,OAAO;AAAA,MAC9B,MAAM,EAAE;AAAA,MACR,aAAa,EAAE,eAAe;AAAA,MAC9B,UAAU,EAAE,YAAY;AAAA,MACxB,QAAQ,EAAE,UAAU;AAAA,MACpB,SAAS,EAAE,WAAW;AAAA,MACtB,YAAY,EAAE,cAAc;AAAA,MAC5B,YAAY,EAAE,cAAc;AAAA,MAC5B,UAAU,EAAE,YAAY;AAAA,MACxB,wBAAwB,EAAE,0BAA0B;AAAA,IACrD,EAAE;AAAA,EACH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAWA,MAAM,KAAK,GAAG;AACb,QAAI,KAAK,gBAAgB,cAAc,QAAQ;AAC9C,WAAK,KAAK,KAAK,CAAC;AAAA,IACjB,OAAO;AACN,YAAM,EAAE,SAAS;AAAA,QAChB,MAAM;AAAA,QACN,MAAM,EAAE;AAAA,QACR,QAAQ,KAAK;AAAA,QACb,OAAO,IAAI;AAAA,QACX,KAAK,IAAI;AAAA,QACT,UAAU,KAAK,gBAAgB;AAAA,MAChC,CAAC;AAAA,IACF;AAAA,EACD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAWA,KAAK,KAAK,SAAS;AAClB,QAAI,KAAK,WAAW,KAAK,QAAQ,IAAI,QAAQ,IAAI,GAAG;AACnD;AAAA,IACD;AACA,UAAM,QAAQ,KAAK,OAAO,IAAI,KAAK;AACnC,UAAM,MAAM,KAAK,OAAO,IAAI,GAAG;AAC/B,UAAM,QAAQ,eAAe,KAAK,QAAQ,MAAM,OAAO,GAAG,MAAM,MAAM;AACtE,SAAK,SAAS,KAAK;AAAA,MAClB,MAAM,QAAQ;AAAA,MACd,SAAS,QAAQ;AAAA,MACjB;AAAA,MACA;AAAA,MACA;AAAA,MACA,KAAK,IAAI;AAAA,MACT,UAAU,KAAK,gBAAgB;AAAA,MAC/B,UAAU,MAAM,GAAG,QAAQ,OAAO,KAAK,MAAM,IAAI,IAAI,MAAM,MAAM;AAAA,EAAM,KAAK;AAAA,IAC7E,CAAC;AAAA,EACF;AAAA;AAAA,EAGA,gBAAgB,MAAM;AACrB,SAAK,QAAQ,KAAK,IAAI;AAAA,EACvB;AAAA;AAAA;AAAA;AAAA;AAAA,EAMA,gBAAgB,MAAM,gBAAgB,OAAO;AAC5C,UAAM,UAAU,oCAAoC,IAAI;AACxD,QAAI,QAAQ;AAAQ,WAAK,aAAa,OAAO;AAC7C,UAAM,SAAS,KAAK,iBAAiB,MAAM,aAAa;AACxD,QAAI,QAAQ;AAAQ,WAAK,YAAY;AACrC,WAAO;AAAA,EACR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAOA,iBAAiB,MAAM,eAAe;AACrC,QAAI,KAAK,SAAS,4BAA4B;AAC7C,aAAO,KAAK;AAAA;AAAA,QAA0B;AAAA,QAAO,wBAAgB;AAAA,MAAc;AAAA,IAC5E;AACA,QAAI,KAAK,SAAS,0BAA0B;AAC3C,UAAI,KAAK,QAAQ;AAChB,YAAI,eAAe;AAClB,eAAK,aAAa,KAAK,IAAI;AAAA,QAC5B,OAAO;AACN,eAAK,sBAAsB,KAAK,IAAI;AAAA,QACrC;AACA,eAAO;AAAA,MACR;AACA,UAAI,KAAK,aAAa;AACrB,YAAI,KAAK,YAAY,SAAS,uBAAuB;AACpD,eAAK,YAAY,aAAa,QAAQ,CAAC,eAAe;AACrD,0BAAc,WAAW,EAAE,EAAE,QAAQ,CAACA,UAAS;AAnnBrD;AAonBO,oBAAM,WAAW,KAAK,WAAW,IAAIA,KAAI;AACzC,uBAAS,cAAcA;AACvB,oBACC,gBAAW,SAAX,mBAAiB,UAAS,aAC1B,OAAO,WAAW,KAAK,UAAU,WAChC;AACD,yBAAS,aAAa;AAAA,cACvB;AACA,kBACC,CAAC,iBACD,SAAS,YACT,EAAE,SAAS,cAAc,SAAS,0BAA0B,SAAS,eACpE;AACD,qBAAK;AAAA;AAAA,kBACgB;AAAA,kBACpB,0BAAkB,kBAAkB,KAAK,KAAK,MAAMA,KAAI;AAAA,gBACzD;AAAA,cACD;AAAA,YACD,CAAC;AAAA,UACF,CAAC;AAAA,QACF,OAAO;AACN,gBAAM,EAAE,MAAAA,MAAK,IAAI,KAAK,YAAY;AAClC,gBAAM,WAAW,KAAK,WAAW,IAAIA,KAAI;AACzC,mBAAS,cAAcA;AAAA,QACxB;AACA,eAAO,KAAK;AAAA,MACb,OAAO;AACN,aAAK,WAAW,QAAQ,CAAC,cAAc;AACtC,gBAAM,WAAW,KAAK,WAAW,IAAI,UAAU,MAAM,IAAI;AACzD,cAAI,UAAU;AACb,qBAAS,cAAc,UAAU,SAAS;AAC1C,gBACC,CAAC,iBACD,SAAS,YACT,EAAE,SAAS,cAAc,SAAS,0BAA0B,SAAS,eACpE;AACD,mBAAK;AAAA;AAAA,gBACgB;AAAA,gBACpB,0BAAkB,kBAAkB,KAAK,KAAK,MAAM,UAAU,SAAS,IAAI;AAAA,cAC5E;AAAA,YACD;AAAA,UACD;AAAA,QACD,CAAC;AACD,eAAO;AAAA,MACR;AAAA,IACD;AAAA,EACD;AAAA;AAAA,EAGA,mBAAmB,QAAQ;AAC1B,QAAI,CAAC;AAAQ,aAAO;AACpB,WAAO,OAAO,QAAQ,KAAK,OAAO,CAAC,SAAS;AAC3C,UAAI,CAAC;AAAM,eAAO;AAClB,UAAI,KAAK,gBAAgB,IAAI,IAAI;AAAG,eAAO;AAC3C,UAAI,KAAK,2BAA2B,IAAI,IAAI;AAAG,eAAO;AACtD,UAAI,KAAK,SAAS;AAAqB,eAAO;AAC9C,UAAI,KAAK,SAAS,uBAAuB,KAAK,WAAW,SAAS;AAAG,eAAO;AAC5E,aAAO;AAAA,IACR,CAAC;AAAA,EACF;AAAA,EACA,iBAAiB;AAChB,UAAM,YAAY;AAClB,UAAM,SAAS,KAAK,IAAI;AACxB,QAAI,CAAC;AAAQ;AACb,SAAK,OAAO,SAAS;AAAA;AAAA,MAEpB,MAAM,MAAM;AACX,YAAI,KAAK,SAAS,sBAAsB,KAAK,MAAM,SAAS,KAAK;AAChE,oBAAU;AAAA;AAAA,YACW;AAAA,YACpB,0BAAkB;AAAA,UACnB;AAAA,QACD;AAAA,MACD;AAAA,IACD,CAAC;AACD,UAAM,EAAE,OAAO,QAAQ,IAAI,cAAc,OAAO,OAAO;AACvD,SAAK,eAAe;AACpB,UAAM,aAAa,QAAQ,CAAC,MAAMA,UAAS;AAC1C,UAAIA,MAAK,CAAC,MAAM,KAAK;AACpB,eAAO,KAAK;AAAA;AAAA,UAA0B;AAAA,UAAO,wBAAgB;AAAA,QAAmB;AAAA,MACjF;AACA,YAAM,WACL,KAAK,SAAS,0BAA0B,KAAK,SAAS,SAAS,KAAK,SAAS;AAC9E,YAAM,WAAW,KAAK,KAAK,WAAW,QAAQ;AAC9C,WAAK,QAAQ,MAAM;AAAA,QAClB,MAAAA;AAAA,QACA,QAAQ;AAAA,QACR,WAAW;AAAA,QACX;AAAA,QACA;AAAA,MACD,CAAC;AAAA,IACF,CAAC;AACD,YAAQ,QAAQ,CAAC,MAAMA,UAAS;AAC/B,UAAIA,MAAK,CAAC,MAAM,KAAK;AACpB,eAAO,KAAK;AAAA;AAAA,UAA0B;AAAA,UAAO,wBAAgB;AAAA,QAAoB;AAAA,MAClF,OAAO;AACN,aAAK,QAAQ,MAAM;AAAA,UAClB,MAAAA;AAAA,UACA,QAAQ;AAAA,UACR,WAAW;AAAA,QACZ,CAAC;AAAA,MACF;AAAA,IACD,CAAC;AACD,UAAM,EAAE,KAAK,IAAI,OAAO;AACxB,QAAI,IAAI,KAAK;AACb,WAAO,EAAE,KAAK,GAAG;AAChB,YAAM,OAAO,KAAK,CAAC;AACnB,UAAI,KAAK,SAAS,qBAAqB;AACtC,aAAK,gBAAgB,IAAI;AACzB,aAAK,OAAO,GAAG,CAAC;AAAA,MACjB;AACA,UAAI,8BAA8B,KAAK,KAAK,IAAI,GAAG;AAClD,cAAM,cAAc,KAAK,gBAAgB,MAAM,IAAI;AACnD,YAAI,aAAa;AAChB,eAAK,CAAC,IAAI;AAAA,QACX,OAAO;AACN,eAAK,OAAO,GAAG,CAAC;AAAA,QACjB;AAAA,MACD;AAAA,IACD;AAAA,EACD;AAAA,EACA,gCAAgC;AAC/B,UAAM,SAAS,KAAK,IAAI;AACxB,QAAI,CAAC;AAAQ;AAEb,WAAO,QAAQ,KAAK,QAAQ,CAAC,SAAS;AACrC,UAAI,KAAK,SAAS;AAAoB;AACtC,UAAI,KAAK,KAAK,SAAS;AAAuB;AAC9C,YAAM,EAAE,WAAW,IAAI,KAAK;AAC5B,UAAI,WAAW,SAAS;AAAwB;AAChD,UAAI,WAAW,KAAK,SAAS;AAAoB;AACjD,oBAAc,WAAW,IAAI,EAAE,QAAQ,CAACA,UAAS;AAChD,YAAI,CAAC,KAAK,WAAW,IAAIA,KAAI,KAAKA,MAAK,CAAC,MAAM,KAAK;AAClD,eAAK,mCAAmC,IAAIA,KAAI;AAAA,QACjD;AAAA,MACD,CAAC;AAAA,IACF,CAAC;AACD,UAAM,EAAE,OAAO,gBAAgB,KAAK,QAAQ,IAAI,cAAc,OAAO,OAAO;AAC5E,SAAK,iBAAiB;AACtB,SAAK,qBAAqB;AAC1B,mBAAe,aAAa,QAAQ,CAAC,MAAMA,UAAS;AACnD,UAAIA,MAAK,CAAC,MAAM,KAAK;AACpB,eAAO,KAAK;AAAA;AAAA,UAA0B;AAAA,UAAO,wBAAgB;AAAA,QAAmB;AAAA,MACjF;AACA,YAAM,EAAE,KAAK,IAAI;AACjB,WAAK,QAAQ,MAAM;AAAA,QAClB,MAAAA;AAAA,QACA,aAAa,eAAe,yBAAyB,IAAIA,KAAI;AAAA,QAC7D,UAAU,KAAK,WAAW,QAAQ;AAAA,QAClC,UAAU,SAAS,0BAA0B,KAAK,SAAS,SAAS,KAAK,SAAS;AAAA,MACnF,CAAC;AACD,WAAK,qBAAqB,IAAIA,OAAM,IAAI;AAAA,IACzC,CAAC;AAGD,UAAM,cAAc,MAAM,KAAK,QAAQ,KAAK,CAAC;AAC7C,UAAM,iBAAiB;AAAA,MACtB,GAAG,YAAY,OAAO,CAAC,QAAQ,IAAI,CAAC,MAAM,GAAG;AAAA,MAC7C,GAAG,YAAY,OAAO,CAAC,QAAQ,IAAI,CAAC,MAAM,GAAG;AAAA,IAC9C;AACA,mBAAe,QAAQ,CAACA,UAAS;AAChC,UAAI,KAAK,WAAW,IAAIA,KAAI;AAAG;AAC/B,YAAM,OAAO,QAAQ,IAAIA,KAAI;AAC7B,UAAI,KAAK,mCAAmC,IAAIA,KAAI,GAAG;AACtD,aAAK,QAAQ,MAAM;AAAA,UAClB,MAAAA;AAAA,UACA,UAAU;AAAA,UACV,UAAU;AAAA,UACV,YAAY;AAAA,UACZ,aAAa;AAAA,QACd,CAAC;AAAA,MACF,WAAW,oBAAoBA,KAAI,GAAG;AACrC,aAAK,QAAQ,MAAM;AAAA,UAClB,MAAAA;AAAA,UACA,UAAU;AAAA,QACX,CAAC;AAAA,MACF,WAAWA,MAAK,CAAC,MAAM,KAAK;AAC3B,YAAIA,UAAS,OAAOA,MAAK,CAAC,MAAM,KAAK;AACpC,iBAAO,KAAK;AAAA;AAAA,YAA0B;AAAA,YAAO,wBAAgB,eAAeA,KAAI;AAAA,UAAC;AAAA,QAClF;AACA,aAAK,QAAQ,MAAM;AAAA,UAClB,MAAAA;AAAA,UACA,UAAU;AAAA,UACV,SAAS;AAAA,UACT,UAAU;AAAA,QACX,CAAC;AACD,aAAK,cAAc,MAAMA,MAAK,MAAM,CAAC,CAAC;AACtC,cAAM,WAAW,KAAK,WAAW,IAAIA,MAAK,MAAM,CAAC,CAAC;AAClD,YAAI,UAAU;AACb,mBAAS,eAAe;AACxB,mBAAS,yBAAyB;AAAA,QACnC;AAAA,MACD,OAAO;AACN,aAAK,QAAQ,MAAM;AAAA,UAClB,MAAAA;AAAA,UACA,QAAQ;AAAA,UACR,WAAW;AAAA,QACZ,CAAC;AAAA,MACF;AAAA,IACD,CAAC;AACD,SAAK,+BAA+B;AAAA,EACrC;AAAA,EACA,iCAAiC;AAChC,UAAM,SAAS,KAAK,IAAI;AACxB,QAAI,CAAC;AAAQ;AACb,SAAK,mBAAmB;AACxB,SAAK,4BAA4B;AACjC,SAAK,8BAA8B;AACnC,SAAK,8BAA8B;AAAA,EACpC;AAAA,EACA,qBAAqB;AACpB,UAAM,SAAS,KAAK,IAAI;AACxB,QAAI,CAAC;AAAQ;AACb,UAAM,YAAY;AAClB,UAAM,EAAE,QAAQ,IAAI;AACpB,UAAM,EAAE,gBAAgB,oBAAoB,IAAI,IAAI;AACpD,QAAI,QAAQ;AACZ,UAAM,YAAY,CAAC;AAOnB,UAAM,SAAS,CAAC,QAAQ,MAAM,UAAU;AACvC,gBAAU,QAAQ,CAAC,QAAQ,MAAM,KAAK,CAAC;AAAA,IACxC;AACA,QAAI,gBAAgB;AACpB,UAAM,yBAAyB,CAAC;AAGhC,QAAI,mBAAmB;AACvB,SAAK,SAAS;AAAA;AAAA,MAEb,MAAM,MAAM,QAAQ,MAAM,OAAO;AAChC,YAAI,KAAK,SAAS,yBAAyB,KAAK,SAAS,sBAAsB;AAC9E,iCAAuB,KAAM,mBAAmB,IAAK;AAAA,QACtD;AACA,YAAI,IAAI,IAAI,IAAI,GAAG;AAClB,kBAAQ,IAAI,IAAI,IAAI;AAAA,QACrB;AACA,YAAI,OAAO;AAGX,YAAI,QAAQ,CAAC;AACb,YAAI,KAAK,SAAS,wBAAwB;AACzC,cAAI,KAAK,KAAK,SAAS,gBAAgB;AACtC,iBAAK,KAAK,MAAM;AAAA;AAAA;AAAA;AAAA;AAAA,cAKf,MAAME,OAAMC,SAAQ;AACnB,oBACCD,MAAK,SAAS,gBACdC,QAAO,SAAS,uBACfA,QAAO,SAAS,uBAAuBA,QAAO,UAAUD,QACxD;AACD,wBAAM,KAAKA,MAAK,IAAI;AAAA,gBACrB;AAAA,cACD;AAAA,YACD,CAAC;AAAA,UACF,OAAO;AACN,mBAAO,KAAK,KAAK,SAAS;AAC1B,oBAAQ,OAAO,CAAC,WAAW,KAAK,IAAI,EAAE,IAAI,IAAI,cAAc,KAAK,IAAI;AAAA,UACtE;AAAA,QACD,WAAW,KAAK,SAAS,oBAAoB;AAC5C,iBAAO,KAAK,SAAS,SAAS;AAC9B,gBAAM,EAAE,MAAAF,MAAK,IAAI,WAAW,KAAK,QAAQ;AACzC,gBAAM,KAAKA,KAAI;AAAA,QAChB;AACA,YAAI,MAAM,SAAS,GAAG;AACrB,gBAAM,QAAQ,CAACA,UAAS;AACvB,gBAAI,gBAAgB;AACpB,gBAAI;AACJ,mBAAO,eAAe;AACrB,kBAAI,cAAc,aAAa,IAAIA,KAAI,GAAG;AACzC,8BAAc,cAAc,aAAa,IAAIA,KAAI;AACjD;AAAA,cACD;AACA,8BAAgB,cAAc;AAAA,YAC/B;AACA,gBACC;AAAA,YACqD,YAAa,SAAS,WAC3E,CAAC,MACA;AACD,wBAAU;AAAA;AAAA,gBAA0B;AAAA,gBAAO;AAAA,kBAC1C,MAAM;AAAA,kBACN,SAAS;AAAA,gBACV;AAAA,cAAC;AAAA,YACF;AAAA,UACD,CAAC;AAAA,QACF;AACA,YAAI,KAAK,SAAS,qBAAqB;AACtC,oBAAU,gBAAgB,IAAI;AAE9B,iBAAO,QAAQ,MAAM,KAAK;AAC1B,iBAAO,KAAK,KAAK;AAAA,QAClB;AACA,YAAI,8BAA8B,KAAK,KAAK,IAAI,GAAG;AAClD,gBAAM,cAAc,UAAU,gBAAgB,IAAI;AAClD,cAAI,aAAa;AAChB,iBAAK,QAAQ,WAAW;AAAA,UACzB,OAAO;AAEN,mBAAO,QAAQ,MAAM,KAAK;AAAA,UAC3B;AACA,iBAAO,KAAK,KAAK;AAAA,QAClB;AACA,kBAAU,yCAAyC,MAAM,QAAQ,MAAM,KAAK;AAAA,MAC7E;AAAA;AAAA,MAGA,MAAM,MAAM;AACX,YAAI,KAAK,SAAS,yBAAyB,KAAK,SAAS,sBAAsB;AAC9E,iCAAuB,IAAI;AAC3B,6BAAmB,uBAAuB,uBAAuB,SAAS,CAAC;AAAA,QAC5E;AAEA,YACC,UAAU,gBAAgB,OAC1B,UAAU,gBAAgB,mBAAmB,MAC5C,CAAC,oBAAqB,CAAC,iBAAiB,aAAa,CAAC,iBAAiB,QACvE;AACD,gBAAM,8BAA8B,UAAU;AAAA,YAC7C;AAAA,YACA;AAAA,YACA,UAAU,gBAAgB;AAAA,UAC3B;AACA,cAAI,6BAA6B;AAChC,iBAAK,QAAQ,2BAA2B;AACxC,4BAAgB;AAAA,UACjB;AAAA,QACD;AACA,YAAI,IAAI,IAAI,IAAI,GAAG;AAClB,kBAAQ,MAAM;AAAA,QACf;AAAA,MACD;AAAA,IACD,CAAC;AACD,eAAW,CAAC,QAAQ,MAAM,KAAK,KAAK,WAAW;AAC9C,UAAI,QAAQ;AACX,YAAI,UAAU,MAAM;AACnB,iBAAO,IAAI,EAAE,OAAO,OAAO,CAAC;AAAA,QAC7B,OAAO;AACN,iBAAO,OAAO,IAAI;AAAA,QACnB;AAAA,MACD;AAAA,IACD;AACA,QAAI,eAAe;AAClB,YAAM,EAAE,OAAAI,QAAO,KAAAC,KAAI,IAAI,cAAc,OAAO,OAAO;AACnD,WAAK,iBAAiBD;AACtB,WAAK,qBAAqBC;AAAA,IAC3B;AAAA,EACD;AAAA,EACA,iCAAiC;AAChC,UAAM,SAAS,KAAK,IAAI;AACxB,QAAI,CAAC;AAAQ;AACb,UAAM,YAAY;AAClB,UAAM,EAAE,QAAQ,IAAI;AACpB,UAAM,EAAE,gBAAgB,cAAc,oBAAoB,IAAI,IAAI;AAClE,QAAI,QAAQ;AACZ,SAAK,SAAS;AAAA;AAAA;AAAA;AAAA;AAAA,MAKb,MAAM,MAAM,QAAQ;AACnB,YAAI,IAAI,IAAI,IAAI,GAAG;AAClB,kBAAQ,IAAI,IAAI,IAAI;AAAA,QACrB;AACA,YAAI,KAAK,SAAS,0BAA0B,KAAK,SAAS,oBAAoB;AAC7E,gBAAM,WAAW,KAAK,SAAS,yBAAyB,KAAK,OAAO,KAAK;AACzE,gBAAM,QAAQ;AAAA;AAAA,YAAoD;AAAA,UAAS;AAC3E,gBAAM,OAAO,SAAS,SAAS;AAC/B,gBAAM,QAAQ,CAACL,UAAS;AACvB,kBAAM,cAAc,MAAM,WAAWA,KAAI;AACzC,gBACC,gBAAgB,OACb,gBAAgB,iBAChB,gBAAgB,aAAa,IAAIA,KAAI,GACvC;AACD,oBAAM,WAAW,UAAU,WAAW,IAAIA,KAAI;AAC9C,uBAAS,OAAO,YAAY,YAAY,IAAI;AAAA,YAC7C;AAAA,UACD,CAAC;AAAA,QACF;AACA,YAAI,qBAAqB,MAAM,MAAM,GAAG;AACvC,gBAAM,SAAS,WAAW,IAAI;AAC9B,cAAI,MAAM,WAAW,OAAO,IAAI,MAAM,gBAAgB;AACrD,kBAAM,WAAW,UAAU,WAAW,IAAI,OAAO,IAAI;AACrD,qBAAS,yBAAyB;AAAA,UACnC;AAAA,QACD;AAAA,MACD;AAAA;AAAA,MAGA,MAAM,MAAM;AACX,YAAI,IAAI,IAAI,IAAI,GAAG;AAClB,kBAAQ,MAAM;AAAA,QACf;AAAA,MACD;AAAA,IACD,CAAC;AAAA,EACF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAQA,yCAAyC,MAAM,QAAQ,MAAM,OAAO;AACnE,QAAI,KAAK,SAAS,sBAAsB,KAAK,MAAM,SAAS,OAAO,OAAO,SAAS,WAAW;AAC7F,WAAK;AAAA;AAAA,QAAyB;AAAA,QAAO,0BAAkB;AAAA,MAAkC;AAAA,IAC1F;AACA,QACC;AAAA;AAAA,MACmE;AAAA;AAAA,MACA;AAAA,IACnE,GACC;AACD,YAAM,SAAS,WAAW,IAAI;AAC9B,YAAM,EAAE,MAAAA,MAAK,IAAI;AACjB,UAAIA,MAAK,CAAC,MAAM,KAAK;AACpB,YAAI,CAAC,MAAM,IAAIA,KAAI,GAAG;AACrB,eAAK,kBAAkBA,OAAM,QAAQ,IAAI;AAAA,QAC1C;AACA,YACCA,MAAK,CAAC,MAAM,OACZ,MAAM,IAAIA,MAAK,MAAM,CAAC,CAAC,KACvB,MAAM,WAAWA,MAAK,MAAM,CAAC,CAAC,MAAM,KAAK,gBACxC;AACD,cACC,EACE,6BAA6B,KAAK,OAAO,IAAI,KAAK,SAAS,YAC3D,OAAO,SAAS,wBAAwB,SAAS,OAElD;AACD,mBAAO,KAAK;AAAA;AAAA,cAA0B;AAAA,cAAO,wBAAgB;AAAA,YAAgB;AAAA,UAC9E;AAAA,QACD;AAAA,MACD;AAAA,IACD;AAAA,EACD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAQA,aAAa,MAAM,OAAO,SAAS;AAClC,QACC,KAAK,SAAS,oBACd,KAAK,SAAS,kBACd,KAAK,SAAS,oBACb;AACD,YAAM,QAAQ,KAAK,gBAAgB,SAAS,KAAK;AACjD,WAAK,WAAW,IAAI,MAAM,IAAI;AAC9B,YAAM,SAAS,UAAU,KAAK,kBAAkB,OAAO;AACvD,YAAM,SAAS,IAAI,KAAK;AAExB,UAAI,KAAK,KAAK,SAAS,kBAAkB;AACxC,aAAK,OAAO;AAAA,UACX,MAAM;AAAA,UACN,MAAM,CAAC,KAAK,IAAI;AAAA,QACjB;AAAA,MACD;AACA,WAAK,KAAK,KAAK,KAAK,OAAO,CAAC,CAAC;AAC7B,aAAO;AAAA,QACN,MAAM;AAAA,QACN,MAAM,CAAC,OAAO,CAAC,GAAG,IAAI;AAAA,MACvB;AAAA,IACD;AACA,WAAO;AAAA,EACR;AAAA;AAAA,EAGA,cAAc,YAAY;AACzB,QAAI,CAAC,KAAK,IAAI;AAAU;AACxB,UAAM,YAAY;AAClB,UAAM,EAAE,gBAAgB,oBAAoB,IAAI,IAAI;AACpD,QAAI,QAAQ;AACZ,SAAK,KAAK,IAAI,SAAS,SAAS;AAAA;AAAA,MAE/B,MAAM,MAAM;AACX,YAAI,6BAA6B,KAAK,KAAK,IAAI,GAAG;AACjD,iBAAO,KAAK,KAAK;AAAA,QAClB;AACA,YAAI,IAAI,IAAI,IAAI,GAAG;AAClB,kBAAQ,IAAI,IAAI,IAAI;AAAA,QACrB;AACA,YAAI,KAAK,SAAS,4BAA4B,KAAK,aAAa;AAC/D,iBAAO,KAAK,QAAQ,KAAK,WAAW;AAAA,QACrC;AACA,YAAI,KAAK,SAAS,uBAAuB;AAExC,cAAI,KAAK,SAAS,SAAS,UAAU,gBAAgB;AASpD,gBAAS,gBAAT,SAAuB,UAAU,OAAO,eAAe;AACtD,oBAAM,KAAK;AAAA,gBACV,MAAM;AAAA,gBACN,QAAQ;AAAA,gBACR,WAAW;AAAA,gBACX,UAAU;AAAA,gBACV,MAAM;AAAA,gBACN,KAAK;AAAA,gBACL,OAAO,gBACJ;AAAA,kBACA,MAAM;AAAA,kBACN,MAAM;AAAA,kBACN,OAAO;AAAA,gBACP,IACA;AAAA,cACJ,CAAC;AAAA,YACF;AAxBA,kBAAM,UAAU,CAAC;AACjB,kBAAM,QAAQ,CAAC;AAiCf,qBAAS,QAAQ,GAAG,QAAQ,KAAK,aAAa,QAAQ,SAAS;AAC9D,oBAAM,aAAa,KAAK,aAAa,KAAK;AAC1C,kBAAI,WAAW,GAAG,SAAS,cAAc;AAKxC,oBAAS,eAAT,SAAsB,OAAO;AAC5B,wBAAM,WAAW,UAAU,WAAW,IAAI,MAAM,IAAI;AACpD,sBAAI,SAAS,cAAc;AAC1B,4BAAQ,KAAK,WAAW,QAAQ,CAAC;AAAA,kBAClC;AACA,sBAAI,SAAS,eAAe,SAAS,UAAU;AAC9C,0BAAM,aAAa,UAAU,gBAAgB,MAAM,IAAI;AACvD;AAAA,sBACC,EAAE,MAAM,cAAc,MAAM,SAAS,YAAY;AAAA,sBACjD;AAAA,sBACA;AAAA,oBACD;AACA,2BAAO;AAAA,kBACR;AACA,yBAAO;AAAA,gBACR,GAGS,qBAAT,SAA4B,OAAO;AAClC,0BAAQ,MAAM,MAAM;AAAA,oBACnB,KAAK,iBAAiB;AAErB,4BAAM,cAAc,CAAC,SAAS;AAC7B,4BAAI,KAAK,SAAS,eAAe;AAChC,6CAAmB,IAAI;AAAA,wBACxB,WAAW,KAAK,MAAM,SAAS,cAAc;AAC5C,+BAAK,QAAQ,aAAa,KAAK,KAAK;AAAA,wBACrC,OAAO;AACN;AAAA;AAAA,4BAA4D,KAAK;AAAA,0BAAM;AAAA,wBACxE;AAAA,sBACD;AACA,4BAAM,WAAW,QAAQ,WAAW;AACpC;AAAA,oBACD;AAAA,oBACA,KAAK,gBAAgB;AAMpB,4BAAM,iBAAiB,CAAC,SAASM,QAAO,UAAU;AACjD,4BAAI,SAAS;AACZ,8BAAI,QAAQ,SAAS,cAAc;AAClC,kCAAMA,MAAK,IAAI,aAAa,OAAO;AAAA,0BACpC,OAAO;AACN,+CAAmB,OAAO;AAAA,0BAC3B;AAAA,wBACD;AAAA,sBACD;AACA,4BAAM,SAAS,QAAQ,cAAc;AACrC;AAAA,oBACD;AAAA,oBACA,KAAK;AACJ,0BAAI,MAAM,SAAS,SAAS,cAAc;AACzC,8BAAM,WAAW,aAAa,MAAM,QAAQ;AAAA,sBAC7C,OAAO;AACN,2CAAmB,MAAM,QAAQ;AAAA,sBAClC;AACA;AAAA,oBACD,KAAK;AACJ,0BAAI,MAAM,KAAK,SAAS,cAAc;AACrC,8BAAM,OAAO,aAAa,MAAM,IAAI;AAAA,sBACrC,OAAO;AACN,2CAAmB,MAAM,IAAI;AAAA,sBAC9B;AACA;AAAA,kBACF;AAAA,gBACD;AACA,mCAAmB,WAAW,EAAE;AAAA,cACjC,OAAO;AACN,sBAAM,EAAE,MAAAN,MAAK,IAAI,WAAW;AAC5B,sBAAM,WAAW,UAAU,WAAW,IAAIA,KAAI;AAC9C,sBAAM,WAAW,SAAS,eAAe,SAAS;AAClD,oBAAI,UAAU;AACb;AAAA,oBACC,EAAE,MAAM,cAAc,MAAM,SAAS,YAAY;AAAA,oBACjD,WAAW;AAAA,oBACX,WAAW;AAAA,kBACZ;AACA,uBAAK,aAAa,OAAO,SAAS,CAAC;AAAA,gBACpC;AACA,oBAAI,SAAS,iBAAiB,YAAY,WAAW,OAAO;AAC3D,0BAAQ,KAAK,WAAW,QAAQ,CAAC;AAAA,gBAClC;AAAA,cACD;AAAA,YACD;AACA,iBAAK;AAAA;AAAA,cAEH;AAAA,SACC,KAAK,aAAa,SAAS,OAAO,IAAI;AAAA,SACtC,MAAM,SAAS,KAAK,UAAU,KAAK,eAAe;AAAA,SAClD,OAAO;AAAA;AAAA,YAGV;AACA,mBAAO,KAAK,KAAK;AAAA,UAClB;AAAA,QACD;AAAA,MACD;AAAA;AAAA,MAGA,MAAM,MAAM;AACX,YAAI,IAAI,IAAI,IAAI,GAAG;AAClB,kBAAQ,MAAM;AAAA,QACf;AAAA,MACD;AAAA,IACD,CAAC;AAAA,EACF;AAAA,EACA,8BAA8B;AAK7B,UAAM,EAAE,iBAAiB,YAAY,oCAAoC,QAAQ,IAAI;AACrF,UAAM,kCAAkC,oBAAI,IAAI;AAChD,UAAM,EAAE,KAAK,IAAI,KAAK,IAAI,SAAS;AACnC,aAAS,IAAI,GAAG,IAAI,KAAK,QAAQ,KAAK,GAAG;AACxC,YAAM,OAAO,KAAK,CAAC;AACnB,UAAI,KAAK,SAAS,uBAAuB;AACxC,cAAM,gBAAgB,KAAK,aAAa,MAAM,CAAC,MAAM;AACpD,cAAI,CAAC,EAAE;AAAM,mBAAO;AACpB,cAAI,EAAE,KAAK,SAAS;AAAW,mBAAO;AAGtC,cAAI,KAAK,SAAS,WAAW,KAAK,gBAAgB;AAAK,mBAAO;AAC9D,qBAAWA,SAAQ,cAAc,EAAE,EAAE,GAAG;AACvC,kBAAM,IAAI,KAAK,WAAW,IAAIA,KAAI;AAClC,gBAAI,EAAE;AAAY,qBAAO;AACzB,gBAAI,EAAE;AAAa,qBAAO;AAE1B,gBAAI,KAAK,KAAK,KAAK,CAAC,aAAa,SAAS,SAASA,SAAQ,SAAS,MAAM,GAAG;AAC5E,qBAAO;AAAA,YACR;AAAA,UACD;AACA,iBAAO;AAAA,QACR,CAAC;AACD,YAAI,eAAe;AAClB,eAAK,aAAa,QAAQ,CAAC,MAAM;AAChC,uBAAWA,SAAQ,cAAc,EAAE,EAAE,GAAG;AACvC,mBAAK,WAAW,IAAIA,KAAI,EAAE,YAAY;AAAA,YACvC;AAAA,UACD,CAAC;AACD,0BAAgB,IAAI,IAAI;AACxB,eAAK,OAAO,KAAK,CAAC;AAClB,eAAK,cAAc,KAAK,IAAI;AAAA,QAC7B;AAAA,MACD;AACA,UACC,KAAK,SAAS,4BACd,KAAK,eACL,KAAK,YAAY,SAAS,uBACzB;AACD,wCAAgC,IAAI,KAAK,YAAY,GAAG,MAAM,IAAI;AAAA,MACnE;AACA,UAAI,KAAK,SAAS,uBAAuB;AACxC,wCAAgC,IAAI,KAAK,GAAG,MAAM,IAAI;AAAA,MACvD;AAAA,IACD;AACA,UAAM,UAAU,oBAAI,IAAI;AACxB,UAAM,UAAU,oBAAI,IAAI;AAGxB,UAAM,eAAe,CAAC,mBAAmB;AACxC,UAAI,eAAe,SAAS,0BAA0B;AACrD,yBAAiB,eAAe;AAAA,MACjC;AACA,YAAM,iBAAiB,KAAK;AAC5B,UAAI,QAAQ,KAAK;AACjB,YAAM,MAAM,KAAK;AACjB,UAAI,YAAY;AAEhB,cAAQ,IAAI,cAAc;AAC1B,WAAK,gBAAgB;AAAA;AAAA,QAEpB,MAAM,MAAM,QAAQ;AACnB,cAAI,CAAC;AAAW,mBAAO,KAAK,KAAK;AACjC,cAAI,IAAI,IAAI,IAAI,GAAG;AAClB,oBAAQ,IAAI,IAAI,IAAI;AAAA,UACrB;AACA,cACC;AAAA;AAAA,YACmE;AAAA;AAAA,YACA;AAAA,UACnE,GACC;AACD,kBAAM,EAAE,MAAAA,MAAK,IAAI,kBAAkB,IAAI;AACvC,kBAAM,QAAQ,MAAM,WAAWA,KAAI;AACnC,gBAAI,mCAAmC,IAAIA,KAAI,GAAG;AACjD,0BAAY;AAAA,YACb,WAAWA,MAAK,CAAC,MAAM,OAAO,CAAC,OAAO;AACrC,0BAAY;AAAA,YACb,WAAW,UAAU,gBAAgB;AACpC,oBAAM,WAAW,WAAW,IAAIA,KAAI;AACpC,kBAAI,SAAS,cAAc,SAAS;AAAS,4BAAY;AACzD,kBAAIA,UAAS,eAAe,GAAG;AAAM;AACrC,kBAAI,SAAS;AAAW;AACxB,kBAAI,gCAAgC,IAAIA,KAAI,GAAG;AAC9C,sBAAM,oBAAoB,gCAAgC,IAAIA,KAAI;AAClE,oBAAI,QAAQ,IAAI,iBAAiB,GAAG;AACnC,8BAAY;AAAA,gBACb,WACC,kBAAkB,SAAS,4BAC3B,QAAQ,IAAI,kBAAkB,WAAW,GACxC;AACD,8BAAY;AAAA,gBACb,WAAW,CAAC,aAAa,iBAAiB,GAAG;AAC5C,8BAAY;AAAA,gBACb;AAAA,cACD,OAAO;AACN,4BAAY;AAAA,cACb;AAAA,YACD;AACA,iBAAK,KAAK;AAAA,UACX;AAAA,QACD;AAAA;AAAA,QAGA,MAAM,MAAM;AACX,cAAI,IAAI,IAAI,IAAI,GAAG;AAClB,oBAAQ,MAAM;AAAA,UACf;AAAA,QACD;AAAA,MACD,CAAC;AACD,cAAQ,IAAI,cAAc;AAC1B,cAAQ,OAAO,cAAc;AAC7B,aAAO;AAAA,IACR;AACA,eAAW,CAACA,OAAM,IAAI,KAAK,iCAAiC;AAC3D,UAAI,aAAa,IAAI,GAAG;AACvB,cAAM,WAAW,KAAK,WAAW,IAAIA,KAAI;AACzC,iBAAS,YAAY;AACrB,wBAAgB,IAAI,IAAI;AACxB,cAAM,IAAI,KAAK,QAAQ,IAAI;AAC3B,aAAK,OAAO,GAAG,CAAC;AAChB,aAAK,cAAc,KAAK,IAAI;AAAA,MAC7B;AAAA,IACD;AACA,eAAW,EAAE,WAAW,KAAK,SAAS;AACrC,iBAAW,aAAa,YAAY;AACnC,cAAM,WAAW,WAAW,IAAI,UAAU,MAAM,IAAI;AACpD,YAAI,CAAC,SAAS,WAAW,SAAS,cAAc;AAC/C,mBAAS,YAAY;AAAA,QACtB;AAAA,MACD;AAAA,IACD;AAAA,EACD;AAAA,EACA,gCAAgC;AAC/B,UAAM,YAAY;AASlB,UAAM,iCAAiC,CAAC;AACxC,SAAK,IAAI,SAAS,QAAQ,KAAK,QAAQ,CAAC,SAAS;AAChD,YAAM,UAAU,oCAAoC,IAAI;AACxD,UAAI,QAAQ;AAAQ,aAAK,aAAa,OAAO;AAC7C,UAAI,KAAK,SAAS,sBAAsB,KAAK,MAAM,SAAS,KAAK;AAChE,aAAK,2BAA2B,IAAI,IAAI;AACxC,cAAM,YAAY,oBAAI,IAAI;AAC1B,cAAM,iBAAiB,oBAAI,IAAI;AAC/B,cAAM,eAAe,oBAAI,IAAI;AAC7B,cAAM,sBAAsB,oBAAI,IAAI;AACpC,YAAI,QAAQ,KAAK;AACjB,cAAM,EAAE,cAAc,2BAA2B,IAAI,KAAK;AAC1D,cAAM,MAAM,KAAK;AACjB,aAAK,KAAK,MAAM;AAAA;AAAA,UAEf,MAAME,OAAM,QAAQ;AACnB,gBAAIA,MAAK,SAAS,yBAAyBA,MAAK,SAAS,OAAO;AAC/D,oBAAM,mBAAmBA,MAAK,aAAa;AAAA;AAAA,gBACsB,CAACK,iBAAgB;AAEhF,wBAAM,QAAQ,cAAcA,aAAY,EAAE;AAC1C,yBAAO,CAAC,CAAC,MAAM;AAAA;AAAA,oBACc,CAACP,UAAS;AACrC,4BAAM,WAAW,2BAA2B,IAAIA,KAAI;AACpD,6BAAO,aAAaE;AAAA,oBACrB;AAAA,kBACD;AAAA,gBACD;AAAA,cACD;AACA,kBAAI,kBAAkB;AACrB,uBAAO,UAAU;AAAA;AAAA,kBACIA;AAAA,kBACpB,wBAAgB;AAAA,gBACjB;AAAA,cACD;AAAA,YACD;AACA,gBAAI,IAAI,IAAIA,KAAI,GAAG;AAClB,sBAAQ,IAAI,IAAIA,KAAI;AAAA,YACrB;AACA,gBAAIA,MAAK,SAAS,wBAAwB;AACzC,oBAAM,OAAO,WAAWA,MAAK,IAAI;AACjC,kCAAoB,IAAI,EAAE,QAAQ,CAACA,UAAS;AAC3C,+BAAe,IAAIA,KAAI;AACvB,0BAAU,IAAIA,MAAK,IAAI;AAAA,cACxB,CAAC;AACD,kBAAIA,MAAK,aAAa,KAAK;AAC1B,6BAAa,IAAI,KAAK,IAAI;AAAA,cAC3B;AAAA,YACD,WAAWA,MAAK,SAAS,oBAAoB;AAC5C,oBAAM,aAAa,WAAWA,MAAK,QAAQ;AAC3C,wBAAU,IAAI,WAAW,IAAI;AAAA,YAC9B,WACC;AAAA;AAAA,cACmEA;AAAA;AAAA,cACA;AAAA,YACnE,GACC;AACD,oBAAM,aAAa,WAAWA,KAAI;AAClC,kBAAI,CAAC,eAAe,IAAI,UAAU,GAAG;AACpC,sBAAM,EAAE,MAAAF,MAAK,IAAI;AACjB,sBAAM,QAAQ,MAAM,WAAWA,KAAI;AACnC,sBAAM,WAAW,UAAU,WAAW,IAAIA,KAAI;AAC9C,oBAAI,2BAA2B;AAC/B,oBAAI,UAAU;AACb,2BAAS,yBAAyB;AAClC,sBAAI,SAAS,UAAU,SAAS,UAAU;AACzC,+CAA2B;AAC3B,wCAAoB,IAAIA,KAAI;AAAA,kBAC7B;AAAA,gBACD;AACA,sBAAM,yBAAyB,aAAa,SAAS,YAAY,SAAS;AAC1E,oBACC,6BACC,CAAC,SAAS,UAAU,UAAU,oBAC9BA,MAAK,CAAC,MAAM,OAAO,yBACnB;AACD,+BAAa,IAAIA,KAAI;AAAA,gBACtB;AAAA,cACD;AACA,mBAAK,KAAK;AAAA,YACX;AAAA,UACD;AAAA;AAAA,UAGA,MAAME,OAAM;AACX,gBAAI,IAAI,IAAIA,KAAI,GAAG;AAClB,sBAAQ,MAAM;AAAA,YACf;AAAA,UACD;AAAA,QACD,CAAC;AACD,YAAI,oBAAoB,OAAO,KAAK,aAAa,SAAS,GAAG;AAC5D,oBAAU;AAAA;AAAA,YACW,KAAK;AAAA,YACzB,0BAAkB;AAAA,cACjB,MAAM,KAAK,mBAAmB;AAAA,YAC/B;AAAA,UACD;AAAA,QACD;AACA,cAAM,EAAE,WAAW;AAAA;AAAA,UAAyD,KAAK;AAAA;AACjF,cAAM,cACL;AAAA,QAAoE,WAAY;AACjF,uCAA+B,KAAK;AAAA,UACnC;AAAA,UACA;AAAA,UACA;AAAA,UACA;AAAA,QACD,CAAC;AAAA,MACF;AACA,UAAI,QAAQ;AAAQ,aAAK,YAAY;AAAA,IACtC,CAAC;AACD,UAAM,SAAS,oBAAI,IAAI;AACvB,mCAA+B,QAAQ,CAAC,gBAAgB;AACvD,kBAAY,UAAU,QAAQ,CAACF,UAAS;AACvC,YAAI,CAAC,OAAO,IAAIA,KAAI,GAAG;AACtB,iBAAO,IAAIA,OAAM,CAAC,CAAC;AAAA,QACpB;AAGA,eAAO,IAAIA,KAAI,EAAE,KAAK,WAAW;AAAA,MAClC,CAAC;AAAA,IACF,CAAC;AACD,UAAM,QAAQ;AAAA,MACb,+BAA+B,OAAO,CAAC,KAAK,gBAAgB;AAC3D,oBAAY,UAAU,QAAQ,CAAC,MAAM;AACpC,sBAAY,aAAa,QAAQ,CAAC,MAAM;AACvC,gBAAI,CAAC,YAAY,UAAU,IAAI,CAAC,GAAG;AAClC,kBAAI,KAAK,CAAC,GAAG,CAAC,CAAC;AAAA,YAChB;AAAA,UACD,CAAC;AAAA,QACF,CAAC;AACD,eAAO;AAAA,MACR,GAAG,CAAC,CAAC;AAAA,IACN;AACA,QAAI,SAAS,MAAM,QAAQ;AAC1B,YAAM,mBAAmB,OAAO,IAAI,MAAM,CAAC,CAAC;AAC5C,YAAM,cAAc,iBAAiB,CAAC;AACtC,aAAO,KAAK,MAAM,YAAY,MAAM,wBAAgB,8BAA8B,KAAK,CAAC;AAAA,IACzF;AAGA,UAAM,kBAAkB,CAAC,gBAAgB;AACxC,UAAI,KAAK,sBAAsB,SAAS,WAAW;AAAG;AACtD,kBAAY,aAAa,QAAQ,CAACA,UAAS;AAC1C,YAAI,YAAY,UAAU,IAAIA,KAAI;AAAG;AACrC,cAAM,uBAAuB,OAAO,IAAIA,KAAI;AAC5C,YAAI,sBAAsB;AACzB,+BAAqB,QAAQ,eAAe;AAAA,QAC7C;AAAA,MACD,CAAC;AACD,WAAK,sBAAsB,KAAK,WAAW;AAAA,IAC5C;AACA,mCAA+B,QAAQ,eAAe;AAAA,EACvD;AAAA,EACA,gCAAgC;AAC/B,SAAK,KAAK,QAAQ,CAACQ,SAAQ;AAC1B,MAAAA,KAAI,yBAAyB;AAAA,IAC9B,CAAC;AAAA,EACF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAQA,kBAAkBR,OAAM,MAAM,gBAAgB,OAAO;AACpD,QAAIA,MAAK,CAAC,MAAM,KAAK;AACpB,UAAIA,UAAS,OAAQA,MAAK,CAAC,MAAM,OAAO,CAAC,oBAAoBA,KAAI,GAAI;AACpE,eAAO,KAAK,MAAM,MAAM,wBAAgB,eAAeA,KAAI,CAAC;AAAA,MAC7D;AACA,WAAK,2BAA2B;AAChC,UAAI,oBAAoBA,KAAI;AAAG;AAC/B,MAAAA,QAAOA,MAAK,MAAM,CAAC;AAAA,IACpB;AACA,QAAI,KAAK,WAAW,IAAIA,KAAI,KAAK,CAAC,KAAK,WAAW,IAAIA,KAAI,EAAE;AAAQ;AACpE,QAAI,kBAAkB,eAAe,MAAM,IAAIA,KAAI;AAAG;AACtD,QAAI,gBAAQ,IAAIA,KAAI,KAAK,KAAK,SAAS;AAAmB;AAE1D,aAAS,uBAAuB;AAC/B,eAAS,SAAS,MAAM,QAAQ,QAAQ,SAAS,OAAO,QAAQ;AAC/D,YAAI,OAAO,SAAS,mBAAmB;AACtC,gBAAM,EAAE,eAAe,IAAI;AAE3B,qBAAW,QAAQ,gBAAgB;AAClC;AAAA;AAAA;AAAA,cAGE,KAAK,cAAc,cAAc,KAAK,UAAU,EAAE,SAASA,KAAI,KAChE,KAAK,SAASA;AAAA;AAEd,qBAAO;AAAA,UACT;AAAA,QACD;AAAA,MACD;AAEA,aAAO;AAAA,IACR;AAEA,QAAI,SAAS,qBAAqB,GAAG;AACpC,aAAO,KAAK,KAAK,MAAM;AAAA,QACtB,MAAM;AAAA,QACN,SAAS,OAAOA,KAAI;AAAA,MACrB,CAAC;AAAA,IACF;AAEA,SAAK,KAAK,MAAM,0BAAkB,oBAAoBA,OAAM,CAAC,CAAC,KAAK,IAAI,QAAQ,CAAC;AAAA,EACjF;AAAA;AAAA,EAGA,aAAa,SAAS;AACrB,SAAK,UAAU,IAAI,IAAI,KAAK,WAAW,CAAC,CAAC;AACzC,eAAW,KAAK,SAAS,OAAO;AAChC,SAAK,aAAa,KAAK,KAAK,OAAO;AAAA,EACpC;AAAA,EACA,cAAc;AACb,SAAK,aAAa,IAAI;AACtB,SAAK,UAAU,KAAK,aAAa,KAAK,aAAa,SAAS,CAAC;AAAA,EAC9D;AACD;AACA,IAAM,uBAAuB;AAM7B,SAAS,0BAA0B,WAAW,OAAO;AAEpD,QAAM,oBAAoB;AAAA,IACzB,WAAW,UAAU,gBAAgB,aAAa;AAAA,IAClD,WACC,eAAe,UAAU,kBACtB,UAAU,gBAAgB,YAC1B,CAAC,CAAC,UAAU,gBAAgB;AAAA,IAChC,oBAAoB,CAAC,CAAC,UAAU,gBAAgB;AAAA,IAChD,WAAW,UAAU,gBAAgB;AAAA,EACtC;AACA,QAAM,OAAO,MAAM,KAAK,CAACE,UAASA,MAAK,SAAS,gBAAgB;AAMhE,WAASO,WAAU,WAAW,EAAE,MAAM,QAAQ,GAAG;AAChD,UAAM,EAAE,MAAM,IAAI;AAClB,UAAM,QAAQ,MAAM,CAAC;AACrB,QAAI,CAAC;AAAO,aAAO;AACnB,QAAI,MAAM,SAAS,GAAG;AACrB,aAAO,UAAU,MAAM,WAAW,EAAE,MAAM,QAAQ,CAAC;AAAA,IACpD;AACA,QAAI,MAAM,SAAS;AAAQ,aAAO,MAAM;AACxC,QAAI,MAAM,WAAW,SAAS,WAAW;AACxC,aAAO,UAAU,MAAM,WAAW,EAAE,MAAM,QAAQ,CAAC;AAAA,IACpD;AACA,WAAO,MAAM,WAAW;AAAA,EACzB;AACA,MAAI,MAAM;AACT,SAAK,WAAW,QAAQ,CAAC,cAAc;AA/oDzC;AAgpDG,UAAI,UAAU,SAAS,aAAa;AAOnC,YAAS,YAAT,SAAmBC,YAAWF,MAAK;AAClC,cAAI,OAAOA,SAAQ,YAAYA,SAAQ,MAAM;AAC5C,mBAAO,UAAU,MAAME,YAAW,wBAAgB,qBAAqB;AAAA,UACxE;AACA,cAAIF,QAAO,CAAC,qBAAqB,KAAKA,IAAG,GAAG;AAC3C,mBAAO,UAAU,MAAME,YAAW,wBAAgB,oBAAoB;AAAA,UACvE;AACA,cAAIF,QAAO,CAAC,UAAU,gBAAgB,eAAe;AACpD,sBAAU,KAAKE,YAAW,0BAAkB,sCAAsC;AAAA,UACnF;AACA,4BAAkB,gBACjB,kBAAkB;AAAA,UAAqC,CAAC;AACzD,4BAAkB,cAAc,MAAMF;AAAA,QACvC;AAnBA,cAAM,EAAE,MAAAR,MAAK,IAAI;AAoBjB,gBAAQA,OAAM;AAAA,UACb,KAAK,OAAO;AACX,sBAAU,KAAK,WAAW,0BAAkB,qBAAqB;AACjE,sBAAU,WAAWS,WAAU,WAAW,wBAAgB,qBAAqB,CAAC;AAChF;AAAA,UACD;AAAA,UACA,KAAK,iBAAiB;AACrB,8BAAkB,gBACjB,kBAAkB;AAAA,YAAqC,CAAC;AAEzD,kBAAM,EAAE,MAAM,IAAI;AAClB,gBAAI,MAAM,CAAC,EAAE,SAAS,mBAAiB,WAAM,CAAC,EAAE,eAAT,mBAAqB,WAAU,MAAM;AAC3E,gCAAkB,cAAc,MAAM;AACtC;AAAA,YACD,WAAW,MAAM,CAAC,EAAE,SAAS,QAAQ;AACpC,wBAAU,WAAWA,WAAU,WAAW,wBAAgB,qBAAqB,CAAC;AAChF;AAAA,YACD,WAAW,MAAM,CAAC,EAAE,WAAW,SAAS,oBAAoB;AAC3D,qBAAO,UAAU,MAAM,WAAW,wBAAgB,+BAA+B;AAAA,YAClF;AAEA,kBAAMD,OAAM,MAAM,CAAC,EAAE,WAAW,WAAW,KAAK,CAAC,SAAS,KAAK,IAAI,SAAS,KAAK;AACjF,gBAAIA,MAAK;AACR,wBAAUA,OAAK,KAAAA,KAAI,UAAJ,mBAAW,KAAK;AAAA,YAChC,OAAO;AACN,qBAAO,UAAU,MAAM,WAAW,wBAAgB,+BAA+B;AAAA,YAClF;AAEA,kBAAM,QAAQ,MAAM,CAAC,EAAE,WAAW,WAAW,KAAK,CAAC,SAAS,KAAK,IAAI,SAAS,OAAO;AACrF,gBAAI,OAAO;AACV,oBAAMG,SAAQ,MACb,UAAU,MAAM,WAAW,wBAAgB,uBAAuB;AACnE,oBAAI,WAAM,UAAN,mBAAa,UAAS,oBAAoB;AAC7C,uBAAOA,OAAM;AAAA,cACd;AACA,gCAAkB,cAAc,QAAQ,CAAC;AACzC;AAAA,sBAAW;AAAA;AAAA,gBAA8D,MAAM,MAC7E;AAAA,gBAAY;AACb,oBACC,SAAS,SAAS,cAClB,SAAS,YACT,SAAS,IAAI,SAAS,gBACtB,SAAS,MAAM,SAAS,oBACvB;AACD,yBAAOA,OAAM;AAAA,gBACd;AACA,kCAAkB,cAAc,MAAM,SAAS,IAAI,IAAI,IAAI,CAAC;AAC5D,2BAAW,QAAQ,SAAS,MAAM,YAAY;AAC7C,sBACC,KAAK,SAAS,cACd,KAAK,YACL,KAAK,IAAI,SAAS,gBAClB,KAAK,MAAM,SAAS,WACnB;AACD,2BAAOA,OAAM;AAAA,kBACd;AACA,sBACC,CAAC,WAAW,aAAa,MAAM,EAAE,QAAQ,KAAK,IAAI,IAAI,MAAM,MAC3D,KAAK,IAAI,SAAS,UAClB,CAAC,UAAU,UAAU,WAAW,SAAS,QAAQ,EAAE;AAAA;AAAA,oBAC3B,KAAK,MAAM;AAAA,kBACnC,MAAM,MACN,KAAK,IAAI,SAAS,aAAa,OAAO,KAAK,MAAM,UAAU,aAC3D,KAAK,IAAI,SAAS,eAAe,OAAO,KAAK,MAAM,UAAU,UAC7D;AACD,2BAAOA,OAAM;AAAA,kBACd;AACA,oCAAkB,cAAc,MAAM,SAAS,IAAI,IAAI,EAAE,KAAK,IAAI,IAAI,IACrE,KAAK,MAAM;AAAA,gBACb;AAAA,cACD;AAAA,YACD;AAEA,kBAAM,SAAS,MAAM,CAAC,EAAE,WAAW,WAAW;AAAA,cAC7C,CAAC,SAAS,KAAK,IAAI,SAAS;AAAA,YAC7B;AACA,gBAAI,QAAQ;AACX,oBAAM,aAAY,YAAO,UAAP,mBAAc;AAChC,kBAAI,cAAc,UAAU,cAAc,QAAQ;AACjD,uBAAO,UAAU,MAAM,QAAQ,wBAAgB,wBAAwB;AAAA,cACxE;AACA,gCAAkB,cAAc,SAAS;AAAA,YAC1C;AAEA,kBAAM,SAAS,MAAM,CAAC,EAAE,WAAW,WAAW;AAAA,cAC7C,CAAC,SAAS,KAAK,IAAI,SAAS;AAAA,YAC7B;AACA,gBAAI,iCAAQ,OAAO;AAClB,gCAAkB,cAAc,SAAS,OAAO;AAAA,YACjD;AAEA;AAAA,UACD;AAAA,UACA,KAAK,aAAa;AACjB,kBAAM,KAAKF,WAAU,WAAW,wBAAgB,2BAA2B;AAC3E,gBAAI,OAAO,OAAO,UAAU;AAC3B,qBAAO,UAAU,MAAM,WAAW,wBAAgB,2BAA2B;AAAA,YAC9E;AACA,gBAAI,iBAAiB,QAAQ,EAAE,MAAM,IAAI;AACxC,oBAAM,QAAQ,WAAW,IAAI,gBAAgB;AAC7C,qBAAO,UAAU;AAAA,gBAChB;AAAA,gBACA,wBAAgB,2BAA2B,IAAI,KAAK;AAAA,cACrD;AAAA,YACD;AACA,8BAAkB,YAAY;AAC9B;AAAA,UACD;AAAA,UACA,KAAK;AAAA,UACL,KAAK;AAAA,UACL,KAAK,sBAAsB;AAC1B,kBAAM,QAAQA,WAAU,WAAW,wBAAgB,wBAAwBT,KAAI,CAAC;AAChF,gBAAI,OAAO,UAAU,WAAW;AAC/B,qBAAO,UAAU,MAAM,WAAW,wBAAgB,wBAAwBA,KAAI,CAAC;AAAA,YAChF;AACA,8BAAkBA,KAAI,IAAI;AAC1B;AAAA,UACD;AAAA,UACA;AACC,mBAAO,UAAU;AAAA,cAChB;AAAA,cACA,wBAAgB,kCAAkCA,KAAI;AAAA,YACvD;AAAA,QACF;AAAA,MACD,OAAO;AACN,eAAO,UAAU,MAAM,WAAW,wBAAgB,yBAAyB;AAAA,MAC5E;AAAA,IACD,CAAC;AAAA,EACF;AACA,SAAO;AACR;AAMA,SAAS,kBAAkB,MAAM,IAAI;AACpC,QAAM,aAAa,KAAK,MAAM,OAAO;AACrC,QAAM,WAAW,GAAG,MAAM,OAAO;AACjC,aAAW,IAAI;AACf,SAAO,WAAW,CAAC,MAAM,SAAS,CAAC,GAAG;AACrC,eAAW,MAAM;AACjB,aAAS,MAAM;AAAA,EAChB;AACA,MAAI,WAAW,QAAQ;AACtB,QAAI,IAAI,WAAW;AACnB,WAAO;AAAK,iBAAW,CAAC,IAAI;AAAA,EAC7B;AACA,SAAO,WAAW,OAAO,QAAQ,EAAE,KAAK,GAAG;AAC5C;AAGA,SAAS,aAAa,UAAU;AAC/B,SAAO,SAAS,MAAM,OAAO,EAAE,IAAI;AACpC;AAGA,SAAS,8BAA8B,iBAAiB;AACvD,MAAI,CAAC,gBAAgB;AAAU,WAAO;AACtC,SAAO,gBAAgB,iBACpB,kBAAkB,gBAAgB,gBAAgB,gBAAgB,QAAQ,IAC1E,aAAa,gBAAgB,QAAQ;AACzC;;;AUv0DA,IAAM,8BAA8B;AACpC,IAAM,oBAAoB;AAC1B,IAAM,wDAAwD;AAC9D,IAAM,0BAA0B;AAChC,IAAM,2CAA2C;AAKlC,SAAR,uBAAwC,UAAU;AACxD,MAAI,CAAC;AAAU,WAAO;AAEtB,QAAM,QAAQ,SAAS,MAAM,OAAO,EAAE,IAAI,SAAS;AAEnD,MAAI,MAAM,SAAS,GAAG;AACrB,UAAM,cAAc,MAAM,MAAM,SAAS,CAAC,EAAE,MAAM,eAAe;AACjE,QAAI,aAAa;AAChB,YAAM,IAAI;AACV,YAAM,MAAM,SAAS,CAAC,KAAK,YAAY,CAAC;AAAA,IACzC;AAAA,EACD;AAEA,QAAM,OAAO,MACX,IAAI,EACJ,QAAQ,6BAA6B,GAAG,EACxC,QAAQ,mBAAmB,EAAE,EAC7B,QAAQ,uDAAuD,GAAG,EAClE,QAAQ,0CAA0C,IAAI,EACtD,QAAQ,yBAAyB,KAAK;AAExC,MAAI,CAAC,MAAM;AACV,UAAM,IAAI,MAAM,6CAA6C,QAAQ,EAAE;AAAA,EACxE;AAEA,SAAO,KAAK,CAAC,EAAE,YAAY,IAAI,KAAK,MAAM,CAAC;AAC5C;;;AC1BA,IAAM,gBAAgB;AAAA,EACrB;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AACD;AACA,IAAM,mBAAmB,CAAC,MAAM,OAAO,YAAY,YAAY,MAAM;AACrE,IAAM,yBAAyB;AAC/B,IAAM,wCAAwC;AAE9C,IAAI,mBAAmB;AACvB,IAAI,qBAAqB;AAMzB,SAAS,iBAAiB,SAAS,UAAU;AAC5C;AAAA;AAAA,IAAwB,QAAS;AAAA,IAAQ;AACxC,QAAI,CAAC,kBAAkB;AACtB,yBAAmB;AACnB,cAAQ;AAAA,QACP;AAAA,MAED;AAAA,IACD;AACA;AAAA,IAA4B,QAAS;AAAA,EACtC;AAEA,QAAM,EAAE,MAAAY,OAAM,UAAU,kBAAkB,KAAK,WAAW,IAAI,IAAI;AAClE,SAAO,KAAK,OAAO,EAAE,QAAQ,CAAC,QAAQ;AACrC,QAAI,CAAC,cAAc,SAAS,GAAG,GAAG;AACjC,YAAM,QAAQ,WAAW,KAAK,aAAa;AAC3C,UAAI,UAAU,wBAAwB,GAAG;AACzC,UAAI;AAAO,mBAAW,mBAAmB,KAAK;AAC9C,YAAM,IAAI,MAAM,OAAO;AAAA,IACxB;AAAA,EACD,CAAC;AACD,MAAIA,SAAQ,CAAC,uBAAuB,KAAKA,KAAI,GAAG;AAC/C,UAAM,IAAI,MAAM,iDAAiDA,KAAI,IAAI;AAAA,EAC1E;AACA,MAAIA,SAAQ,sCAAsC,KAAKA,KAAI,GAAG;AAC7D,UAAM,UAAU;AAChB,aAAS,KAAK;AAAA,MACb,MAAM;AAAA,MACN;AAAA,MACA;AAAA,MACA,UAAU,MAAM;AAAA,IACjB,CAAC;AAAA,EACF;AACA,MAAI,oBAAoB,CAAC,KAAK;AAC7B,UAAM,UAAU;AAChB,aAAS,KAAK;AAAA,MACb,MAAM;AAAA,MACN;AAAA,MACA;AAAA,MACA,UAAU,MAAM;AAAA,IACjB,CAAC;AAAA,EACF;AAEA,MAAI,QAAQ,QAAQ,QAAQ,OAAO;AAClC,YAAQ,MAAM,QAAQ,OAAO,aAAa;AAC1C,QAAI,CAAC,oBAAoB;AACxB,cAAQ;AAAA,QACP,wDAAwD,QAAQ,GAAG,gBAAgB,GAAG;AAAA,MACvF;AACA,2BAAqB;AAAA,IACtB;AAAA,EACD;AAEA,MAAI,CAAC,iBAAiB,SAAS,QAAQ,GAAG,GAAG;AAC5C,UAAM,IAAI;AAAA,MACT,sEAAsE,QAAQ,GAAG;AAAA,IAClF;AAAA,EACD;AAEA,MAAI,aAAa,iBAAiB,QAAQ,SAAS,MAAM,IAAI;AAC5D,UAAM,QAAQ,WAAW,WAAW,gBAAgB;AACpD,QAAI,OAAO;AACV,YAAM,IAAI,MAAM,sBAAsB,SAAS,oBAAoB,KAAK,KAAK;AAAA,IAC9E,OAAO;AACN,YAAM,IAAI,MAAM,sBAAsB,SAAS,GAAG;AAAA,IACnD;AAAA,EACD;AAEA,MAAI,QAAQ,mBAAmB,QAAW;AACzC,YAAQ,kBAAkB;AAAA,EAC3B;AACD;AASe,SAAR,QAAyB,QAAQ,UAAU,CAAC,GAAG;AACrD,YAAU,OAAO;AAAA,IAChB,EAAE,UAAU,OAAO,KAAK,OAAO,iBAAiB,MAAM,KAAK,WAAW;AAAA,IACtE;AAAA,EACD;AACA,QAAM,QAAQ,IAAI,MAAM;AACxB,QAAM,WAAW,CAAC;AAClB,mBAAiB,SAAS,QAAQ;AAClC,QAAM,MAAM,OAAO;AACnB,QAAM,MAAMC,QAAM,QAAQ,OAAO;AACjC,QAAM,KAAK,OAAO;AAClB,QAAM,MAAM,kBAAkB;AAC9B,QAAM,YAAY,IAAI;AAAA,IACrB;AAAA,IACA;AAAA,IACA,QAAQ,QAAQ,uBAAuB,QAAQ,QAAQ,KAAK;AAAA,IAC5D;AAAA,IACA;AAAA,IACA;AAAA,EACD;AACA,QAAM,KAAK,kBAAkB;AAC7B,QAAM,SACL,QAAQ,aAAa,QAClB,OACA,QAAQ,aAAa,QACrB,IAAW,WAAW,OAAO,IAC7B,IAAW,WAAW,OAAO;AACjC,SAAO,UAAU,SAAS,MAAM;AACjC;;;AC1JA,6BAA0C;AAS1C,SAAS,iCAAiC,WAAW;AACpD,MAAI,0BAA0B;AAC9B,QAAM,qBAAqB,CAAC,CAAC,CAAC;AAC9B,MAAI;AACJ,MAAI;AACJ,MAAI;AACJ,QAAM,aAAa,UAAU,SAC3B,QAAQ,EACR,OAAO,CAAC,KAAK,KAAK,SAAU,IAAI,GAAG,IAAI,KAAM,MAAM,CAAC,CAAC;AACvD,QAAM,WAAW,UAAU,OACzB,QAAQ,EACR,OAAO,CAAC,KAAK,KAAK,SAAU,IAAI,GAAG,IAAI,KAAM,MAAM,CAAC,CAAC;AACvD,QAAM,WAAW,UAAU,UAAU,QAAQ;AAC7C,gBAAc,mBAAmB,CAAC;AAClC,WAAS,IAAI,GAAG,MAAM,SAAS,QAAQ,IAAI,KAAK,KAAK;AACpD,cAAU,SAAS,CAAC;AACpB,QAAI,QAAQ,gBAAgB,yBAAyB;AACpD,aAAO,QAAQ,gBAAgB,yBAAyB;AACvD,2BAAmB,KAAK,CAAC,CAAC;AAC1B;AAAA,MACD;AACA,oBAAc,mBAAmB,QAAQ,gBAAgB,CAAC;AAAA,IAC3D,WAAW,IAAI,GAAG;AACjB,YAAM,mBAAmB,SAAS,IAAI,CAAC;AACvC;AAAA;AAAA,QAEC,QAAQ,oBAAoB,iBAAiB,mBAC7C,QAAQ,mBAAmB,iBAAiB,kBAC5C,QAAQ,SAAS,iBAAiB,QAClC,QAAQ,kBAAkB,iBAAiB,iBAC3C,QAAQ,iBAAiB,iBAAiB,gBAC1C,QAAQ,WAAW,iBAAiB;AAAA,QACnC;AACD;AAAA,MACD;AAAA,IACD;AACA,gBAAY,KAAK,CAAC,QAAQ,eAAe,CAAC;AAC1C,qBAAiB,YAAY,YAAY,SAAS,CAAC;AACnD,QAAI,QAAQ,UAAU,MAAM;AAC3B,qBAAe;AAAA,QACd,GAAG,CAAC,WAAW,QAAQ,MAAM,GAAG,QAAQ,eAAe,GAAG,QAAQ,cAAc;AAAA,MACjF;AACA,UAAI,QAAQ,QAAQ,MAAM;AACzB,uBAAe,KAAK,SAAS,QAAQ,IAAI,CAAC;AAAA,MAC3C;AAAA,IACD;AAAA,EACD;AACA,QAAM,MAAM;AAAA,IACX,SAAS,UAAU;AAAA,IACnB,SAAS,UAAU,SAAS,QAAQ;AAAA,IACpC,OAAO,UAAU,OAAO,QAAQ;AAAA,IAChC,UAAU;AAAA,EACX;AACA,MAAI,UAAU,SAAS,MAAM;AAC5B,QAAI,OAAO,UAAU;AAAA,EACtB;AAEA,SAAO;AACR;AAKO,SAAS,WAAW,WAAW;AACrC,MAAI,cAAc,OAAO,UAAU,QAAQ,WAAW,KAAK,MAAM,UAAU,GAAG,IAAI,UAAU;AAC5F,MAAI,OAAO,YAAY,aAAa,UAAU;AAC7C,gBAAY,eAAW,uBAAAC,QAAgB,YAAY,QAAQ;AAAA,EAC5D;AACA,MAAI,YAAY,aAAa,YAAY,YAAY,SAAS,sBAAsB;AAEnF,kBAAc,iCAAiC,WAAW;AAAA,EAC3D;AACA,SAAO;AACR;;;AC1EO,SAAS,aAAa,YAAY,QAAQ,EAAE,eAAe,UAAU,aAAa,GAAG;AAC3F,SAAO;AAAA,IACN,QAAQ;AAAA,IACR,cAAc,CAAC,UAAU,aAAa,QAAQ,MAAM;AAAA,IACpD;AAAA,IACA;AAAA,EACD;AACD;AAOA,SAAS,uBAAuB,IAAI,iBAAiB,QAAQ;AAI5D,QAAM,eAAe,CAAC;AACtB,SAAO,QAAQ,IAAI,IAAI,UAAU;AAChC,iBAAa;AAAA,MACZ,gBAAgB,GAAG,KAAK,EAAE,KAAK,CAAC,gBAAgB;AAC/C,cAAM,iBAAiB,MAAM,CAAC;AAC9B,cAAM,SAAS,MAAM,MAAM,SAAS,CAAC;AACrC,eAAO,EAAE,QAAQ,QAAQ,eAAe,QAAQ,YAAY;AAAA,MAC7D,CAAC;AAAA,IACF;AACA,WAAO;AAAA,EACR,CAAC;AACD,SAAO,QAAQ,IAAI,YAAY;AAChC;AAOA,SAAS,qBAAqB,cAAc,QAAQ;AACnD,QAAM,MAAM,IAAI,WAAW;AAC3B,MAAI,WAAW;AACf,aAAW,EAAE,QAAQ,QAAQ,YAAY,KAAK,cAAc;AAC3D,UAAM,mBAAmB,WAAW;AAAA,MACnC,aAAa,OAAO,OAAO,MAAM,UAAU,MAAM,GAAG,UAAU,MAAM;AAAA,IACrE;AACA,QAAI,OAAO,gBAAgB,EAAE,OAAO,WAAW;AAC/C,eAAW,SAAS;AAAA,EACrB;AACA,QAAM,mBAAmB,WAAW;AAAA,IACnC,aAAa,OAAO,OAAO,MAAM,QAAQ,GAAG,UAAU,MAAM;AAAA,EAC7D;AACA,SAAO,IAAI,OAAO,gBAAgB;AACnC;AAQA,eAAsB,gBAAgB,OAAO,iBAAiB,UAAU;AACvE,QAAM,eAAe,MAAM,uBAAuB,OAAO,iBAAiB,SAAS,MAAM;AACzF,SAAO,qBAAqB,cAAc,QAAQ;AACnD;;;AC5DA,IAAM,2BAA2B;AAKjC,SAAS,kBAAkB,UAAU;AACpC,SAAO,SAAS,MAAM,wBAAwB,EAAE,IAAI;AACrD;AAKA,IAAM,mBAAN,MAAuB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAqCtB,YAAY,QAAQ,UAAU;AAnC9B;AAAA;AAEA;AAAA;AAUA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0CAAiB,CAAC;AAMlB;AAAA;AAAA;AAAA;AAAA,wCAAe,CAAC;AAKhB;AAAA;AAAA;AAAA;AAKA;AAAA;AAAA;AAAA;AAQC,SAAK,SAAS;AACd,SAAK,WAAW;AAChB,SAAK,cAAc,EAAE,QAAQ,OAAO,CAAC;AAErC,SAAK,gBAAgB,YAAY,OAAO,OAAO,kBAAkB,QAAQ;AAAA,EAC1E;AAAA;AAAA;AAAA;AAAA,EAKA,cAAc,EAAE,QAAQ,QAAQ,KAAK,aAAa,GAAG;AACpD,QAAI,UAAU,MAAM;AACnB,WAAK,SAAS;AACd,WAAK,eAAe,WAAW,MAAM;AAAA,IACtC;AACA,QAAI,KAAK;AACR,WAAK,eAAe,QAAQ,GAAG;AAAA,IAChC;AACA,QAAI,cAAc;AACjB,WAAK,aAAa,KAAK,GAAG,YAAY;AAAA,IACvC;AAAA,EACD;AAAA;AAAA;AAAA;AAAA,EAKA,eAAe;AAEd,UAAM,MAAM,mBAAmB,KAAK,eAAe,KAAK,cAAc;AACtE,WAAO;AAAA;AAAA;AAAA;AAAA;AAAA,MAKN,MAAM,KAAK;AAAA,MACX,cAAc,CAAC,GAAG,IAAI,IAAI,KAAK,YAAY,CAAC;AAAA,MAC5C;AAAA,MACA,UAAU,MAAM,KAAK;AAAA,IACtB;AAAA,EACD;AACD;AAQA,SAAS,0BAA0B,WAAW,UAAU,eAAe;AAMtE,MAAI;AACJ,MAAI,UAAU,KAAK;AAClB,kBAAc,WAAW,SAAS;AAElC,QAAI,YAAY,SAAS;AAExB,YAAM,eAAe,YAAY,QAAQ,QAAQ,aAAa;AAC9D,UAAI,iBAAiB,IAAI;AACxB,6BAAqB,aAAa,UAAU,YAAY;AAAA,MACzD;AAAA,IACD;AAAA,EACD;AACA,SAAO,WAAW,eAAe,UAAU,MAAM,WAAW;AAC7D;AAWA,SAAS,sBACR,WACA,UACA,qBACA,sBACA,QACC;AACD,QAAM,EAAE,eAAe,aAAa,IAAI;AAMxC,QAAM,oBAAoB,CAAC,MAAM,WAChC,WAAW,YAAY,aAAa,MAAM,QAAQ,MAAM,CAAC;AAK1D,QAAM,oBAAoB,IAAI,QAAQ,GAAG,mBAAmB;AAC5D,QAAM,WAAW,IAAI,QAAQ,GAAG,oBAAoB;AAEpD,MAAI;AAEJ,MAAI,kBAAkB,WAAW,SAAS,QAAQ;AAGjD,UAAM,WAAW;AAAA,MAChB;AAAA;AAAA,QAEC,CAAC,GAAG,GAAG,GAAG,CAAC;AAAA;AAAA,QAEX,CAAC,IAAI,QAAQ,GAAG,QAAQ,GAAG,GAAG,IAAI,QAAQ,GAAG,MAAM;AAAA,MACpD;AAAA,IACD;AAEA,UAAM,OAAO,SAAS,MAAM,IAAI,EAAE,SAAS;AAC3C,UAAM,SAAS,SAAS,UAAU,SAAS,IAAI,IAAI,SAAS,YAAY,IAAI,KAAK;AAEjF,WAAO,SAAS,UAAU,MAAM;AAE/B,eAAS,KAAK,CAAC,CAAC,GAAG,GAAG,GAAG,IAAI,QAAQ,GAAG,MAAM,CAAC,CAAC;AAAA,IACjD;AAGA,aAAS,IAAI,EAAE,KAAK;AAAA,MACnB;AAAA,MACA;AAAA,MACA,kBAAkB,MAAM,IAAI,EAAE,SAAS;AAAA,MACvC,kBAAkB,SAAS,kBAAkB,YAAY,IAAI,IAAI;AAAA,IAClE,CAAC;AAGD,UAAM,MAAM;AAAA,MACX,SAAS;AAAA,MACT,OAAO,CAAC;AAAA,MACR,SAAS,CAAC,aAAa;AAAA,MACvB;AAAA,IACD;AACA,yBAAqB,KAAK,aAAa,CAAC,GAAG,CAAC;AAC5C,oBAAgB,WAAW,eAAe,UAAU,GAAG;AAAA,EACxD,OAAO;AACN,oBAAgB,kBAAkB,UAAU,CAAC;AAAA,EAC9C;AAEA,QAAM,YAAY,KAAK,QAAQ;AAC/B,QAAM,iBAAiB;AAAA,IACtB;AAAA,IACA,kBAAkB,SAAS,OAAO,OAAO;AAAA,EAC1C;AAEA,2BAAyB,WAAW,QAAQ;AAC5C,QAAM,eAAe;AAAA,IACpB;AAAA,IACA,aAAa,kBAAkB,MAAM;AAAA,IACrC;AAAA,EACD;AAEA,SAAO,cAAc,OAAO,YAAY,EAAE,OAAO,cAAc;AAChE;AAEA,IAAM,oBAAoB;AAK1B,SAAS,qBAAqB,KAAK;AAElC,QAAM,QAAQ,CAAC;AAGf,MAAI;AACJ,UAAQ,QAAQ,kBAAkB,KAAK,GAAG,OAAO,MAAM;AACtD,UAAMC,QAAO,MAAM,CAAC;AACpB,UAAM,QAAQ,MAAM,CAAC,KAAK,MAAM,CAAC,KAAK,MAAM,CAAC;AAC7C,UAAMA,KAAI,IAAI,CAAC,SAAS;AAAA,EACzB;AAEA,SAAO;AACR;AAKA,SAAS,yBAAyB,YAAY;AAC7C,MAAI,CAAC;AAAY;AAEjB,MAAI,QAAQ,OAAO,QAAQ,UAAU,EACnC,IAAI,CAAC,CAAC,KAAKC,MAAK,MAAOA,WAAU,OAAO,MAAM,GAAG,GAAG,KAAKA,MAAK,GAAI,EAClE,KAAK,GAAG;AACV,MAAI,OAAO;AACV,YAAQ,MAAM;AAAA,EACf;AACA,SAAO;AACR;AAEA,IAAM,mBACL;AACD,IAAM,oBACL;AASD,eAAe,YAAY,UAAU,cAAc,QAAQ;AAC1D,QAAM,EAAE,UAAU,QAAQ,OAAO,IAAI;AACrC,QAAM,YAAY,aAAa,UAAU,mBAAmB;AAK5D,QAAM,eAAe,CAAC;AAOtB,iBAAe,mBAAmB,kBAAkB,aAAa,IAAI,UAAU,IAAI,YAAY;AAC9F,UAAM,YAAY,MACjB,WAAW,YAAY,aAAa,kBAAkB,YAAY,MAAM,CAAC;AAC1E,QAAI,CAAC,cAAc,CAAC;AAAS,aAAO,UAAU;AAC9C,UAAM,YAAY,MAAM,aAAa;AAAA,MACpC,SAAS,WAAW;AAAA,MACpB,YAAY,qBAAqB,cAAc,EAAE;AAAA,MACjD;AAAA,MACA;AAAA,IACD,CAAC;AACD,QAAI,CAAC;AAAW,aAAO,UAAU;AACjC,QAAI,UAAU;AAAc,mBAAa,KAAK,GAAG,UAAU,YAAY;AACvE,QAAI,CAAC,UAAU,OAAO,UAAU,SAAS;AAAS,aAAO,UAAU;AACnE,WAAO;AAAA,MACN;AAAA,MACA;AAAA,MACA;AAAA,MACA,yBAAyB,UAAU,UAAU,KAAK;AAAA,MAClD,aAAa,SAAS,YAAY,MAAM;AAAA,IACzC;AAAA,EACD;AACA,QAAM,EAAE,QAAQ,IAAI,IAAI,MAAM,gBAAgB,WAAW,oBAAoB,MAAM;AACnF,SAAO,EAAE,QAAQ,KAAK,aAAa;AACpC;AAMA,eAAe,eAAeC,UAAS,QAAQ;AAC9C,QAAM,YAAY,MAAMA,SAAQ;AAAA,IAC/B,SAAS,OAAO;AAAA,IAChB,UAAU,OAAO;AAAA,EAClB,CAAC;AACD,MAAI,WAAW;AACd,WAAO;AAAA,MACN,QAAQ,UAAU;AAAA,MAClB,KAAK,UAAU;AAAA;AAAA,QAEZ,OAAO,UAAU,QAAQ,WACxB,KAAK,MAAM,UAAU,GAAG,IACxB,UAAU;AAAA,UACX;AAAA,MACH,cAAc,UAAU;AAAA,IACzB;AAAA,EACD,OAAO;AACN,WAAO,CAAC;AAAA,EACT;AACD;AAYA,eAAO,WAAkC,QAAQ,cAAc,SAAS;AAIvE,QAAM,WAAY,WAAW,QAAQ;AAAA,EAAiC,aAAc;AACpF,QAAM,gBAAgB,eACnB,MAAM,QAAQ,YAAY,IACzB,eACA,CAAC,YAAY,IACd,CAAC;AACJ,QAAM,SAAS,IAAI,iBAAiB,QAAQ,QAAQ;AAIpD,aAAWC,iBAAgB,eAAe;AACzC,QAAIA,cAAa,QAAQ;AACxB,aAAO,cAAc,MAAM,eAAeA,cAAa,QAAQ,MAAM,CAAC;AAAA,IACvE;AACA,QAAIA,cAAa,QAAQ;AACxB,aAAO,cAAc,MAAM,YAAY,UAAUA,cAAa,QAAQ,MAAM,CAAC;AAAA,IAC9E;AACA,QAAIA,cAAa,OAAO;AACvB,aAAO,cAAc,MAAM,YAAY,SAASA,cAAa,OAAO,MAAM,CAAC;AAAA,IAC5E;AAAA,EACD;AAEA,SAAO,OAAO,aAAa;AAC5B;",
  "names": ["text", "x", "name", "b", "i", "name", "parse", "parse", "parse", "parse", "generate", "name", "parse", "structure", "name", "structure", "parse", "Number", "Function", "generate", "generate", "name", "parse", "structure", "name", "structure", "parse", "Function", "generate", "generate", "name", "parse", "structure", "name", "structure", "parse", "generate", "generate", "name", "parse", "structure", "name", "structure", "parse", "Number", "Function", "generate", "generate", "name", "parse", "structure", "name", "structure", "parse", "Number", "Function", "generate", "generate", "name", "parse", "structure", "name", "structure", "parse", "generate", "parse", "parse", "error", "b", "html", "name", "error", "start", "fragment", "value", "index", "code", "error", "block", "name", "error", "error", "code", "parse", "i", "name", "properties", "noop", "locate", "name", "name", "handlers", "to_string", "name", "name", "b", "i", "name", "node", "invalidate", "x", "name", "name", "name", "owner", "node", "function_expression", "parent", "dependencies", "node", "name", "name", "parent", "regex_contains_term_function_expression", "Comment", "child", "name", "html", "b", "regex_non_whitespace_characters", "name", "hash", "import_aria_query", "roles_map", "name", "roles", "aria_roles", "name", "valid_modifiers", "b", "handlers", "role", "attribute", "node", "name", "get_namespace", "i", "name", "valid_bindings", "Comment", "tag", "node", "name", "name", "name", "get_context", "is_dynamic", "handlers", "properties", "name", "events", "name", "string_literal", "name", "regex_minus_sign", "regex_invalid_variable_identifier_characters", "name", "should_cache", "is_indirectly_bound_value", "is_dynamic", "escaped", "name", "name", "dep", "block", "binding_group", "b", "name", "Tag", "Tag", "Tag", "is_svg", "string_literal", "name", "regex_invalid_variable_identifier_characters", "tag", "text", "b", "should_cache", "wrappers", "should_cache", "node", "is_dynamic", "branch", "block", "name", "name", "properties", "name", "name", "get_context", "regex_invalid_variable_identifier_characters", "name", "initial_props", "snippet", "should_cache", "name", "dynamic_dependencies", "is_dynamic", "associated_events", "readonly", "events", "name", "Wrapper", "b", "i", "name", "member", "remapping", "name", "block", "_a", "_b", "get_const_tags", "get_const_tags", "get_const_tags", "trimmable_at", "name", "children", "get_const_tags", "p", "name", "get_const_tags", "text", "Renderer", "name", "Renderer", "name", "name", "b", "x", "node", "attr", "block", "name", "Block", "name", "node", "hash", "name", "name", "variable", "node", "parent", "scope", "map", "index", "declaration", "tag", "get_value", "attribute", "error", "name", "parse", "decode_mappings", "name", "value", "process", "preprocessor"]
}
