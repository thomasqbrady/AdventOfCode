{
  "version": 3,
  "sources": ["../../locate-character/src/index.js"],
  "sourcesContent": ["/** @typedef {import('./types').Location} Location */\n\n/**\n * @param {import('./types').Range} range\n * @param {number} index\n */\nfunction rangeContains(range, index) {\n\treturn range.start <= index && index < range.end;\n}\n\n/**\n * @param {string} source\n * @param {import('./types').Options} [options]\n */\nexport function getLocator(source, options = {}) {\n\tconst { offsetLine = 0, offsetColumn = 0 } = options;\n\n\tlet start = 0;\n\tconst ranges = source.split('\\n').map((line, i) => {\n\t\tconst end = start + line.length + 1;\n\n\t\t/** @type {import('./types').Range} */\n\t\tconst range = { start, end, line: i };\n\n\t\tstart = end;\n\t\treturn range;\n\t});\n\n\tlet i = 0;\n\n\t/**\n\t * @param {string | number} search\n\t * @param {number} [index]\n\t * @returns {Location | undefined}\n\t */\n\tfunction locator(search, index) {\n\t\tif (typeof search === 'string') {\n\t\t\tsearch = source.indexOf(search, index ?? 0);\n\t\t}\n\n\t\tif (search === -1) return undefined;\n\n\t\tlet range = ranges[i];\n\n\t\tconst d = search >= range.end ? 1 : -1;\n\n\t\twhile (range) {\n\t\t\tif (rangeContains(range, search)) {\n\t\t\t\treturn {\n\t\t\t\t\tline: offsetLine + range.line,\n\t\t\t\t\tcolumn: offsetColumn + search - range.start,\n\t\t\t\t\tcharacter: search\n\t\t\t\t};\n\t\t\t}\n\n\t\t\ti += d;\n\t\t\trange = ranges[i];\n\t\t}\n\t}\n\n\treturn locator;\n}\n\n/**\n * @param {string} source\n * @param {string | number} search\n * @param {import('./types').Options} [options]\n * @returns {Location | undefined}\n */\nexport function locate(source, search, options) {\n\treturn getLocator(source, options)(search, options && options.startIndex);\n}\n"],
  "mappings": ";AAMA,SAAS,cAAc,OAAO,OAAO;AACpC,SAAO,MAAM,SAAS,SAAS,QAAQ,MAAM;AAC9C;AAMO,SAAS,WAAW,QAAQ,UAAU,CAAC,GAAG;AAChD,QAAM,EAAE,aAAa,GAAG,eAAe,EAAE,IAAI;AAE7C,MAAI,QAAQ;AACZ,QAAM,SAAS,OAAO,MAAM,IAAI,EAAE,IAAI,CAAC,MAAMA,OAAM;AAClD,UAAM,MAAM,QAAQ,KAAK,SAAS;AAGlC,UAAM,QAAQ,EAAE,OAAO,KAAK,MAAMA,GAAE;AAEpC,YAAQ;AACR,WAAO;AAAA,EACR,CAAC;AAED,MAAI,IAAI;AAOR,WAAS,QAAQ,QAAQ,OAAO;AAC/B,QAAI,OAAO,WAAW,UAAU;AAC/B,eAAS,OAAO,QAAQ,QAAQ,SAAS,CAAC;AAAA,IAC3C;AAEA,QAAI,WAAW;AAAI,aAAO;AAE1B,QAAI,QAAQ,OAAO,CAAC;AAEpB,UAAM,IAAI,UAAU,MAAM,MAAM,IAAI;AAEpC,WAAO,OAAO;AACb,UAAI,cAAc,OAAO,MAAM,GAAG;AACjC,eAAO;AAAA,UACN,MAAM,aAAa,MAAM;AAAA,UACzB,QAAQ,eAAe,SAAS,MAAM;AAAA,UACtC,WAAW;AAAA,QACZ;AAAA,MACD;AAEA,WAAK;AACL,cAAQ,OAAO,CAAC;AAAA,IACjB;AAAA,EACD;AAEA,SAAO;AACR;AAQO,SAAS,OAAO,QAAQ,QAAQ,SAAS;AAC/C,SAAO,WAAW,QAAQ,OAAO,EAAE,QAAQ,WAAW,QAAQ,UAAU;AACzE;",
  "names": ["i"]
}
